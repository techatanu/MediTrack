!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("@fiverr-private/theme"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom"));else if("function"==typeof define&&define.amd)define(["@fiverr-private/theme","axios","classnames","lodash","prop-types","react","react-dom"],t);else{var r="object"==typeof exports?t(require("@fiverr-private/theme"),require("axios"),require("classnames"),require("lodash"),require("prop-types"),require("react"),require("react-dom")):t(e.theme,e.axios,e.classNames,e._,e.PropTypes,e.React17,e.ReactDOM17);for(var o in r)("object"==typeof exports?exports:e)[o]=r[o]}}(self,((e,t,r,o,n,a,i)=>(()=>{"use strict";var s,c,l={"/jHP":e=>{e.exports=t},"4LQx":e=>{e.exports=i},"9hz2":(e,t,r)=>{r.d(t,{A:()=>n});var o=r("yHGu");const n="undefined"!=typeof window&&"undefined"!=typeof document?o.useLayoutEffect:o.useEffect},"A41/":(e,t,r)=>{r.d(t,{A:()=>i});var o=r("oRSs");const n=["count","time","gauge","set","histogram"],a=n.reduce(((e,t)=>Object.assign(e,{[t]:function(e,r,n){let{rate:a,tags:i,enforceRate:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object.entries({prefix:e,metric:r}).forEach(((e,t)=>{let[r,o]=e;if("string"!=typeof o||!o)throw new TypeError("Expected argument ".concat(t," (").concat(r,") to be a string. Instead got ").concat(typeof o," (").concat(o,")"))}));const c=[e,r].join(".");return o.g.deferred("OBS::STATS",{type:t,key:c,value:n,rate:a,tags:i,enforceRate:s})}})),{});Object.defineProperty(a,"prefix",{value:e=>n.reduce(((t,r)=>Object.assign(t,{[r]:a[r].bind(a,e)})),{})});const i=a},AIpY:(e,t,r)=>{r.d(t,{A:()=>a});var o=r("yHGu"),n=r("9hz2");const a=e=>{const t=(0,o.useRef)(e);return(0,n.A)((()=>{t.current=e})),t}},"IX+1":e=>{e.exports=r},JjgO:e=>{e.exports=n},Jt0T:t=>{t.exports=e},LomL:(e,t,r)=>{const{DEFAULT_LOCALE:o}=r("phzZ");t.A={locale:o,computedLocale:o,userId:0,country:"",countryCode:"",pageCtxId:"",isPro:!1,abTests:{},userAgent:"",knownCrawler:!1,csrfToken:"",browserLanguage:"",currency:"",pathParameters:{},queryParameters:{},userGuid:"",url:"",ip:"",referrer:"",organizationId:"",experience:{isBuyer:!1,isSeller:!1,isBusiness:!1,value:""},isMobile:!1,isTouch:!1,isIos:!1}},gECF:(e,t,r)=>{r.d(t,{Bd:()=>i,Nl:()=>d,O4:()=>f,Oc:()=>s,gv:()=>l,mD:()=>u,oB:()=>c,qT:()=>p});var o=r("luq0"),n=r("A41/"),a=r("yk27");const i=e=>{let{metric:t,source:r,status:i}=e;n.A.count("".concat(a.H,".service.").concat(t,".").concat(i),(0,o.snakeCase)(r||"source_undefined"))},s=e=>{let{metric:t,type:r,source:i}=e;n.A.count("".concat(a.H,".").concat(t,".").concat((0,o.camelCase)(r)),(0,o.snakeCase)(i||"source_undefined"))},c=e=>{let{metric:t,type:r,source:o}=e;s({metric:"trigger.".concat(t),type:r,source:o})},l=e=>{let{type:t,source:r}=e;c({metric:"call",type:t,source:r})},u=e=>{let{type:t,source:r}=e;c({metric:"shown",type:t,source:r})},d=e=>{let{type:t,source:r}=e;c({metric:"not_mounted",type:t,source:r})},f=e=>{let{success:t,type:r,source:o}=e;s({metric:"user_migrated.".concat(t?"success":"error"),type:r,source:o})},p=e=>{let{success:t,type:r,source:o}=e;s({metric:"user_invited.".concat(t?"success":"error"),type:r,source:o})}},luq0:e=>{e.exports=o},oRSs:(e,t,r)=>{r.d(t,{g:()=>s});const o="object"==typeof window&&window.window===window&&window||"object"==typeof r.g&&r.g.global===r.g&&r.g||"object"==typeof self&&self.self===self&&self,n=Symbol(),a=Symbol();const i=Symbol.for("globalEventBus"),s=o[i]=o[i]||new class{constructor(){let{log:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this[n]=new Map,this[a]=e?[]:null}on(e,t){let r=this[n].get(e);r||(this[n].set(e,new Set),r=this[n].get(e)),r.add(t)}once(e,t){var r=this;const o=function(){r.off(e,o),t(...arguments)};this.on(e,o)}one(e,t){this.has(e)||this.on(e,t)}has(e){return this[n].has(e)}off(e,t){if(!this[n].has(e))return;if(void 0===t)return void this[n].delete(e);const r=this[n].get(e);r.delete(t),0===r.size&&this[n].delete(e)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];const i=this[n].get(e);null!==this[a]&&this[a].push({event:e,args:r}),i&&i.forEach((e=>{e(...r)}))}deferred(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return Promise.resolve().then((()=>{this.emit(e,...r)}))}get log(){return this[a]}clearLog(){null!==this[a]&&(this[a]=[])}}},p8c2:(e,t,r)=>{r.d(t,{q:()=>o});var o=function(e){return e.FullMigration="full_migration",e.SeamlessRegistration="seamless:after_registration",e.SeamlessCollaboration="seamless:by_collaboration_need",e.SeamlessProjectPartner="seamless:by_project_partner_need",e.HeadlessSeamlessMigration="seamless:headless_migration",e.SeamlessPayment="seamless:by_payment_need",e.SeamlessHourly="seamless:by_hourly_need",e.SeamlessLoyalty="seamless:by_loyalty_need",e.SeamlessMoneyBack="seamless:by_money_back_need",e.SeamlessCustomOfferMoneyBack="seamless:custom_offer_by_money_back",e.SeamlessCustomOfferRewardsProgram="seamless:custom_offer_by_rewards_program",e.SeamlessUpgradeToPro="seamless:upgrade_to_pro",e.LoyaltyUpgradeToPro="loyalty:upgrade_to_pro",e}({})},phzZ:(e,t)=>{t.DEFAULT_LOCALE="en-US"},u0K9:(e,t,r)=>{r.d(t,{A:()=>p});var o=r("oRSs");const n="OBS::LOGGER",a="debug",i="verbose",s="info",c="warn",l="error",u="critical",d=[a,i,s,c,l,u],f=d.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.g.deferred(n,{entity:e,enrichments:r,level:t})}})),{});Object.defineProperty(f,"force",{value:d.reduce(((e,t)=>Object.assign(e,{[t]:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.g.deferred(n,{entity:e,enrichments:r,level:t,force:true})}})),{})});const p=f},w1pA:(e,t,r)=>{r.d(t,{A:()=>n});var o=r("oRSs");const n=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.g.deferred(e,{events:r})}},wyFz:(e,t,r)=>{r.d(t,{A:()=>s});var o=r("luq0"),n=r.n(o),a=r("u0K9"),i=r("LomL");const s=()=>{const e=n().get(window,"initialData.FiverrContext");return e||(a.A.error({message:"Browser context does not exist, please ensure the run time owner sets one on the window scope before using this API"}),i.A)}},yDff:(e,t,r)=>{r.d(t,{A:()=>d});var o=r("yHGu"),n=r.n(o),a=r("luq0"),i=r("AIpY");function s(e,t,r,o,n,a,i){try{var s=e[a](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(o,n)}const c=()=>null,l=()=>{},u=e=>{var t;let{lazyImport:r,shouldImport:u=!0,fallback:d=n().createElement(c,null),placeholder:f=n().createElement(c,null),beforeLoad:p=l,afterLoad:m=l,onError:y=l,componentProps:b}=e;const[g,h]=(0,o.useState)(!0),v=(0,o.useRef)(null),w=!(0,a.isNil)(v.current),S=w?null===(t=v.current)||void 0===t?void 0:t.default:null,O=(0,i.A)(r),E=(0,i.A)({beforeLoad:p,afterLoad:m,onError:y});return(0,o.useEffect)((()=>{u&&!w&&function(){var e,t=(e=function*(){try{E.current.beforeLoad(),v.current=yield O.current(),E.current.afterLoad()}catch(e){E.current.onError(e)}h(!1)},function(){var t=this,r=arguments;return new Promise((function(o,n){var a=e.apply(t,r);function i(e){s(a,o,n,i,c,"next",e)}function c(e){s(a,o,n,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}()()}),[u,w,E,O]),g?f:S?n().createElement(S,b):d};u.displayName="LazyComponent";const d=u},yHGu:e=>{e.exports=a},yk27:(e,t,r)=>{r.d(t,{H:()=>o,_:()=>n});const o="pro_migration",n={EntryPointModalIsShown:"fip_registration_entry_point_pop_up_is_shown",ClickedEntryPointStart:"clicked_on_fip_registration_entry_point_start",ClickedEntryPointClose:"clicked_on_fip_registration_entry_point_close"}}},u={};function d(e){var t=u[e];if(void 0!==t)return t.exports;var r=u[e]={exports:{}};return l[e](r,r.exports,d),r.exports}d.m=l,d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var r in t)d.o(t,r)&&!d.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},d.f={},d.e=e=>Promise.all(Object.keys(d.f).reduce(((t,r)=>(d.f[r](e,t),t)),[])),d.u=e=>({46:"BadgeTooltipV1",98:"AcquisitionFlowSeamlessProRegistrationView",110:"LazySeamlessLoadingStep",144:"SeamlessProRegistrationModal",157:"SeamlessRewardsProgramCustomOfferModal",180:"SeamlessCollaborationModal",184:"HeadlessSeamlessMigrationModal",186:"SeamlessMoneyBackModal",378:"LoyaltyUpgradeToProModal",481:"SeamlessUpgradeToProModal",540:"SeamlessHourlyModal",683:"SeamlessMoneyBackCustomOfferModal",763:"LazySeamlessInvitationStep",911:"SeamlessLoyaltyModal"}[e]+"."+{46:"ee4a008faf219f7b7629",98:"33413091aaec3a4314e1",110:"0fb1b0da6736677d4448",144:"0de1acc2e3d38ca5956a",157:"6768677ae089ea50ea40",180:"d937c101d329279f91c3",184:"a39e2ecd122aba919154",186:"69bb4ccb9ac70db8b277",378:"f7e9fed478d11cae18f2",481:"1cf49018ffe57536f836",540:"bcb4e2bd993a40136dbe",683:"4c4326a9686de29d29cb",763:"f1e4c8fd0fdc6270ffee",911:"acfc17a76f691214e28b"}[e]+".js"),d.miniCssF=e=>({98:"AcquisitionFlowSeamlessProRegistrationView",110:"LazySeamlessLoadingStep",144:"SeamlessProRegistrationModal",157:"SeamlessRewardsProgramCustomOfferModal",180:"SeamlessCollaborationModal",184:"HeadlessSeamlessMigrationModal",186:"SeamlessMoneyBackModal",378:"LoyaltyUpgradeToProModal",481:"SeamlessUpgradeToProModal",540:"SeamlessHourlyModal",683:"SeamlessMoneyBackCustomOfferModal",763:"LazySeamlessInvitationStep",911:"SeamlessLoyaltyModal"}[e]+"."+{98:"d53ada25618f52e97974",110:"ee0a688a2ad76b681c26",144:"7dee3fcab2945126fc2d",157:"977e1dc2e10bd2b7c092",180:"977e1dc2e10bd2b7c092",184:"970bea4873e5b6f8d4b4",186:"977e1dc2e10bd2b7c092",378:"0d7827b1da02b766e8e2",481:"977e1dc2e10bd2b7c092",540:"977e1dc2e10bd2b7c092",683:"977e1dc2e10bd2b7c092",763:"f3f9e6da47c4d146a54e",911:"977e1dc2e10bd2b7c092"}[e]+".css"),d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},c="@fiverr-private/layout-fib-user-migration-component:",d.l=(e,t,r,o)=>{if(s[e])s[e].push(t);else{var n,a;if(void 0!==r)for(var i=document.getElementsByTagName("script"),l=0;l<i.length;l++){var u=i[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==c+r){n=u;break}}n||(a=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,d.nc&&n.setAttribute("nonce",d.nc),n.setAttribute("data-webpack",c+r),n.src=e,0!==n.src.indexOf(window.location.origin+"/")&&(n.crossOrigin="anonymous")),s[e]=[t];var f=(t,r)=>{n.onerror=n.onload=null,clearTimeout(p);var o=s[e];if(delete s[e],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=f.bind(null,n.onerror),n.onload=f.bind(null,n.onload),a&&document.head.appendChild(n)}},d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="https://npm-assets.fiverrcdn.com/assets/layout-service/",(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,r)=>{var o=d.miniCssF(e),n=d.p+o;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var n=(i=r[o]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(n===e||n===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){var i;if((n=(i=a[o]).getAttribute("data-href"))===e||n===t)return i}})(o,n))return t();((e,t,r,o,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",d.nc&&(a.nonce=d.nc),a.onerror=a.onload=r=>{if(a.onerror=a.onload=null,"load"===r.type)o();else{var i=r&&r.type,s=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=s,a.parentNode&&a.parentNode.removeChild(a),n(c)}},a.href=t,0!==a.href.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous"),r?r.parentNode.insertBefore(a,r.nextSibling):document.head.appendChild(a)})(e,n,null,t,r)})),t={292:0};d.f.miniCss=(r,o)=>{t[r]?o.push(t[r]):0!==t[r]&&{98:1,110:1,144:1,157:1,180:1,184:1,186:1,378:1,481:1,540:1,683:1,763:1,911:1}[r]&&o.push(t[r]=e(r).then((()=>{t[r]=0}),(e=>{throw delete t[r],e})))}}})(),(()=>{var e={292:0};d.f.j=(t,r)=>{var o=d.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,n)=>o=e[t]=[r,n]));r.push(o[2]=n);var a=d.p+d.u(t),i=new Error;d.l(a,(r=>{if(d.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",i.name="ChunkLoadError",i.type=n,i.request=a,o[1](i)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,n,[a,i,s]=r,c=0;if(a.some((t=>0!==e[t]))){for(o in i)d.o(i,o)&&(d.m[o]=i[o]);if(s)s(d)}for(t&&t(r);c<a.length;c++)n=a[c],d.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunk_fiverr_private_layout_fib_user_migration_component=self.webpackChunk_fiverr_private_layout_fib_user_migration_component||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var f={};d.r(f),d.d(f,{default:()=>ge});var p=d("yHGu"),m=d.n(p),y=d("4LQx"),b=d.n(y),g=d("luq0"),h=d("u0K9"),v=d("A41/"),w=d("w1pA");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=e=>{return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:e.type,name:e.name,created_at:new Date(e.createdAt).toISOString(),duration:e.duration||null,value:e.value||null},{context_id:(t=e.context).id,user_id:t.userId.toString(),country_code:t.countryCode,browser:t.browserName,locale:t.locale,currency:t.currency,platform:t.platform});var t},_=(0,w.A)("OBS::BIG_QUERY_MONICORE"),P="monicore",A="mobile_web",j="web";class M extends Error{constructor(e){super(e),this.name="ContextNotFoundError"}}var C=d("wyFz");const k="_monicore_spans",L=()=>{const{pageCtxId:e,userId:t,countryCode:r,locale:o,isMobile:n,currency:a}=(0,C.A)();return{id:e||"",userId:t||"",countryCode:r||"",locale:o||"",currency:a||"",platform:n?A:j}},x=Date.now(),q=window.performance&&window.performance.now?window.performance:{now:()=>Date.now()-x,timeOrigin:x},R="event",T="error",N="measure",D=[R,T],B="START_SPAN_ERROR",I="END_SPAN_ERROR",F="ADD_EVENT_ERROR",H="ADD_ERROR_ERROR",z=()=>q.now()+(()=>{let e=q.timeOrigin;return"number"!=typeof e&&(e=q.timing&&q.timing.navigationStart),e})(),U=e=>!(!(0,g.isUndefined)(e)&&!(0,g.isString)(e))||(h.A.error("Expected value to be a string. Instead got a ".concat(typeof e),{caughtBy:P,value:e}),!1),G=e=>!(!(0,g.isString)(e)||(0,g.isEmpty)(e))||(h.A.error("Expected name to be a string. Instead got a ".concat(typeof e),{caughtBy:P,name:e}),!1),K=()=>{v.A.count("monicore","context_not_found")},V=e=>(e=>{e.context.isKnownCrawler||_(E(e))})(e),Q=e=>{if(G(e))try{((e,t)=>{window[k]||(window[k]={}),window[k][e]=t})(e,z())}catch(e){e instanceof M?K():h.A.warn(e,{caughtBy:P,code:B})}},Y=(e,t)=>{if(G(e)){U(t)||(t=void 0);try{const r=z(),o=(e=>{if(window[k])return window[k][e]})(e);if(!o)throw new Error("Span ".concat(e," was ended without beeing previously started"));const n={name:e,duration:r-o,value:t,type:N,createdAt:o,context:L()};V(n)}catch(e){e instanceof M?K():h.A.warn(e,{caughtBy:P,code:I})}}},J=(e,t)=>{try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R;if(G(e))if(D.includes(r)){U(t)||(t=void 0);try{const o={name:e,value:t,type:r,createdAt:z(),context:L()};V(o)}catch(e){e instanceof M?K():h.A.warn(e,{caughtBy:P,code:F})}}else h.A.error('Expected "type" to be event or error. Instead got a '.concat(r),{caughtBy:P,code:F})}(e,t,T)}catch(e){h.A.warn(e,{caughtBy:P,code:H})}},Z=(e,t,r)=>{const o="Layout component: ".concat(t,", failed on entry: ").concat(r,"."),n="layout.CSR.".concat(t,".").concat(r),a="layout.CSR_LOAD_CHUNK.".concat(t,".").concat(r),i=(0,C.A)();e instanceof Error&&"ChunkLoadError"===(null==e?void 0:e.name)?J(a):(h.A.error(e,{context:i,description:o,componentName:t,entryName:r,package:"@fiverr-private/layout-sdk"}),J(n))};class X extends p.Component{static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){const{componentName:r,entryName:o}=this.props;Z(e,r,o)}render(){return this.state.hasError?null:this.props.children}constructor(e){super(e),this.state={hasError:!1}}}var W=d("yDff"),$=d("gECF");const ee="fipMigrationModal:open",te="IS_MIGRATION_MODAL_MANAGER_MOUNTED";var re=d("p8c2");const oe="openFibMigration",ne="isFibMigrationLoaded",ae=e=>{window[ne]=e};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const le={source:"default",withSkipAction:!0,isOpen:!1,flowContext:{},redirectCtaData:void 0,onSuccess:g.noop,onError:g.noop,onLoadError:g.noop,onSkip:g.noop,biEnrichment:{}},ue=e=>{let{setModalProps:t,setModalType:r}=e;(0,p.useEffect)((()=>{const e=e=>{const{withSkipAction:o,flowContext:n,redirectCtaData:a,onSuccess:i,onError:s,onSkip:c,onLoadError:l=g.noop,source:u,biEnrichment:d}=e.detail||le;r(re.q.FullMigration),t({withSkipAction:o,onSuccess:i,onError:s,onSkip:c,onLoadError:l,source:u,isOpen:!0,redirectCtaData:a,biEnrichment:se({},d),flowContext:n}),(0,$.oB)({metric:"legacy_modal_opened",type:re.q.FullMigration,source:u})};return addEventListener(oe,e),ae(!0),()=>{(e=>{removeEventListener(oe,e)})(e),ae(!1)}}),[r,t])};function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const me=e=>{let{userEmail:t,rollouts:r={}}=e;const[o,n]=(0,p.useState)(null),[a,i]=(0,p.useState)({source:"",biEnrichment:{pageElementName:""}}),s=()=>{n(null)};ue({setModalProps:i,setModalType:n}),(0,p.useEffect)((()=>{const e=e=>{let{detail:t}=e;const{variant:r,payload:o}=t;n(r),o.bqEnrichment&&(h.A.warn('Incorrect payload with "bqEnrichment"',{details:{message:'Should be "biEnrichment"',package:"@fiverr-private/pro-migration",source:o.source,type:r}}),o.biEnrichment=o.bqEnrichment,delete o.bqEnrichment),!o.biEnrichment.pageElementName&&o.biEnrichment.pageName&&(o.biEnrichment.pageElementName=o.biEnrichment.pageName),i(o),(0,$.gv)({type:r,source:o.source})};return window.addEventListener(ee,e),window[te]=!0,()=>{window.removeEventListener(ee,e),window[te]=!1}}),[]);const c=e=>{h.A.error(e,{description:"Failed to lazy load MigrationModal type ".concat(o)}),o&&(0,$.Nl)({type:o,source:a.source})},l=fe(fe({userEmail:t||"",rollouts:r,modalType:o},a),{},{onClose:()=>{"onClose"in a&&"function"==typeof a.onClose?a.onClose(s):s()}});let u=null;switch(o){case re.q.HeadlessSeamlessMigration:u=()=>d.e(184).then(d.bind(d,"E+y/"));break;case re.q.SeamlessCollaboration:case re.q.SeamlessPayment:u=()=>d.e(180).then(d.bind(d,"o4lJ"));break;case re.q.SeamlessRegistration:u=()=>d.e(144).then(d.bind(d,"stop"));break;case re.q.SeamlessHourly:u=()=>d.e(540).then(d.bind(d,"LQim"));break;case re.q.SeamlessLoyalty:u=()=>d.e(911).then(d.bind(d,"Gphp"));break;case re.q.SeamlessMoneyBack:u=()=>d.e(186).then(d.bind(d,"KF5O"));break;case re.q.SeamlessCustomOfferMoneyBack:u=()=>d.e(683).then(d.bind(d,"XPLZ"));break;case re.q.SeamlessCustomOfferRewardsProgram:u=()=>d.e(157).then(d.bind(d,"w7yY"));break;case re.q.SeamlessUpgradeToPro:case re.q.FullMigration:case re.q.SeamlessProjectPartner:u=()=>d.e(481).then(d.bind(d,"9BV8"));break;case re.q.LoyaltyUpgradeToPro:u=()=>d.e(378).then(d.bind(d,"qFT6"))}return u?m().createElement(W.A,{lazyImport:u,shouldImport:!0,componentProps:l,onError:c}):null},ye=me,be="undefined"!=typeof document&&document.querySelector("#FipMigrationModalManager");if(be){((e,t,r,o,n)=>{try{const a="layout.CSR.".concat(o,".").concat(n);Q(a),b().hydrate(m().createElement(X,{componentName:o,entryName:n},m().createElement(e,t)),r,(()=>{Y(a)}))}catch(e){Z(e,o,n)}})(ye,window.initialData.FipMigrationModalManager,be,"FipMigrationModalManager","FipMigrationModalManager")}const ge=ye;return f})()));
//# sourceMappingURL=FipMigrationModalManager.7b5700b6ccf081e13732.js.map