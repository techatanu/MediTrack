var Appcues=(function(){"use strict";function Le(e){return e.reduce((t,n)=>Object.assign(t,{[n]:n}),{})}const fd=["_hostname","_lastBrowserLanguage","_lastPageTitle","_lastPageUrl","_currentPageTitle","_currentPageUrl","_localId","_sessionPageviews","_updatedAt","_userAgent","_appcuesId","_sessionRandomizer","_testContentId","_showChecklist","_doNotTrack","_lastSeenAt","_timezoneCode","_timezoneOffset","_appId"],pd=["flow_started","flow_completed","flow_skipped","flow_aborted","step_started","step_completed","step_skipped","step_interacted","step_aborted","form_submitted","form_field_submitted","nps_feedback","nps_score","nps_clicked_update_nps_score","nps_ask_me_later_selected_at","nps_survey_started","checklist_shown","checklist_completed","checklist_skipped","checklist_dismissed","checklist_item_started","checklist_item_completed","appcues_custom","experiment_entered","v2:experience_started","v2:step_seen","v2:icon_seen","v2:step_interaction","v2:button_pin_seen"],hd="_appcuesForm_",wn="_appcuesSatisfaction_",Ui="AppcuesSettings",Hi="apc_user_id",Ur="apc_group_id",Mi="apc_local_id",Nn="apc_next_content_id",Xt="apc_user",$i="apc_debug_enabled",Fs="apc_debug_url",Hr="apc_ann_errors",Jt="apc_curr_flow",Mr="apc_curr_checklist",Bi="apc_cl:",Wi="apc_followed_test_link",Fe="localStorage",Ie="sessionStorage",md=720*60*60,Qt={PAGE_VIEW:"appcues:page_view"},Q=Le(["PENDING","STARTED","CALCULATING_POSITIONS","READY","WILL_SHOW","SHOWING","WILL_CLOSE","ERROR","FETCHING","RUNNING","DISMISSED","HIDING"]),Vi=[Q.READY,Q.WILL_SHOW,Q.SHOWING,Q.WILL_CLOSE],kt=Le(["COMPLETED","SKIPPED","SHOWING_OTHER_CONTENT","CLEAR"]),Us={EVENT_TRIGGER:"event_trigger",PAGE_VIEW:"page_view"},z={MODAL:"modal",HOTSPOTS:"hotspot-group",SEQUENTIAL_HOTSPOTS:"hotspot-group-sequential",DEBUGGER:"debugger",JOURNEY:"journey",ACTION:"action",SATISFACTION_SURVEY:"satisfaction-survey",CHECKLIST:"checklist",TEST_MODE:"test-mode",WIDGET:"widget",ANNOTATION:["hotspot-group"]},mt={REDIRECT:"redirect",WAIT_FOR_PAGE:"wait-for-page",SHOW_FLOW:"show_flow"},Gi=2,On={COMPLETED:"completed",DISMISSED:"dismissed",SHOWN_MANUALLY:"shown_manually"},$t={EXPANDED:"expanded",COLLAPSED:"collapsed",FIRSTVIEW:"first_view"},ji={OPENED:"opened",CLOSED:"closed",OPEN_ONCE:"open_once"},Ed=["identify","track","page","anonymous","show","on","off","once","reset","debug","user","settings","content","injectContent","injectStyles","start","initMixpanel","initHeap","initIntercom","initCIO","initVero","initWoopra","initAmplitude","initKlaviyo","initCalq","initTD","initLl","initKM","initGA","initGTM","initSegment","initRudderstack","initBraze","initFullStory","initHotjar","initLogRocket","loadLaunchpad","group"],Hs=20,gd=300,yd=700,kn=2147483647,Et=24,Sd=20,Td=10,Cd=1,qi=3,Ms={CALCULATE:"CALCULATE"},Rn=Le(["WAIT_FOR_ONE_ELEMENT","WAIT_FOR_MOUSE_EVENT"]),Zt=200,q=Le(["STEP_ATTEMPTED","STEP_SHOWN","STEP_COMPLETED","STEP_SKIPPED","STEP_END","STEP_INTERACTED","STEP_ERRORED","CHILD_ACTIVATED","CHILD_DEACTIVATED","CHILDREN_ERRORED","CHILDREN_RECOVERED","CHILD_NEXT","CHILD_RUN","CSS_LOADED","STEP_REVEALED"]),_d=1e3,Ki=300,Id=500,Ad=50,Yi=3e3,zi={TEXT:"text",EXIT_SYMBOL:"exit-symbol"},sr={LABEL_TOOLTIP:"Tooltip",LABEL_CHECKLIST:"Contextual help checklist present on screen",ROLE_CONTAINER:"alert",ROLE_TOOLTIP:"alertdialog",HASPOPUP_TOOLTIP:"dialog"},$s=6e4,$r="apc_session",vd=30,Xi="launchpad_kb_search";var bd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},en=function(t){return"@@redux-saga/"+t},Ws=en("TASK"),Vs=en("HELPER"),Ji=en("MATCH"),Gs=en("CANCEL_PROMISE"),js=en("SAGA_ACTION"),qs=en("SELF_CANCELLATION"),wd=function(t){return function(){return t}},Ks=wd(!0),xe=function(){},Ys=function(t){return t};function Ee(e,t,n){if(!t(e))throw Xs("error","uncaught at check",n),new Error(n)}var Nd=Object.prototype.hasOwnProperty;function Qi(e,t){return M.notUndef(e)&&Nd.call(e,t)}var M={undef:function(t){return t==null},notUndef:function(t){return t!=null},func:function(t){return typeof t=="function"},number:function(t){return typeof t=="number"},string:function(t){return typeof t=="string"},array:Array.isArray,object:function(t){return t&&!M.array(t)&&(typeof t>"u"?"undefined":Bs(t))==="object"},promise:function(t){return t&&M.func(t.then)},iterator:function(t){return t&&M.func(t.next)&&M.func(t.throw)},iterable:function(t){return t&&M.func(Symbol)?M.func(t[Symbol.iterator]):M.array(t)},task:function(t){return t&&t[Ws]},observable:function(t){return t&&M.func(t.subscribe)},buffer:function(t){return t&&M.func(t.isEmpty)&&M.func(t.take)&&M.func(t.put)},pattern:function(t){return t&&(M.string(t)||(typeof t>"u"?"undefined":Bs(t))==="symbol"||M.func(t)||M.array(t))},channel:function(t){return t&&M.func(t.take)&&M.func(t.close)},helper:function(t){return t&&t[Vs]},stringableFunc:function(t){return M.func(t)&&Qi(t,"toString")}},Zi={assign:function(t,n){for(var r in n)Qi(n,r)&&(t[r]=n[r])}};function Br(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}var Od={from:function(t){var n=Array(t.length);for(var r in t)Qi(t,r)&&(n[r]=t[r]);return n}};function kd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=bd({},e),n=new Promise(function(r,i){t.resolve=r,t.reject=i});return t.promise=n,t}function eo(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=void 0,r=new Promise(function(i){n=setTimeout(function(){return i(t)},e)});return r[Gs]=function(){return clearTimeout(n)},r}function Rd(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return function(){return++e}}var zs=Rd(),Ld=function(t){throw t},xd=function(t){return{value:t,done:!0}};function to(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ld,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r=arguments[3],i={name:n,next:e,throw:t,return:xd};return r&&(i[Vs]=!0),typeof Symbol<"u"&&(i[Symbol.iterator]=function(){return i}),i}function Xs(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:""}function no(e,t){return function(){return e.apply(void 0,arguments)}}var Js=function(t){return new Error(`
  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug
  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.
  Error: `+t+`
`)},Qs=function(t,n){return(t?t+".":"")+"setContext(props): argument "+n+" is not a plain object"},Pd=function(t){return function(n){return t(Object.defineProperty(n,js,{value:!0}))}},Zs=en("IO"),Wr="TAKE",ro="PUT",ec="ALL",tc="RACE",nc="CALL",Dd="CPS",io="FORK",rc="JOIN",ic="CANCEL",oc="SELECT",sc="ACTION_CHANNEL",cc="CANCELLED",lc="FLUSH",ac="GET_CONTEXT",Fd="SET_CONTEXT",uc=`
(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)`,Ye=function(t,n){var r;return r={},r[Zs]=!0,r[t]=n,r},Ud=function(t){return Ee($e.fork(t),M.object,"detach(eff): argument must be a fork effect"),t[io].detached=!0,t};function V(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"*";if(arguments.length&&Ee(arguments[0],M.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),M.pattern(e))return Ye(Wr,{pattern:e});if(M.channel(e))return Ye(Wr,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}V.maybe=function(){var e=V.apply(void 0,arguments);return e[Wr].maybe=!0,e},V.maybe;function g(e,t){return arguments.length>1?(Ee(e,M.notUndef,"put(channel, action): argument channel is undefined"),Ee(e,M.channel,"put(channel, action): argument "+e+" is not a valid channel"),Ee(t,M.notUndef,"put(channel, action): argument action is undefined")):(Ee(e,M.notUndef,"put(action): argument action is undefined"),t=e,e=null),Ye(ro,{channel:e,action:t})}g.resolve=function(){var e=g.apply(void 0,arguments);return e[ro].resolve=!0,e},g.sync=no(g.resolve);function at(e){return Ye(ec,e)}function Ge(e){return Ye(tc,e)}function dc(e,t,n){Ee(t,M.notUndef,e+": argument fn is undefined");var r=null;if(M.array(t)){var i=t;r=i[0],t=i[1]}else if(t.fn){var o=t;r=o.context,t=o.fn}return r&&M.string(t)&&M.func(r[t])&&(t=r[t]),Ee(t,M.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(nc,dc("call",e,n))}function F(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ye(io,dc("fork",e,n))}function _t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ud(F.apply(void 0,[e].concat(n)))}function tn(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return at(t.map(function(i){return tn(i)}));var r=t[0];return Ee(r,M.notUndef,"join(task): argument task is undefined"),Ee(r,M.task,"join(task): argument "+r+" is not a valid Task object "+uc),Ye(rc,r)}function rt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1)return at(t.map(function(i){return rt(i)}));var r=t[0];return t.length===1&&(Ee(r,M.notUndef,"cancel(task): argument task is undefined"),Ee(r,M.task,"cancel(task): argument "+r+" is not a valid Task object "+uc)),Ye(ic,r||qs)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return arguments.length===0?e=Ys:(Ee(e,M.notUndef,"select(selector,[...]): argument selector is undefined"),Ee(e,M.func,"select(selector,[...]): argument "+e+" is not a function")),Ye(oc,{selector:e,args:n})}function Hd(e,t){return Ee(e,M.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&(Ee(t,M.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),Ee(t,M.buffer,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),Ye(sc,{pattern:e,buffer:t})}function Vr(){return Ye(cc,{})}function Md(e){return Ee(e,M.channel,"flush(channel): argument "+e+" is not valid channel"),Ye(lc,e)}function $d(e){return Ee(e,M.string,"getContext(prop): argument "+e+" is not a string"),Ye(ac,e)}var je=function(t){return function(n){return n&&n[Zs]&&n[t]}},$e={take:je(Wr),put:je(ro),all:je(ec),race:je(tc),call:je(nc),cps:je(Dd),fork:je(io),join:je(rc),cancel:je(ic),select:je(oc),actionChannel:je(sc),cancelled:je(cc),flush:je(lc),getContext:je(ac),setContext:je(Fd)},fc={done:!0,value:void 0},Gr={};function Bd(e){return M.channel(e)?"channel":Array.isArray(e)?String(e.map(function(t){return String(t)})):String(e)}function Wd(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"iterator",r=void 0,i=t;function o(s,c){if(i===Gr)return fc;if(c)throw i=Gr,c;r&&r(s);var l=e[i](),u=l[0],d=l[1],f=l[2];return i=u,r=f,i===Gr?fc:d}return to(o,function(s){return o(null,s)},n,!0)}var Vd="Channel's Buffer overflow!",pc=1,Gd=2,hc=3,mc=4,jd={isEmpty:Ks,put:xe,take:xe};function jr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,i=0,o=0,s=function(d){n[i]=d,i=(i+1)%e,r++},c=function(){if(r!=0){var d=n[o];return n[o]=null,r--,o=(o+1)%e,d}},l=function(){for(var d=[];r;)d.push(c());return d};return{isEmpty:function(){return r==0},put:function(d){if(r<e)s(d);else{var f=void 0;switch(t){case pc:throw new Error(Vd);case hc:n[i]=d,i=(i+1)%e,o=i;break;case mc:f=2*e,n=l(),r=n.length,i=n.length,o=0,n.length=f,e=f,s(d);break}}},take:c,flush:l}}var Ln={none:function(){return jd},fixed:function(t){return jr(t,pc)},dropping:function(t){return jr(t,Gd)},sliding:function(t){return jr(t,hc)},expanding:function(t){return jr(t,mc)}},Ec=[],qr=0;function qd(e){try{oo(),e()}finally{yc()}}function gc(e){Ec.push(e),qr||(oo(),Sc())}function oo(){qr++}function yc(){qr--}function Sc(){yc();for(var e=void 0;!qr&&(e=Ec.shift())!==void 0;)qd(e)}var Kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tc="@@redux-saga/CHANNEL_END",cr={type:Tc},Kr=function(t){return t&&t.type===Tc};function Yd(){var e=[];function t(r){return e.push(r),function(){return Br(e,r)}}function n(r){for(var i=e.slice(),o=0,s=i.length;o<s;o++)i[o](r)}return{subscribe:t,emit:n}}var zd="invalid buffer passed to channel factory function",Xd="Saga was provided with an undefined action";function Cc(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ln.fixed(),t=!1,n=[];Ee(e,M.buffer,zd);function r(){if(t&&n.length)throw Js("Cannot have a closed channel with pending takers");if(n.length&&!e.isEmpty())throw Js("Cannot have pending takers with non empty buffer")}function i(l){if(r(),Ee(l,M.notUndef,Xd),!t){if(!n.length)return e.put(l);for(var u=0;u<n.length;u++){var d=n[u];if(!d[Ji]||d[Ji](l))return n.splice(u,1),d(l)}}}function o(l){r(),Ee(l,M.func,"channel.take's callback must be a function"),t&&e.isEmpty()?l(cr):e.isEmpty()?(n.push(l),l.cancel=function(){return Br(n,l)}):l(e.take())}function s(l){if(r(),Ee(l,M.func,"channel.flush' callback must be a function"),t&&e.isEmpty()){l(cr);return}l(e.flush())}function c(){if(r(),!t&&(t=!0,n.length)){var l=n;n=[];for(var u=0,d=l.length;u<d;u++)l[u](cr)}}return{take:o,put:i,flush:s,close:c,get __takers__(){return n},get __closed__(){return t}}}function lr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ln.none(),n=arguments[2];arguments.length>2&&Ee(n,M.func,"Invalid match function passed to eventChannel");var r=Cc(t),i=function(){r.__closed__||(o&&o(),r.close())},o=e(function(s){if(Kr(s)){i();return}n&&!n(s)||r.put(s)});if(r.__closed__&&o(),!M.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:i}}function Jd(e){var t=lr(function(n){return e(function(r){if(r[js]){n(r);return}gc(function(){return n(r)})})});return Kd({},t,{take:function(r,i){arguments.length>1&&(Ee(i,M.func,"channel.take's matcher argument must be a function"),r[Ji]=i),t.take(r)}})}function Qd(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:V(e)},s=function(d){return{done:!1,value:F.apply(void 0,[t].concat(r,[d]))}},c=void 0,l=function(d){return c=d};return Wd({q1:function(){return["q2",o,l]},q2:function(){return c===cr?[Gr]:["q1",s(c)]}},"q1","takeEvery("+Bd(e)+", "+t.name+")")}function ar(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return F.apply(void 0,[Qd,e,t].concat(r))}const Zd=Object.prototype.toString,ef=["Object","Arguments","Function","String","Number","Date","RegExp","Error"],ne={};function _c(e){return t=>Zd.call(t)===`[object ${e}]`}ef.forEach(e=>{ne[e.toLowerCase()]=_c(e)}),ne.array=Array.isArray||_c("Array"),ne.undefined=e=>typeof e>"u",ne.defined=e=>!ne.undefined(e)&&e!==null,ne.inArray=(e,t)=>{let n=e.length;for(;n--;)if(e[n]===t)return!0;return!1};function P(e,t=null){return(...n)=>{try{const r=e(...n);return ne.defined(r)?r:t}catch{return t}}}function it(e,t){const n=new Object(e),r=n.length>>>0;if(typeof t!="function")throw new TypeError("predicate must be a function");let i=0;for(;i<r;){const o=n[i];if(t(o,i,n))return o;i+=1}return null}const xn=e=>e&&e.type===z.JOURNEY,Pn=P(e=>xn(e)?e.attributes.steps:{[e.id]:e},{}),Ic=P(e=>xn(e)?Object.keys(Pn(e)).length:1,0),nn=P(e=>{const t=e.attributes;return t.children||t.steps||t.hotspots||t.annotations},[]),rn=P((e,t)=>{let n=-1;return nn(e).forEach((r,i)=>{r.id===t&&(n=i)}),n},-1),so=P((e,t)=>nn(e)[t]),Ac=P((e,t)=>{const n=e.step||e;return it(nn(n),r=>r.id===t)}),Dn=P(e=>e.attributes.sequential,!1),vc=P((e,t)=>{const n=so(e,t);return e.type===z.HOTSPOTS&&Dn(e)&&n.ui_conditions&&n.ui_conditions.next&&n.ui_conditions.next.type===Rn.WAIT_FOR_MOUSE_EVENT},!1),ur=P(e=>e.type===z.ACTION&&e.attributes.action_type===mt.REDIRECT,!1),on=P(e=>e.type===z.ACTION&&e.attributes.action_type===mt.WAIT_FOR_PAGE,!1),tf=P(e=>e.type===z.ACTION,!1),Fn=P(e=>e.type!==z.SATISFACTION_SURVEY),Rt=P((e,t)=>{if(xn(e)){let n;const r=Pn(e);return Object.keys(r).forEach(i=>{const o=r[i];o.index===t&&(n=o)}),n.step}return e}),ot=P((e,t)=>xn(e)?Pn(e)[t].step:e),Un=P((e,t)=>xn(e)?Pn(e)[t].index:t===e.id?0:-1,-1),bc=P((e,t)=>{let n=e;return n=Object.keys(n||{}).map(r=>n[r]),it(n,r=>Ac(r,t))}),nf=P((e,t)=>{let n=e;return n=Object.keys(n||{}).map(r=>n[r]),it(n,r=>{const i=Pn(r);return bc(i,t)})});function co(e={}){const{selector:t,selector_settings:n,backup_selectors:r}=e,i=Object.keys(n||{}).length>0?n:t;return ne.array(r)?[i,...r]:[i]}const sn=P(e=>e.currentContent.flowId),ze=P(e=>e.content[e.currentContent.flowId]),se=P(e=>e.currentContent.stepId),wc=P(e=>e.previousActiveElement),rf=P(e=>e.forceFocus,!0),ye=P(e=>ot(ze(e),se(e))),of=P(e=>e.settings.styling,{}),ut=P(e=>e),sf=P(e=>e.settings.accountId),Lt=P(e=>e.reporter),cf=P((e,t)=>e.eventListeners[t],[]),be=P(e=>e.user,{}),Nc=P(e=>e.userIdentified,!1),lf=P(e=>({groupId:e.groupId,groupProps:e.groupProps}),!1),af=P(e=>e.settings.account.skipAutoProperties,!1),uf=P(e=>e.settings.account.gates.enableCTTEventIntegrations,!1),df=P(e=>e.settings.account.gates.responseFormatV2Enabled,!1),It=P(e=>e.session.id),Hn=P(e=>e.session,{}),ff=P(e=>e.settings,{}),Yr=P((e,t)=>e.tasks[t]),pf=P((e,t)=>e.pendingEvents[t],[]),lo=e=>e.lastCheckedForInitialContent||{},dr=P(e=>e.content),hf=P(e=>e.orderedContent),ao=P((e,t)=>dr(e)[t]),mf=P(e=>e.styles,{}),Mn=P(e=>ye(e).type),Be=P(e=>e.currentContent.status),fr=P(e=>e.currentContent.state),Ef=P(e=>e.currentContent.shownUrl),uo=P(e=>ye(e).attributes.style),Oc=P(e=>e.styles[ye(e).attributes.style]),gf=P(e=>e.currentContent.eventChannel),st=P(e=>fr(e).currentStepChildId),Bt=P((e,t)=>rn(ye(e),t),-1),Xe=P(e=>nn(ye(e)),[]),At=P(e=>e.currentContent.state.children,{}),yf=P(e=>Object.keys(e.currentContent.state.children).length,0),zr=P((e,t)=>Xe(e)[t].id),Sf=P(e=>fr(e).isScrollingToAnnotation),kc=P((e,t)=>{const n=Bt(e,t);return ne.defined(n)?zr(e,n+1):!1}),fo=P((e,t)=>{const n=Bt(e,t);return ne.defined(n)?zr(e,n-1):!1}),Tf=P((e,t,n)=>{const r=Bt(e,t),i=Bt(e,n),o=Math.min(r,i),s=Math.max(r,i);if(ne.defined(r)&&ne.defined(i)){const[,...c]=Xe(e).slice(o,s).map(({id:l})=>l);return c}return!1}),Rc=P((e,t)=>At(e)[t].activatedAt),po=P((e,t)=>ne.defined(Rc(e,t)),!1),Xr=P(e=>e.reportedErrors.child,{}),$n=P(e=>e.currentContent.state.activeAnnotations,[]),Lc=P(e=>e.transport.initialized,!1),Cf=P(e=>e.transport.details.socket),Bn=e=>e.debugger||null,xc=P(e=>Bn(e).viewState),_f=P(e=>xc(e).rowState),Pc=P(e=>Bn(e).currentPage),Dc=P(e=>Bn(e).lastTrackedPage),If=P(e=>Bn(e).contentErrors,[]),Af=P(e=>Bn(e).childErrors,{}),cn=P(e=>e.checklists,[]),ln=P((e,t)=>it(cn(e),n=>n.id===t),{}),ho=P((e,t)=>cn(e).filter(n=>n.status===t)),vf=P((e,t,n)=>{const r=ln(e,t);return it(r.attributes.items,i=>i.id===n)}),bf=P((e,t)=>it(cn(e),n=>n.id===t).status),wf=P(e=>e.widget.history,{}),Nf=P(e=>e.widget.flows,[]),Fc=P(e=>e.widget.selector,null),Of=P(e=>e.widget.position,"default"),kf=P(e=>e.widget.header,null),Rf=P(e=>e.widget.footer,null),mo=P(e=>e.widget.expanded,!1),Lf=P(e=>e.widget.icon,null),Uc=P(e=>ze(e).format_version,1),xf=P(e=>e.settings.isInjectableSDK,!1),Eo=P(e=>e.Appcues,null),Pf=P(e=>e.initializingOpenBuilder,!1),Df=P(e=>e.experiments,[]),Ff=P(e=>e.onHold.launchpads,[]);function Uf(e,t){return document.createElement(e,t)}function Hf(e,t,n){return document.createElementNS(e,t,n)}function Mf(){return an(document.createDocumentFragment())}function $f(e){return document.createTextNode(e)}function Bf(e){return document.createComment(e)}function Wf(e,t,n){if(xt(e)){let r=e;for(;r&&xt(r);)r=an(r).parent;e=r??e}xt(t)&&(t=an(t,e)),n&&xt(n)&&(n=an(n).firstChildNode),e.insertBefore(t,n)}function Vf(e,t){e.removeChild(t)}function Gf(e,t){xt(t)&&(t=an(t,e)),e.appendChild(t)}function Hc(e){if(xt(e)){for(;e&&xt(e);)e=an(e).parent;return e??null}return e.parentNode}function jf(e){var t;if(xt(e)){const n=an(e),r=Hc(n);if(r&&n.lastChildNode){const i=Array.from(r.childNodes),o=i.indexOf(n.lastChildNode);return(t=i[o+1])!==null&&t!==void 0?t:null}return null}return e.nextSibling}function qf(e){return e.tagName}function Kf(e,t){e.textContent=t}function Yf(e){return e.textContent}function zf(e){return e.nodeType===1}function Xf(e){return e.nodeType===3}function Jf(e){return e.nodeType===8}function xt(e){return e.nodeType===11}function an(e,t){var n,r,i;const o=e;return(n=o.parent)!==null&&n!==void 0||(o.parent=t??null),(r=o.firstChildNode)!==null&&r!==void 0||(o.firstChildNode=e.firstChild),(i=o.lastChildNode)!==null&&i!==void 0||(o.lastChildNode=e.lastChild),o}const go={createElement:Uf,createElementNS:Hf,createTextNode:$f,createDocumentFragment:Mf,createComment:Bf,insertBefore:Wf,removeChild:Vf,appendChild:Gf,parentNode:Hc,nextSibling:jf,tagName:qf,setTextContent:Kf,getTextContent:Yf,isElement:zf,isText:Xf,isComment:Jf,isDocumentFragment:xt};function We(e,t,n,r,i){const o=t===void 0?void 0:t.key;return{sel:e,data:t,children:n,text:r,elm:i,key:o}}const Wn=Array.isArray;function un(e){return typeof e=="string"||typeof e=="number"||e instanceof String||e instanceof Number}const yo=We("",{},[],void 0,void 0);function pr(e,t){var n,r;const i=e.key===t.key,o=((n=e.data)===null||n===void 0?void 0:n.is)===((r=t.data)===null||r===void 0?void 0:r.is),s=e.sel===t.sel,c=!e.sel&&e.sel===t.sel?typeof e.text==typeof t.text:!0;return s&&i&&o&&c}function Qf(){throw new Error("The document fragment is not supported on this platform.")}function Zf(e,t){return e.isElement(t)}function ep(e,t){return e.isDocumentFragment(t)}function tp(e,t,n){var r;const i={};for(let o=t;o<=n;++o){const s=(r=e[o])===null||r===void 0?void 0:r.key;s!==void 0&&(i[s]=o)}return i}const np=["create","update","remove","destroy","pre","post"];function Vn(e,t,n){const r={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},i=t!==void 0?t:go;for(const h of np)for(const m of e){const T=m[h];T!==void 0&&r[h].push(T)}function o(h){const m=h.id?"#"+h.id:"",T=h.getAttribute("class"),_=T?"."+T.split(" ").join("."):"";return We(i.tagName(h).toLowerCase()+m+_,{},[],void 0,h)}function s(h){return We(void 0,{},[],void 0,h)}function c(h,m){return function(){if(--m===0){const _=i.parentNode(h);_!==null&&i.removeChild(_,h)}}}function l(h,m){var T,_,S,A,I;let C;const O=h.data,L=O?.hook;(T=L?.init)===null||T===void 0||T.call(L,h);const H=h.children,R=h.sel;if(R==="!")(_=h.text)!==null&&_!==void 0||(h.text=""),h.elm=i.createComment(h.text);else if(R==="")h.elm=i.createTextNode(h.text);else if(R!==void 0){const j=R.indexOf("#"),K=R.indexOf(".",j),fe=j>0?j:R.length,w=K>0?K:R.length,J=j!==-1||K!==-1?R.slice(0,Math.min(fe,w)):R,ue=O?.ns,pe=ue===void 0?i.createElement(J,O):i.createElementNS(ue,J,O);for(h.elm=pe,fe<w&&pe.setAttribute("id",R.slice(fe+1,w)),K>0&&pe.setAttribute("class",R.slice(w+1).replace(/\./g," ")),C=0;C<r.create.length;++C)r.create[C](yo,h);if(un(h.text)&&(!Wn(H)||H.length===0)&&i.appendChild(pe,i.createTextNode(h.text)),Wn(H))for(C=0;C<H.length;++C){const Ce=H[C];Ce!=null&&i.appendChild(pe,l(Ce,m))}L!==void 0&&((S=L.create)===null||S===void 0||S.call(L,yo,h),L.insert!==void 0&&m.push(h))}else if(!((A=n?.experimental)===null||A===void 0)&&A.fragments&&h.children){for(h.elm=((I=i.createDocumentFragment)!==null&&I!==void 0?I:Qf)(),C=0;C<r.create.length;++C)r.create[C](yo,h);for(C=0;C<h.children.length;++C){const j=h.children[C];j!=null&&i.appendChild(h.elm,l(j,m))}}else h.elm=i.createTextNode(h.text);return h.elm}function u(h,m,T,_,S,A){for(;_<=S;++_){const I=T[_];I!=null&&i.insertBefore(h,l(I,A),m)}}function d(h){var m,T;const _=h.data;if(_!==void 0){(T=(m=_?.hook)===null||m===void 0?void 0:m.destroy)===null||T===void 0||T.call(m,h);for(let S=0;S<r.destroy.length;++S)r.destroy[S](h);if(h.children!==void 0)for(let S=0;S<h.children.length;++S){const A=h.children[S];A!=null&&typeof A!="string"&&d(A)}}}function f(h,m,T,_){for(var S,A;T<=_;++T){let I;const C=m[T];if(C!=null)if(C.sel!==void 0){d(C),I=r.remove.length+1;const O=c(C.elm,I);for(let H=0;H<r.remove.length;++H)r.remove[H](C,O);const L=(A=(S=C?.data)===null||S===void 0?void 0:S.hook)===null||A===void 0?void 0:A.remove;L!==void 0?L(C,O):O()}else C.children?(d(C),f(h,C.children,0,C.children.length-1)):i.removeChild(h,C.elm)}}function p(h,m,T,_){let S=0,A=0,I=m.length-1,C=m[0],O=m[I],L=T.length-1,H=T[0],R=T[L],j,K,fe,w;for(;S<=I&&A<=L;)C==null?C=m[++S]:O==null?O=m[--I]:H==null?H=T[++A]:R==null?R=T[--L]:pr(C,H)?(y(C,H,_),C=m[++S],H=T[++A]):pr(O,R)?(y(O,R,_),O=m[--I],R=T[--L]):pr(C,R)?(y(C,R,_),i.insertBefore(h,C.elm,i.nextSibling(O.elm)),C=m[++S],R=T[--L]):pr(O,H)?(y(O,H,_),i.insertBefore(h,O.elm,C.elm),O=m[--I],H=T[++A]):(j===void 0&&(j=tp(m,S,I)),K=j[H.key],K===void 0?(i.insertBefore(h,l(H,_),C.elm),H=T[++A]):j[R.key]===void 0?(i.insertBefore(h,l(R,_),i.nextSibling(O.elm)),R=T[--L]):(fe=m[K],fe.sel!==H.sel?i.insertBefore(h,l(H,_),C.elm):(y(fe,H,_),m[K]=void 0,i.insertBefore(h,fe.elm,C.elm)),H=T[++A]));A<=L&&(w=T[L+1]==null?null:T[L+1].elm,u(h,w,T,A,L,_)),S<=I&&f(h,m,S,I)}function y(h,m,T){var _,S,A,I,C,O,L,H;const R=(_=m.data)===null||_===void 0?void 0:_.hook;(S=R?.prepatch)===null||S===void 0||S.call(R,h,m);const j=m.elm=h.elm;if(h===m)return;if(m.data!==void 0||m.text!==void 0&&m.text!==h.text){(A=m.data)!==null&&A!==void 0||(m.data={}),(I=h.data)!==null&&I!==void 0||(h.data={});for(let w=0;w<r.update.length;++w)r.update[w](h,m);(L=(O=(C=m.data)===null||C===void 0?void 0:C.hook)===null||O===void 0?void 0:O.update)===null||L===void 0||L.call(O,h,m)}const K=h.children,fe=m.children;m.text===void 0?K!==void 0&&fe!==void 0?K!==fe&&p(j,K,fe,T):fe!==void 0?(h.text!==void 0&&i.setTextContent(j,""),u(j,null,fe,0,fe.length-1,T)):K!==void 0?f(j,K,0,K.length-1):h.text!==void 0&&i.setTextContent(j,""):h.text!==m.text&&(K!==void 0&&f(j,K,0,K.length-1),i.setTextContent(j,m.text)),(H=R?.postpatch)===null||H===void 0||H.call(R,h,m)}return function(m,T){let _,S,A;const I=[];for(_=0;_<r.pre.length;++_)r.pre[_]();for(Zf(i,m)?m=o(m):ep(i,m)&&(m=s(m)),pr(m,T)?y(m,T,I):(S=m.elm,A=i.parentNode(S),l(T,I),A!==null&&(i.insertBefore(A,T.elm,i.nextSibling(S)),f(A,[m],0,0))),_=0;_<I.length;++_)I[_].data.hook.insert(I[_]);for(_=0;_<r.post.length;++_)r.post[_]();return T}}function Jr(e,t,n){if(e.ns="http://www.w3.org/2000/svg",n!=="foreignObject"&&t!==void 0)for(let r=0;r<t.length;++r){const i=t[r];if(typeof i=="string")continue;const o=i.data;o!==void 0&&Jr(o,i.children,i.sel)}}function Qr(e,t,n){let r={},i,o,s;if(n!==void 0?(t!==null&&(r=t),Wn(n)?i=n:un(n)?o=n.toString():n&&n.sel&&(i=[n])):t!=null&&(Wn(t)?i=t:un(t)?o=t.toString():t&&t.sel?i=[t]:r=t),i!==void 0)for(s=0;s<i.length;++s)un(i[s])&&(i[s]=We(void 0,void 0,void 0,i[s],void 0));return e.startsWith("svg")&&(e.length===3||e[3]==="."||e[3]==="#")&&Jr(r,i,e),We(e,r,i,o,void 0)}function rp(e){let t,n;if(Wn(e)?t=e:un(t)?n=e:t&&t.sel&&(t=[e]),t!==void 0)for(let r=0;r<t.length;++r)un(t[r])&&(t[r]=We(void 0,void 0,void 0,t[r],void 0));return We(void 0,{},t,n,void 0)}function Zr(e,t){var n;const r=(n=t.data)===null||n===void 0?void 0:n.ns;e.data.fn=t.data.fn,e.data.args=t.data.args,t.data=e.data,t.children=e.children,t.text=e.text,t.elm=e.elm,r&&Jr(t.data,t.children,t.sel)}function ip(e){const t=e.data,n=t.fn(...t.args);Zr(n,e)}function op(e,t){let n;const r=e.data,i=t.data,o=r.args,s=i.args;if(r.fn!==i.fn||o.length!==s.length){Zr(i.fn(...s),t);return}for(n=0;n<s.length;++n)if(o[n]!==s[n]){Zr(i.fn(...s),t);return}Zr(e,t)}const sp=function(t,n,r,i){return i===void 0&&(i=r,r=n,n=void 0),Qr(t,{key:n,hook:{init:ip,prepatch:op},fn:r,args:i})};function cp(e,t){const n=e.data.attachData;t.data.attachData.placeholder=n.placeholder,t.data.attachData.real=n.real,e.elm=e.data.attachData.real}function lp(e,t){t.elm=t.data.attachData.placeholder}function ap(e){e.elm!==void 0&&e.elm.parentNode.removeChild(e.elm),e.elm=e.data.attachData.real}function up(e,t){const n=t.elm,r=t.data.attachData,i=document.createElement("span");t.elm=i,r.target.appendChild(n),r.real=n,r.placeholder=i}function dp(e,t){t.data===void 0&&(t.data={}),t.data.hook===void 0&&(t.data.hook={});const n=t.data,r=t.data.hook;return n.attachData={target:e,placeholder:void 0,real:void 0},r.create=up,r.prepatch=cp,r.postpatch=lp,r.destroy=ap,t}function fp(e){return e.slice(5).replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Mc(e,t){var n;const r=t!==void 0?t:go;let i;if(r.isElement(e)){const o=e.id?"#"+e.id:"",s=(n=e.getAttribute("class"))===null||n===void 0?void 0:n.match(/[^\t\r\n\f ]+/g),c=s?"."+s.join("."):"",l=r.tagName(e).toLowerCase()+o+c,u={},d={},f={},p=[];let y,h,m;const T=e.attributes,_=e.childNodes;for(h=0,m=T.length;h<m;h++)y=T[h].nodeName,y.startsWith("data-")?d[fp(y)]=T[h].nodeValue||"":y!=="id"&&y!=="class"&&(u[y]=T[h].nodeValue);for(h=0,m=_.length;h<m;h++)p.push(Mc(_[h],t));return Object.keys(u).length>0&&(f.attrs=u),Object.keys(d).length>0&&(f.dataset=d),l.startsWith("svg")&&(l.length===3||l[3]==="."||l[3]==="#")&&Jr(f,p,l),We(l,f,p,void 0,e)}else return r.isText(e)?(i=r.getTextContent(e),We(void 0,void 0,void 0,i,e)):r.isComment(e)?(i=r.getTextContent(e),We("!",{},[],i,e)):We("",{},[],void 0,e)}const pp="http://www.w3.org/1999/xlink",hp="http://www.w3.org/2000/xmlns/",mp="http://www.w3.org/XML/1998/namespace",$c=58,Ep=120,gp=109;function Bc(e,t){let n;const r=t.elm;let i=e.data.attrs,o=t.data.attrs;if(!(!i&&!o)&&i!==o){i=i||{},o=o||{};for(n in o){const s=o[n];i[n]!==s&&(s===!0?r.setAttribute(n,""):s===!1?r.removeAttribute(n):n.charCodeAt(0)!==Ep?r.setAttribute(n,s):n.charCodeAt(3)===$c?r.setAttributeNS(mp,n,s):n.charCodeAt(5)===$c?n.charCodeAt(1)===gp?r.setAttributeNS(hp,n,s):r.setAttributeNS(pp,n,s):r.setAttribute(n,s))}for(n in i)n in o||r.removeAttribute(n)}}const Gn={create:Bc,update:Bc};function Wc(e,t){let n,r;const i=t.elm;let o=e.data.class,s=t.data.class;if(!(!o&&!s)&&o!==s){o=o||{},s=s||{};for(r in o)o[r]&&!Object.prototype.hasOwnProperty.call(s,r)&&i.classList.remove(r);for(r in s)n=s[r],n!==o[r]&&i.classList[n?"add":"remove"](r)}}const jn={create:Wc,update:Wc},Vc=/[A-Z]/g;function Gc(e,t){const n=t.elm;let r=e.data.dataset,i=t.data.dataset,o;if(!r&&!i||r===i)return;r=r||{},i=i||{};const s=n.dataset;for(o in r)o in i||(s?o in s&&delete s[o]:n.removeAttribute("data-"+o.replace(Vc,"-$&").toLowerCase()));for(o in i)r[o]!==i[o]&&(s?s[o]=i[o]:n.setAttribute("data-"+o.replace(Vc,"-$&").toLowerCase(),i[o]))}const yp={create:Gc,update:Gc};function jc(e,t,n){if(typeof e=="function")e.call(t,n,t);else if(typeof e=="object")for(let r=0;r<e.length;r++)jc(e[r],t,n)}function Sp(e,t){const n=e.type,r=t.data.on;r&&r[n]&&jc(r[n],t,e)}function Tp(){return function e(t){Sp(t,e.vnode)}}function So(e,t){const n=e.data.on,r=e.listener,i=e.elm,o=t&&t.data.on,s=t&&t.elm;let c;if(n!==o){if(n&&r)if(o)for(c in n)o[c]||i.removeEventListener(c,r,!1);else for(c in n)i.removeEventListener(c,r,!1);if(o){const l=t.listener=e.listener||Tp();if(l.vnode=t,n)for(c in o)n[c]||s.addEventListener(c,l,!1);else for(c in o)s.addEventListener(c,l,!1)}}}const qn={create:So,update:So,destroy:So};function qc(e,t){let n,r,i;const o=t.elm;let s=e.data.props,c=t.data.props;if(!(!s&&!c)&&s!==c){s=s||{},c=c||{};for(n in c)r=c[n],i=s[n],i!==r&&(n!=="value"||o[n]!==r)&&(o[n]=r)}}const Kn={create:qc,update:qc},Kc=typeof window?.requestAnimationFrame=="function"?window.requestAnimationFrame.bind(window):setTimeout,Cp=e=>{Kc(()=>{Kc(e)})};let To=!1;function _p(e,t,n){Cp(()=>{e[t]=n})}function Yc(e,t){let n,r;const i=t.elm;let o=e.data.style,s=t.data.style;if(!o&&!s||o===s)return;o=o||{},s=s||{};const c="delayed"in o;for(r in o)r in s||(r[0]==="-"&&r[1]==="-"?i.style.removeProperty(r):i.style[r]="");for(r in s)if(n=s[r],r==="delayed"&&s.delayed)for(const l in s.delayed)n=s.delayed[l],(!c||n!==o.delayed[l])&&_p(i.style,l,n);else r!=="remove"&&n!==o[r]&&(r[0]==="-"&&r[1]==="-"?i.style.setProperty(r,n):i.style[r]=n)}function Ip(e){let t,n;const r=e.elm,i=e.data.style;if(!(!i||!(t=i.destroy)))for(n in t)r.style[n]=t[n]}function Ap(e,t){const n=e.data.style;if(!n||!n.remove){t();return}To||(e.elm.offsetLeft,To=!0);let r;const i=e.elm;let o=0;const s=n.remove;let c=0;const l=[];for(r in s)l.push(r),i.style[r]=s[r];const d=getComputedStyle(i)["transition-property"].split(", ");for(;o<d.length;++o)l.indexOf(d[o])!==-1&&c++;i.addEventListener("transitionend",f=>{f.target===i&&--c,c===0&&t()})}function vp(){To=!1}const Yn={pre:vp,create:Yc,update:Yc,destroy:Ip,remove:Ap};function bp(e,...t){const n=Co(t,[]);return n.length===1&&!n[0].sel&&n[0].text?We(void 0,void 0,void 0,n[0].text,void 0):We(void 0,e??{},n,void 0,void 0)}function Co(e,t){for(const n of e)n!=null&&n!==!1&&n!==""&&(Array.isArray(n)?Co(n,t):typeof n=="string"||typeof n=="number"||typeof n=="boolean"?t.push(We(void 0,void 0,void 0,String(n),void 0)):t.push(n));return t}function wp(e,t,...n){const r=Co(n,[]);return typeof e=="function"?e(t,r):r.length===1&&!r[0].sel&&r[0].text?Qr(e,t,r[0].text):Qr(e,t,r)}const Np=Object.freeze(Object.defineProperty({__proto__:null,Fragment:bp,array:Wn,attachTo:dp,attributesModule:Gn,classModule:jn,datasetModule:yp,eventListenersModule:qn,fragment:rp,h:Qr,htmlDomApi:go,init:Vn,jsx:wp,primitive:un,propsModule:Kn,styleModule:Yn,thunk:sp,toVNode:Mc,vnode:We},Symbol.toStringTag,{value:"Module"}));var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Op(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Io,Xc;function kp(){if(Xc)return Io;Xc=1;var e="http://www.w3.org/2000/svg",t=["hook","on","style","class","props","attrs","dataset"],n=Array.prototype.slice;function r(f){return typeof f=="string"||typeof f=="number"||typeof f=="boolean"||typeof f=="symbol"||f===null||f===void 0}function i(f,p,y,h){for(var m={ns:p},T=0,_=h.length;T<_;T++){var S=h[T];f[S]&&(m[S]=f[S])}for(var A in f)if(A!=="key"&&A!=="classNames"&&A!=="selector"){var I=A.indexOf("-");I>0?C(A.slice(0,I),A.slice(I+1),f[A]):m[A]||C(y,A,f[A])}return m;function C(O,L,H){var R=m[O]||(m[O]={});R[L]=H}}function o(f,p,y,h,m,T){if(m.selector&&(h=h+m.selector),m.classNames){var _=m.classNames;h=h+"."+(Array.isArray(_)?_.join("."):_.replace(/\s+/g,"."))}return{sel:h,data:i(m,f,p,y),children:T.map(function(S){return r(S)?{text:S}:S}),key:m.key}}function s(f,p,y,h,m,T){var _;if(typeof h=="function")_=h(m,T);else if(h&&typeof h.view=="function")_=h.view(m,T);else if(h&&typeof h.render=="function")_=h.render(m,T);else throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";return _.key=m.key,_}function c(f,p,y){for(var h=p,m=f.length;h<m;h++){var T=f[h];Array.isArray(T)?c(T,0,y):y.push(T)}}function l(f){if(f){for(var p=0,y=f.length;p<y;p++)if(Array.isArray(f[p])){var h=f.slice(0,p);c(f,p,h),f=h;break}}return f}function u(f,p,y,h,m,T){return m=m||{},T=l(T),typeof h=="string"?o(f,p,y,h,m,T):s(f,p,y,h,m,T)}function d(f,p,y){return function(m,T,_){return(arguments.length>3||!Array.isArray(_))&&(_=n.call(arguments,2)),u(f,p||"props",y||t,m,T,_)}}return Io={html:d(void 0),svg:d(e,"attrs"),JSX:d},Io}var a=kp(),hr={},Jc;function Rp(){if(Jc)return hr;Jc=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.createApi=n;var e="textContent";function t(i,o){var s=i;return s.parent==null&&(s.parent=null),s.firstChildNode==null&&(s.firstChildNode=i.firstChild),s.lastChildNode==null&&(s.lastChildNode=i.lastChild),s}function n(i){var o=void 0;function s(){if(o&&o.defaultView)return o;if(i&&i.clean){var c=document.createElement("iframe");document.head.appendChild(c),o=c.contentDocument,i.trustedTypesPolicy&&c.contentWindow.trustedTypes.createPolicy("default",{createHTML:function(u){return i.trustedTypesPolicy.createHTML(u).toString()},createScript:function(u){return i.trustedTypesPolicy.createScript(u).toString()},createScriptURL:function(u){return i.trustedTypesPolicy.createScriptURL(u).toString()}})}else o=document;return o}return s(),{createElement:function(l){return s().createElement(l)},createElementNS:function(l,u){return s().createElementNS(l,u)},createTextNode:function(l){return s().createTextNode(l)},appendChild:function(l,u){r("appendChild",l,u)},removeChild:function(l,u){r("removeChild",l,u)},insertBefore:function(l,u,d){r("insertBefore",l,u,d)},parentNode:function(l){return l.parentNode},nextSibling:function(l){return l.nextSibling},tagName:function(l){return l.tagName},setTextContent:function(l,u){r(e,l,u)},isElement:function(l){return l.nodeType===1},isText:function(l){return l.nodeType===3},isComment:function(l){return l.nodeType===8},isDocumentFragment:function(l){return l.nodeType===11},createDocumentFragment:function(){return t(s().createDocumentFragment())},createComment:function(l){return s().createComment(l)},getTextContent:function(l){return l.textContent||null}}}hr.default=n();function r(i,o,s,c){if(o.tagName!=="IFRAME")i===e?o[e]=s:o[i](s,c);else{var l=function(){r(i,o.contentDocument.body,s,c)};o.contentDocument&&o.contentDocument.readyState==="complete"?l():o.addEventListener("load",l)}}return hr}var ei=Rp(),Ao={exports:{}},Qc;function Lp(){return Qc||(Qc=1,(function(e){function t(o){var s=typeof o=="object"&&!!o.composed;return s?n(this):r(this)}function n(o){var s=r(o);return i(s)?n(s.host):s}function r(o){return o.parentNode!=null?r(o.parentNode):o}function i(o){return o.nodeName==="#document-fragment"&&o.constructor.name==="ShadowRoot"}e.exports&&(e.exports=t)})(Ao)),Ao.exports}var xp=Lp();const Pp=_o(xp),Zc="|shadow-root|",el="|iframe|",ti=(e,t=document)=>e.includes(Zc)||e.includes(el)?e.split(Zc).flatMap(n=>n.split(el)).reduce((n,r)=>n===null?[...t.querySelectorAll(r)]:n.flatMap(i=>i.shadowRoot?[...i.shadowRoot.querySelectorAll(r)]:i.tagName==="IFRAME"?[...i.contentDocument.querySelectorAll(r)]:[]),null)??[]:[...t.querySelectorAll(e)];function ni(e,t,n){const r=e.data||{};Object.assign(e,{data:Object.assign(r,{[t]:{...r[t],...n}})})}function Dp(e,t,n){const r=e.data||{};Object.assign(e,{data:Object.assign(r,{[t]:n})})}function zn(e,t){return new RegExp(`(?:^${t}[#.]|^${t}$)`,"i").test(e.sel)}function Ne(e,t){try{return e.data.attrs[t]||null}catch{return null}}function ge(e,t,n){ni(e,"attrs",{[t]:n})}function tl(e,t){if(!Object.prototype.hasOwnProperty.call(e.data,"attrs"))return;const{[t]:n=null,...r}=e.data.attrs;Dp(e,"attrs",r)}function gt(e,t,n){ni(e,"on",{[t]:n})}function Fp(e,t){ni(e,"class",{[t]:!0})}function vo(e,t,n){ni(e,"hook",{[t]:n})}function dn(e,t){try{return e.data.class[t]===!0}catch{return!1}}function nl(e){return zn(e,"a")}function rl(e){return zn(e,"img")}function Up(e){return zn(e,"input")}function Hp(e){return zn(e,"form")}function Mp(e){return zn(e,"video")}function il(e,t){const n=/window\.parent\.Appcues\.show\('(.*)'\)/,i=(Ne(e,"onclick")??"").match(n);if(!i)return!0;const[,o]=i;return o&&(tl(e,"onclick"),t(function(){window.Appcues?.show?.(o)})),!0}const ol=e=>e.tagName==="IFRAME",ri=e=>{const t=e.getRootNode(e),n=t.parentWindow||t.defaultView;return n&&n!==window?n.frameElement:null};function fn(e){return{error:!0,errorMessage:e}}function $p(){return Object.prototype.hasOwnProperty.call(Node.prototype,"getRootNode")}function Bp(e){return $p()?e.getRootNode():Pp.call(e)}function sl(e){return e&&["appcues-container","appcues-layer","appcues-checklists","appcues-debugger"].some(n=>e?.tagName?.toLowerCase().includes(n))?!0:e&&e!==document.body&&e!==document.documentElement?sl(e.parentElement):!1}const Wp=e=>{let t=0;for(let n=0;n<e.length&&!(e[n].nodeName!=="APPCUES-EXPERIENCE-CONTAINER"||e[n].nodeName!=="APPCUES-EXPERIENCE-CONTAINER-BUILDER");n++)t=n;return e.slice(t+1)},Vp=(e,t=window.document)=>{try{const n=/^((body\s(>?\s?))?)(?<tagName>[\da-z]+):nth-child\((?<index>\d+)\)(?<remainingSelector>.*)/i,r=e.match(n),i=t.body.firstChild?.nodeName==="APPCUES-EXPERIENCE-CONTAINER"||t.body.firstChild?.nodeName==="APPCUES-EXPERIENCE-CONTAINER-BUILDER";if(!r||!i)return[];const{tagName:o,index:s,remainingSelector:c}=r.groups,l=Number.parseInt(s,10)-1,u=Wp([...document.body.children]),d=u[l]?.nodeName===o.toUpperCase()?u[l]:null;return c?d?ti(`* ${c}`,d):[]:[d]}catch{return[]}};function cl(e,t){const n=typeof e=="string"&&e||typeof e=="object"&&e.selector;if(!n)return fn("Missing selector.");const r=Vp(n,t);let i=r.length>0?r:ti(n,t?.documentElement??t);const o=e.text_filter||e.textFilter,s=!!o,c=typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"order_filter"),l=e.order_filter;if(s&&o.length>=0&&(i=Array.prototype.slice.call(i).filter(u=>u.innerText==null?!1:u.innerText.replace(/\r\n|\r|\n/g," ").toLowerCase().trim()===o.toString().toLowerCase().trim())),c&&l>=0&&(i=i[l]?[i[l]]:[]),i.length===0){let u="",d="";return s&&(u=` with text filter "${o}"`),c&&(d=` with order value ${l}`),fn(`Could not find element for selector "${n}"${s?u:""}${s&&c?" and":""}${c?d:""}.`)}return i=[...i].filter(u=>!sl(u)),i.length>1?fn(`Found ${i.length} elements for selector ${e.selector}.`):i.length===0?fn(`Could not find element for selector "${n}"`):i[0]}function Gp(e,t){if(e.length===0)return fn("Missing selector.");let n;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=cl(e[r],t);if(i&&!i.error){n=i;break}}return n||fn("Could not find an element for list of selectors.")}function bo(e,t=window.document){let n=e;if(n&&typeof n=="object"&&n.length>0){if(n.length>1)return Gp(n,t);[n]=n}return cl(n,t)}function wo(e,t={}){return!!(!(t.display!=="contents")||e&&(e.offsetWidth||e.offsetHeight)&&e.offsetWidth>0&&e.offsetHeight>0)}function No(e,t){if(ol(e)){const n=e.contentDocument.body;return n.scrollHeight>n.clientHeight}return t!=="visible"&&e.scrollHeight>e.clientHeight}function Oo(e){return e==="fixed"||e==="relative"||e==="absolute"||e==="sticky"}function ll(e){return e.display==="flex"||e.display==="inline-flex"}function al(e,t,n,r,i={}){const o=i;let s=t.zIndex;const c=t.position,u=ri(e)||e.parentElement,d=u?r.getComputedStyle(u):{};if(o.fixed||(o.fixed=c==="fixed"||c==="sticky"),o.absolute||(o.absolute=c==="absolute"),o.opacity=Number.parseFloat(ne.defined(o.opacity)?o.opacity:1)*Number.parseFloat(t.opacity),o.hiddenOverflow||(o.hiddenOverflow=!wo(e,t)&&t.overflow==="hidden"&&!o.fixed&&!o.absolute),o.hasScrollableParent||(o.hasScrollableParent=No(e,t.overflowY)),s!==""&&s!=="auto"&&!Oo(c)&&!ll(d)&&(s="auto"),(ne.undefined(o.zIndex)||s!==""&&s!=="auto"&&(Oo(c)||ll(d)))&&(o.zIndex=s),u&&u!==n.body&&u!==n.documentElement)return al(u,d,n,r,o);if(/^\d+$/.test(o.zIndex)){let f=Number.parseInt(o.zIndex,10);f+=1,o.zIndex=f}return o}function jp(e,t){const{documentElement:n}=e;return{xOffset:(t.pageXOffset||0)-n.clientLeft,yOffset:(t.pageYOffset||0)-n.clientTop}}function ko({left:e,top:t,right:n,bottom:r},{xOffset:i,yOffset:o}){return{left:e+i,top:t+o,right:n+i,bottom:r+o}}function qp(e){const t=e.getRootNode(),n=t.parentWindow||t.defaultView;if(n!==window&&n){const{frameElement:i}=n,{top:o,left:s}=i.getBoundingClientRect();return{top:o,left:s}}return{top:0,left:0}}function ul(e,t,n=window.document){let r=e;const i=bo(t,n);if(i.error)return i;r=i;const o=ri(r),s={element:r},c=r.ownerDocument||document,l=c.defaultView||window,u=qp(r),{left:d,top:f,right:p,bottom:y}=r.getBoundingClientRect(),h={left:d,top:f,right:p,bottom:y};let m={left:d,top:f,right:p,bottom:y};const T=l.getComputedStyle(r),{fixed:_,zIndex:S,opacity:A,hiddenOverflow:I,hasScrollableParent:C}=al(r,T,c,l);if(!_&&!o){const H=c.body,R=jp(c,l);if(m=ko(m,R),Oo(l.getComputedStyle(H).position)){const{documentElement:j}=c,{overflowY:K}=l.getComputedStyle(j),{overflowY:fe}=l.getComputedStyle(H);No(H,fe)&&K!=="visible"&&(R.yOffset-=H.scrollTop);const w=ko(H.getBoundingClientRect(),R);m=ko(m,{xOffset:-1*w.left,yOffset:-1*w.top})}}const O=(m.right<0||m.bottom<0)&&!C;return!wo(r)||T.visibility==="hidden"||A===0||I||O?fn("Targeted element is present but not visible."):Object.assign(s,{boundingRect:m,fixed:_,zIndex:S,relativeBoundingRect:h,viewport:{width:c.documentElement.clientWidth,height:c.documentElement.clientHeight},iframeParent:o,padding:u})}function Kp(e,t,n,r){return{xRegion:Math.floor(Math.min(Math.max(e,0),n-1)/(n/4)),yRegion:Math.floor(Math.min(Math.max(t,0),r-1)/(r/4))}}function Yp(e,t){return Math.min(yd,Math.max(gd,(e-t)/2))}function zp(e){const{documentElement:t}=e;return t.scrollTop>0||t.clientHeight<t.scrollHeight?t:e.body}function Xp(e,t,n,r,i,o,s){const c=Math.ceil(r+e+i-n-s*o);let l=!1;c>e&&c<e+r&&(l=!0);const u=c-r/2,d=t-r;return{idealScrollTop:Math.max(0,Math.min(u,d)),visibleInContainer:l}}const dl=e=>{if(e.assignedSlot){const{host:r}=e.assignedSlot.parentNode;return r??e.assignedSlot.parentNode}const t=ri(e);return t||(e.parentNode?.host?.tagName?.includes("-")?e.parentNode?.host:e.parentElement)};function Jp(e,t){const n=[];let r=dl(e);const i=t||document,{documentElement:o,body:s}=i;let c=window.getComputedStyle(e).position==="fixed";for(;!c&&r&&r!==s;){const{overflowY:u,position:d}=window.getComputedStyle(r);No(r,u)&&(ol(r)?n.push(r.contentDocument.body):n.push(r)),c=d==="fixed",r=dl(r)}const l=zp(i);return!c&&(o.scrollHeight>o.clientHeight||l.scrollHeight>l.clientHeight)&&n.push(l),n}function fl(e,t,n,r){const i=r||document,o=e.getBoundingClientRect(),{height:s}=o;let{bottom:c}=o;return n.map(l=>{let{bottom:u}=l.getBoundingClientRect();const{scrollTop:d,scrollHeight:f}=l;let{clientHeight:p}=l;(l===i.documentElement||l===i.body)&&(p=Math.min(i.documentElement.clientHeight||Number.POSITIVE_INFINITY,i.body.clientHeight||Number.POSITIVE_INFINITY),p=p===Number.POSITIVE_INFINITY?window.innerHeight:p,u=p);const{idealScrollTop:y,visibleInContainer:h}=Xp(d,f,u,p,c,s,t);return c+=d-y,{el:l,scrollTop:y,visibleInContainer:h}})}function ii(e,t){return e&&t?Object.keys(e).every(n=>e[n]===t[n]):!1}function Qp(e,t){return e.error||t.error?e.error&&t.error&&e.errorMessage===t.errorMessage:e.fixed===t.fixed&&e.zIndex===t.zIndex&&e.element===t.element&&ii(e.boundingRect||{},t.boundingRect||{})&&ii(e.relativeBoundingRect||{},t.relativeBoundingRect||{})&&ii(e.viewport||{},t.viewport||{})&&ii(e.padding||{},t.padding||{})}function Ro(e){const t=e.ownerDocument;return t&&t.documentElement.contains(e)}function Zp(e){const{height:t,width:n,top:r,left:i}=e.getBoundingClientRect(),o=n/2+i,s=-1*(t/2+r);return{originX:o,originY:s,majorAxis:n/2-.5,minorAxis:t/2-.5}}function eh(e,t,n){const{originX:r,originY:i,majorAxis:o,minorAxis:s}=n,c=e,l=-1*t;return(c-r)**2/o**2+(l-i)**2/s**2<=1}function th(e,t,n){return[(-1*t+Math.sqrt(t**2-4*e*n))/(2*e),(-1*t-Math.sqrt(t**2-4*e*n))/(2*e)]}function pl(e,t){return Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function nh(e,t,n){const{originX:r,originY:i,majorAxis:o,minorAxis:s}=n,c=e,l=-1*t,u=(l-i)/(c-r),d=l-u*c,f=s**2+o**2*u**2,p=2*(o**2*u*(d-i)-s**2*r),y=s**2*r**2+o**2*(d-i)**2-s**2*o**2,h=th(f,p,y).map(m=>{const T=u*m+d;return{x:m,y:T}}).reduce((m,T)=>!m||pl({x:c,y:l},T)<pl({x:c,y:l},m)?T:m,null);return{...h,y:-1*h.y}}function hl(e,t,n){const r=n?.ownerDocument??window.document;let i=(n?Bp(n):null)??r;i.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&i.nodeType!==Node.DOCUMENT_NODE&&(i=r);const o=getComputedStyle(n).pointerEvents==="none",{pointerEvents:s}=n.style;o&&(n.style.pointerEvents="auto");const c=i.msElementsFromPoint?i.msElementsFromPoint(e,t):i.elementsFromPoint(e,t);if(o&&(n.style.pointerEvents=s),!c)return!1;const l=r.documentElement.querySelector("appcues-layer"),u=it(c,d=>!(l&&l.contains(d)));return n.contains(u)}function rh({xOffset:e,yOffset:t,element:n}){if(!n)return!1;if(document.fullscreenElement&&/appcues-/.test(document.fullscreenElement.className))return!0;const{left:r,top:i,right:o,bottom:s}=n.getBoundingClientRect(),c=o-r,l=s-i,u=Math.min(Math.max(1,e*c),c-1)+r,d=Math.min(Math.max(1,t*l),l-1)+i;if(hl(u,d,n))return!0;const f=Zp(n);if(eh(u,d,f)||f.majorAxis<=0||f.minorAxis<=0)return!1;const{x:p,y}=nh(u,d,f);return hl(p,y,n)}function ih(e,t){const n=e,r=n.className.split(" ");r.includes(t)||(n.className=[...r,t].filter(i=>i).join(" "))}function oh(e,t){const n=e,r=n.className.split(" "),i=r.indexOf(t);i>-1&&(r.splice(i,1),n.className=r.join(" "))}function mr(e){return(e.readyState==="interactive"||e.readyState==="complete")&&e.body}function oi(e,t,n){const r=t.lastIndexOf("/")+1,i=t.slice(r);Array.prototype.some.call([...e.styleSheets],o=>(o?.href??"").indexOf(i)!==-1)?setTimeout(()=>n(),5):setTimeout(()=>oi(e,t,n),5)}function sh(e,t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(()=>{t()})})}function ch(e,t,n){let r;const i=new Promise(o=>{r=s=>{n&&!n(s)||(e.removeEventListener(t,r),o(!0))},e.addEventListener(t,r)});return{listener:r,promise:i}}function ct(e,t=5){const n=e.ownerDocument;t<=0||e&&n.activeElement!==e&&(e.focus({preventScroll:!0}),setTimeout(()=>{n.documentElement.contains(e)&&ct(e,t-1)},200))}function ml(e){e&&e.tagName==="BODY"?e.hasAttribute("tabindex")?e.focus({preventScroll:!0}):(e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),setTimeout(()=>{e.removeAttribute("tabindex")},500)):e&&e.focus({preventScroll:!0})}function si(e){return[...e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(t=>!t.hasAttribute("disabled"))}const vt=P(e=>e.target.textContent,"");function lh(e="",t=!0){const n=["h1","h2","h3","h4","h5","h6"];let o=!1;return s=>{n.some(c=>zn(s,c))&&!o&&(o=!0,ge(s,"tabindex","0"),e&&ge(s,"id",e),gt(s,"blur",c=>{setTimeout(()=>{c.target.removeAttribute("tabindex"),tl(s,"tabindex")},400)}),vo(s,"insert",c=>{c.elm&&t&&setTimeout(()=>{ct(c.elm)},500)}))}}function ah(){return a.svg("svg",{width:"16px",height:"13px",viewBox:"0 0 16 13"},a.svg("defs",null),a.svg("g",{id:"Icon-Check-Mark",stroke:"none","stroke-width":"1",fill:"white","fill-rule":"evenodd"},a.svg("path",{d:"M5.4375,12.4668236 L0.21875,7.27932363 C0.0729165077,7.13349013 0,6.94599013 0,6.71682363 C0,6.48765712 0.0729165077,6.30015712 0.21875,6.15432363 L1.375,5.02932363 C1.52083349,4.86265712 1.703125,4.77932363 1.921875,4.77932363 C2.140625,4.77932363 2.33333349,4.86265712 2.5,5.02932363 L6,8.52932363 L13.5,1.02932363 C13.6666665,0.86265712 13.859375,0.779323627 14.078125,0.779323627 C14.296875,0.779323627 14.4791665,0.86265712 14.625,1.02932363 L15.78125,2.15432363 C15.9270835,2.30015712 16,2.48765712 16,2.71682363 C16,2.94599013 15.9270835,3.13349013 15.78125,3.27932363 L6.5625,12.4668236 C6.41666651,12.6334901 6.22916651,12.7168236 6,12.7168236 C5.77083349,12.7168236 5.58333349,12.6334901 5.4375,12.4668236 Z",id:"",fill:"#ffffff"})))}function uh({color:e="#039be5"}){return a.svg("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a.svg("defs",null),a.svg("g",{id:"Icon-Caret-Right",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a.svg("path",{d:"M6.82142857,1.03571182 L7.60714286,0.249999404 C7.77380971,0.083332953 7.97619029,0 8.21428571,0 C8.45238113,0 8.65476172,0.083332953 8.82142857,0.249999404 L15.75,7.17855431 C15.9166668,7.34522076 16,7.54760087 16,7.78569572 C16,8.02379058 15.9166668,8.22617068 15.75,8.39283713 L8.82142857,15.321392 C8.65476172,15.4880585 8.45238113,15.5713914 8.21428571,15.5713914 C7.97619029,15.5713914 7.77380971,15.4880585 7.60714286,15.321392 L6.82142857,14.5356796 C6.63095256,14.3690132 6.54166685,14.1666331 6.55357143,13.9285382 C6.56547601,13.6904434 6.65476172,13.4880633 6.82142857,13.3213968 L11.1071429,9.21426375 L0.857142857,9.21426375 C0.619047437,9.21426375 0.416666848,9.13093079 0.25,8.96426434 C0.0833331517,8.79759789 0,8.59521778 0,8.35712293 L0,7.21426851 C0,6.97617366 0.0833331517,6.77379356 0.25,6.6071271 C0.416666848,6.44046065 0.619047437,6.3571277 0.857142857,6.3571277 L11.1071429,6.3571277 L6.82142857,2.24999464 C6.65476172,2.08332818 6.56547601,1.88094808 6.55357143,1.64285323 C6.54166685,1.40475837 6.63095256,1.20237827 6.82142857,1.03571182 Z",id:"",fill:e})))}function dh({color:e="#999"}){return a.svg("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16"},a.svg("defs",null),a.svg("g",{id:"Icon-Arrow-Down",stroke:"none","stroke-width":"1",fill:e,"fill-rule":"evenodd"},a.svg("path",{d:"M7.18944314,11.1875067 L3.20507764,7.20314121 C3.06835906,7.06642263 3,6.9004077 3,6.70509552 C3,6.50978333 3.06835906,6.3437684 3.20507764,6.20704983 L3.87890415,5.56252012 C4.01562273,5.42580154 4.18163766,5.35744248 4.37694984,5.35744248 C4.57226203,5.35744248 4.73827696,5.42580154 4.87499553,5.56252012 L7.68748882,8.37501341 L10.4999821,5.56252012 C10.6367007,5.42580154 10.8027156,5.35744248 10.9980278,5.35744248 C11.19334,5.35744248 11.3593549,5.42580154 11.4960735,5.56252012 L12.1699,6.20704983 C12.3066186,6.3437684 12.3749776,6.50978333 12.3749776,6.70509552 C12.3749776,6.9004077 12.3066186,7.06642263 12.1699,7.20314121 L8.18553451,11.1875067 C8.04881594,11.3242253 7.88280101,11.3925843 7.68748882,11.3925843 C7.49217664,11.3925843 7.32616171,11.3242253 7.18944314,11.1875067 Z",id:"",fill:e})))}function fh({width:e,height:t,color:n}){return a.svg("svg",{"attrs-width":e,"attrs-height":t,"attrs-viewBox":"0 0 24.7 22.8"},a.svg("title",null,"checkmark"),a.svg("path",{"attrs-fill":n,class:"cls-1",d:"M18.4,17.4l-.3.3-.3.3h0a8.54,8.54,0,0,1-5.4,2,8.5,8.5,0,0,1,0-17,8.66,8.66,0,0,1,5.4,1.9l2.1-2.1A11.55,11.55,0,0,0,12.4,0,11.4,11.4,0,1,0,23.8,11.9Zm-5.8.5L6.1,11.4a1,1,0,0,1,0-1.4L7.5,8.6a1.08,1.08,0,0,1,.7-.3.91.91,0,0,1,.7.3L13.2,13l9.3-9.4a1,1,0,0,1,1.4,0L25.4,5a1,1,0,0,1,0,1.4L14,17.9a1,1,0,0,1-1.4,0Z",transform:"translate(-1 0)"}))}function ph({width:e,height:t,color:n}){return a.svg("svg",{width:e,height:t,viewBox:"0 0 77 77",fill:"blue"},a.svg("title",null,"Artboard"),a.svg("desc",null,"Created with Sketch."),a.svg("defs",null),a.svg("g",{id:"Artboard",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a.svg("g",{id:"Group",transform:"translate(2.000000, 2.000000)",fill:n},a.svg("path",{d:"M36.5,72.5 C16.617749,72.5 0.5,56.382251 0.5,36.5 C0.5,16.617749 16.617749,0.5 36.5,0.5 C56.382251,0.5 72.5,16.617749 72.5,36.5 C72.5,56.382251 56.382251,72.5 36.5,72.5 Z M36.5,69.5 C54.7253967,69.5 69.5,54.7253967 69.5,36.5 C69.5,18.2746033 54.7253967,3.5 36.5,3.5 C18.2746033,3.5 3.5,18.2746033 3.5,36.5 C3.5,54.7253967 18.2746033,69.5 36.5,69.5 Z M32.7096583,27.0197504 C32.3597576,27.0197504 32.0723398,26.9364171 31.8474039,26.7697504 C31.622468,26.6030837 31.51,26.390121 31.51,26.1308615 L31.51,23.9086393 C31.51,23.6493797 31.622468,23.4364171 31.8474039,23.2697504 C32.0723398,23.1030837 32.3597576,23.0197504 32.7096583,23.0197504 L54.3035083,23.0197504 C54.653409,23.0197504 54.9408268,23.1030837 55.1657627,23.2697504 C55.3906987,23.4364171 55.5031667,23.6493797 55.5031667,23.9086393 L55.5031667,26.1308615 C55.5031667,26.390121 55.3906987,26.6030837 55.1657627,26.7697504 C54.9408268,26.9364171 54.653409,27.0197504 54.3035083,27.0197504 L32.7096583,27.0197504 Z M32.7096583,39.1382527 C32.3597576,39.1382527 32.0723398,39.0549194 31.8474039,38.8882527 C31.622468,38.7215861 31.51,38.5086234 31.51,38.2493638 L31.51,36.0271416 C31.51,35.7678821 31.622468,35.5549194 31.8474039,35.3882527 C32.0723398,35.2215861 32.3597576,35.1382527 32.7096583,35.1382527 L54.3035083,35.1382527 C54.653409,35.1382527 54.9408268,35.2215861 55.1657627,35.3882527 C55.3906987,35.5549194 55.5031667,35.7678821 55.5031667,36.0271416 L55.5031667,38.2493638 C55.5031667,38.5086234 55.3906987,38.7215861 55.1657627,38.8882527 C54.9408268,39.0549194 54.653409,39.1382527 54.3035083,39.1382527 L32.7096583,39.1382527 Z M32.7096583,51.2567551 C32.3597576,51.2567551 32.0723398,51.1734217 31.8474039,51.0067551 C31.622468,50.8400884 31.51,50.6271257 31.51,50.3678662 L31.51,48.1456439 C31.51,47.8863844 31.622468,47.6734217 31.8474039,47.5067551 C32.0723398,47.3400884 32.3597576,47.2567551 32.7096583,47.2567551 L54.3035083,47.2567551 C54.653409,47.2567551 54.9408268,47.3400884 55.1657627,47.5067551 C55.3906987,47.6734217 55.5031667,47.8863844 55.5031667,48.1456439 L55.5031667,50.3678662 C55.5031667,50.6271257 55.3906987,50.8400884 55.1657627,51.0067551 C54.9408268,51.1734217 54.653409,51.2567551 54.3035083,51.2567551 L32.7096583,51.2567551 Z M23.2982062,28.2493526 L22.1735266,29.4602668 C21.9735831,29.6116311 21.7486472,29.6873132 21.4987187,29.6873132 C21.2487903,29.6873132 21.0238544,29.6116311 20.8239109,29.4602668 L17.2999146,25.8275243 C17.0999711,25.6761601 17,25.4743407 17,25.2220673 C17,24.9697939 17.0749786,24.7427475 17.2249359,24.5409281 L18.4245943,23.405696 C18.6245377,23.2038766 18.8494736,23.1029675 19.0994021,23.1029675 C19.3493305,23.1029675 19.549274,23.2038766 19.6992312,23.405696 L21.4237401,25.070703 L26.2223734,20.2270464 C26.3723307,20.0756821 26.5722742,20 26.8222026,20 C27.072131,20 27.297067,20.0756821 27.4970104,20.2270464 L28.7716474,21.5136427 C28.9216047,21.7154621 28.9965833,21.9298944 28.9965833,22.1569408 C28.9965833,22.3839872 28.8966122,22.5984196 28.6966687,22.800239 L28.7716474,22.800239 L23.2982062,28.2493526 Z M23.2982062,40.4435371 L22.1735266,41.5787691 C21.9735831,41.7805885 21.7486472,41.8814977 21.4987187,41.8814977 C21.2487903,41.8814977 21.0238544,41.7805885 20.8239109,41.5787691 L17.2999146,38.0217088 C17.0999711,37.8198894 17,37.6054571 17,37.3784107 C17,37.1513643 17.0749786,36.9369319 17.2249359,36.7351125 L18.4245943,35.5241984 C18.6245377,35.3728341 18.8494736,35.297152 19.0994021,35.297152 C19.3493305,35.297152 19.549274,35.3728341 19.6992312,35.5241984 L21.4237401,37.1892053 L26.2223734,32.4212309 C26.3723307,32.2194115 26.5722742,32.1185023 26.8222026,32.1185023 C27.072131,32.1185023 27.297067,32.2194115 27.4970104,32.4212309 L28.7716474,33.7078272 C28.9216047,33.8591914 28.9965833,34.0610108 28.9965833,34.3132842 C28.9965833,34.5655576 28.8966122,34.792604 28.6966687,34.9944234 L28.7716474,34.9944234 L23.2982062,40.4435371 Z M23.2982062,52.5620394 L22.1735266,53.6972715 C21.9735831,53.8990909 21.7486472,54 21.4987187,54 C21.2487903,54 21.0238544,53.8990909 20.8239109,53.6972715 L17.2999146,50.1402111 C17.0999711,49.9383917 17,49.7239594 17,49.496913 C17,49.2698666 17.0749786,49.0554343 17.2249359,48.8536149 L18.4245943,47.6427007 C18.6245377,47.4913364 18.8494736,47.4156543 19.0994021,47.4156543 C19.3493305,47.4156543 19.549274,47.4913364 19.6992312,47.6427007 L21.4237401,49.3077077 L26.2223734,44.5397332 C26.3723307,44.3379138 26.5722742,44.2370047 26.8222026,44.2370047 C27.072131,44.2370047 27.297067,44.3379138 27.4970104,44.5397332 L28.7716474,45.8263295 C28.9216047,45.9776938 28.9965833,46.1795132 28.9965833,46.4317866 C28.9965833,46.68406 28.8966122,46.9111064 28.6966687,47.1129258 L28.7716474,47.1129258 L23.2982062,52.5620394 Z",id:""}))))}const hh=e=>{const{label:t,items_remaining:n,onBeaconClicked:r,setWidth:i,isBottomRight:o,styles:s,percentComplete:c,isChecklistExpanded:l,controls:u,setRef:d}=e,{beacon_background_color:f,beacon_text_color:p}=s,y=h=>{h.key==="Tab"&&(h.currentTarget.style.outline=""),(h.key===" "||h.key==="Enter")&&r()};return a.html("div",{"attrs-role":"button","attrs-aria-expanded":l?"true":"false","attrs-aria-controls":u,"class-beacon":!0,"class-right":o,"hook-update":h=>i(h.elm),"attrs-tabindex":"0","attrs-aria-label":`${t} ${n} items remaining, ${c} complete`,"on-keyup":y,"hook-insert":d,"on-mousedown":h=>{h.currentTarget.style.outline="none"},"on-click":r,style:{backgroundColor:f}},a.html("div",{"attrs-aria-hidden":"true"},a.html("div",{"class-icon":!0,style:{color:p}}),a.html(fh,{height:"20px",width:"20px",color:p||"#FFFFFF"}),a.html("div",{"class-label":!0,style:{color:p}},t),a.html("div",{"class-badge":!0,style:{color:f}},n)))},mh=e=>{const{actions:t,label:n,state:r,onItemClicked:i,styles:o,itemNumberLabel:s,isSequential:c,depends_on:l,items:u,isChecklistExpanded:d,setRef:f}=e,p=r==="complete",y=t?t.length===0:!1,h=u.reduce((I,C)=>({...I,[C.id]:C}),{}),T=(l||[]).filter(I=>h[I]&&h[I].state==="incomplete").map(I=>h[I].label).length===0,_=c&&!T&&!p,S=I=>{(I.key===" "||I.key==="Enter")&&i()},A=t?t.some(I=>I.attributes.action_type==="redirect"):!1;return a.html("li",{"class-item":!0,"class-completed":p,"class-locked":_,"class-actionless":y,"on-click":_?()=>{}:i,"attrs-tabindex":d?"0":"-1","on-keyup":_?()=>{}:S,"attrs-role":A?"link":"button","attrs-type":A?"":"button","hook-insert":s==="1"?f:void 0},a.html("a",null,a.html("span",{"class-checkmark":!0},a.html("span",{"class-sequential-label":c&&!p},s),a.html(ah,null)),a.html("p",null,n,a.html("span",{"class-sr-only":!0},` - ${p?"completed":"incomplete"}`)),a.html(uh,{color:o.beacon_background_color})))};function le(){return We(void 0,{},void 0,"")}function Pt(e){if(window.AppcuesBundleSettings&&window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN){const{GENERIC_BUNDLE_DOMAIN:t}=window.AppcuesBundleSettings;return`${t}${e}`}return`https://fast.appcues.com${e}`}const Eh="/generic/main/7.7.0/checklist.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",gh="CIdJsbqZD3OCb40Kncy+q/MzuR2VTtMLi6Unvcp2N9c=",Lo=Pt(Eh),El=30,yh=-300,Sh="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/";let Er=null,gr=null;const Th=e=>{const{id:t,name:n,styles:r,text_tokens:i,items:o,is_checklist_expanded:s,is_first_view:c,frameHeight:l,beaconWidth:u,onBeaconClicked:d,onItemClicked:f,onOutsideClicked:p,onDismissClicked:y,onDismissCanceled:h,onDismissConfirmed:m,onCSSLoaded:T,onMinimizedClicked:_,shouldShowConfirmDismiss:S,onExpandChecklistResize:A,onCollapseBeaconResize:I,status:C,progress_state:O,is_sequential:L,is_dismissable:H,showBadge:R,collisionMode:j,collisionCoordinates:K,isInjectableSDK:fe}=e,w=me=>{fe||setTimeout(()=>{ct(me.elm)},300)},J=i.beacon_text||"Get Started",ue=60,{length:pe}=o.length>0?o.filter(me=>me&&me.state&&me.state!=="complete"):[],Ce="appcues-checklist-main",Re=`${Math.floor((o.length-pe)/o.length*100)||0}%`,nt=pe===0,Pe=i.header_text||"Getting Started",W=i.description_text||"Here are a few things to do first.",Y=i.completion_dismiss_text||"I'm done",ie=i.completion_title||"Congratulations!",_e=i.completion_text||"Youve completed the first few steps. You can always come back if you need more help.",oe=O==="shown_manually"?nt:O==="completed",de=i.dismiss_text||"No thanks",N=i.dismiss_prompt_text||"Are you sure you want to dismiss this list?",x=i.dismiss_cancel_text||"Keep it",k=i.dismiss_confirm_text||"Dismiss it",X=`.checklist .checklist-body .item:hover:not(.completed):not(.locked) a,
    .checklist .checklist-header.checklist-congrats:hover .dismiss-link,
    .checklist .skip-link:hover,
    .checklist .checklist-main .powered-by-appcues:hover {
        color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item:hover:not(.completed):not(.locked) a .checkmark {
        border-color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item:hover:not(.completed):not(.locked) a .checkmark .sequential-label{
        color: ${r.beacon_background_color};
      }
      .checklist .checklist-body .item.completed a .checkmark {
        background-color: ${r.success_color};
        border-color: ${r.success_color};
      }
      .checklist .checklist-header.checklist-congrats h3 {
        color: ${r.success_color};
      }`,ee=`
    @keyframes checkAppear {
      0% {
        border-color: inherit;
        background-color: inherit;
        -webkit-transform: none;
                transform: none;
      }
      20% {
        border-color: #555555;
      }
      35% {
        -webkit-transform: none;
                transform: none;
      }
      45% {
        border-color: #555555;
        background-color: white;
        -webkit-transform: scale(0.7);
                transform: scale(0.7);
      }
      58% {
        border-color: ${r.success_color};
        background-color: ${r.success_color};
        -webkit-transform: scale(1.25);
                transform: scale(1.25);
      }
      64% {
        -webkit-transform: scale(1.25);
                transform: scale(1.25);
      }
      100% {
        border-color: ${r.success_color};
        background-color: ${r.success_color};
        -webkit-transform: none;
                transform: none;
      }
    }
    .checklist .checklist-body .item.completed a .checkmark {
      animation-name: checkAppear;
      animation-duration: 1.5s;
      animation-timing-function: cubic-bezier(0, 0, 0.23, 1.27);
      animation-iteration-count: 1;
    }
  `,{position:Z}=r,B=Z==="Bottom Right",G=s?{height:`${l}px`,width:"364px"}:{height:`${ue}px`,width:`${u}px`,transition:"all 0s linear 1s"},Oe=12,De=12,{beacon_vertical_offset:rr,beacon_horizontal_offset:ir}=r,Ot=B?"right":"left",Di=c?yh:El,XI={opacity:0,delayed:{opacity:100},remove:{opacity:0},destroy:{opacity:0},bottom:j?`${K.y}px`:`${El+rr}px`,[Ot]:j?`${K.x}px`:`${Di+ir}px`},or=me=>{if(me){const zt=me.getBoundingClientRect().height+ue+Oe+De;Math.ceil(zt)!==l&&window.requestAnimationFrame(()=>A(t,zt))}else window.requestAnimationFrame(()=>A(t,359))},JI=18,QI=me=>{if(me){const zt=me.getBoundingClientRect().width+JI;Math.ceil(zt)!==u&&window.requestAnimationFrame(()=>{I(t,zt)})}},ld=me=>{me.target.nodeName!=="APPCUES-EXPERIENCE-CONTAINER"&&!j&&p(t)},Fi=r.font,ad=r.font_url,ZI=`
    .checklist-main .title, .desc, .completed-caption, .sequential-label,
    .item a, .skip-link, .dismiss-text, .button-default {
      font-family: ${Fi};
    }

    .checklist-main .checklist-congrats h3, p, .dismiss-link {
      font-family: ${Fi};
    }

    .beacon .label, .badge {
      font-family: ${Fi};
    }
  `,ud=r.custom_background_color,eA=`
    .checklist-main,
    .checklist-main .checklist-body .item .checkmark,
    .checklist-main .checklist-body .dismiss-container,
    .checklist-main .checklist-header.checklist-congrats
     {
      background-color: ${ud};
    }
  `,Fr=r.custom_font_color,tA=`
    .checklist-main .title, .desc, .completed-caption, .sequential-label,
    .item a, .skip-link, .dismiss-text, .button-default,
    .checklist-main .checklist-header.checklist-congrats p,
    .checklist-main .checklist-body .item p,
    .checklist-main .checklist-body .item .checkmark,
    .checklist-main .checklist-body .item .checkmark > span,
    .checklist-main .checklist-footer .skip-link,
    .checklist-main .checklist-footer .powered-by-appcues {
      color: ${Fr};
    }
    .checklist-main .checklist-header {
      border-bottom: 1px solid ${Fr};
    }
    .checklist-main .checklist-body .item .checkmark {
      border: 2px solid ${Fr};
    }
    .checklist-main .checklist-footer .skip-link:hover,
    .checklist-main .checklist-footer .powered-by-appcues:hover,
    .checklist-main .checklist-body .item:hover:not(.actionless) p
     {
      color: ${r.beacon_background_color};
    }
  `,dd=r.custom_hover_state_color,nA=`
    .checklist-main .checklist-body .item:hover:not(.actionless) {
      background-color: ${dd};
    }
  `;return a.html("appcues-checklist",{"class-apcl-right":B,"class-apcl-left":!B,"class-first-view":c,key:t,"hook-remove":()=>document.removeEventListener("click",ld),style:XI},a.html("iframe",{"style-border":"none",style:G,"style-color-scheme":"none"},a.html("link",{"attrs-href":Lo,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":gh,"attrs-crossorigin":"anonymous","on-load":()=>{T(t,Lo,!0),document.addEventListener("click",ld)},"on-error":()=>{T(t,Lo,!1)}}),ad?a.html("link",{"attrs-href":ad,"attrs-rel":"stylesheet"}):a.html(le,null),a.html("style",{"attrs-type":"text/css"},X),a.html("style",{"attrs-type":"text/css"},ee),Fi?a.html("style",{"attrs-type":"text/css"},ZI):a.html(le,null),ud?a.html("style",{"attrs-type":"text/css"},eA):a.html(le,null),Fr?a.html("style",{"attrs-type":"text/css"},tA):a.html(le,null),dd?a.html("style",{"attrs-type":"text/css"},nA):a.html(le,null),C===Q.SHOWING?a.html("div",{"class-checklist":!0},r.type==="beacon"&&!j?a.html(hh,{styles:r,label:J,items_remaining:pe,onBeaconClicked:()=>{d(t),or()},setWidth:QI,isBottomRight:B,percentComplete:Re,isChecklistExpanded:s,controls:Ce,setRef:me=>{gr=me}}):a.html(le,null),a.html("div",{"attrs-id":Ce,"class-checklist-main":!0,"class-expanded":s,"hook-update":me=>or(me.elm)},a.html("div",{"class-checklist-container":!0},a.html("div",{"class-checklist-header":!0,"class-checklist-congrats":oe},oe?a.html("div",{"class-header-content":!0},a.html("span",{"class-emoji":!0},a.html(Ch,{successImageCode:r.success_image_code,customSuccessImageUrl:r.custom_success_image_url,successColor:r.success_color})),a.html("h3",null,ie),a.html("p",null,_e)):a.html("div",{"class-header-content":!0},a.html("h2",{"class-title":!0},Pe),a.html("div",{"class-desc":!0},W),a.html("div",{"class-progress-container":!0},a.html("span",{"class-completed-caption":!0},Re),a.html("span",{"class-progress-bar":!0},a.html("span",{"class-progress-bar-complete":!0,"class-progress-bar-done":nt,"style-width":Re,"style-backgroundColor":r.beacon_background_color})))),oe?a.html("button",{type:"button","class-dismiss-link":!0,"attrs-tabindex":"0","on-keyup":me=>{(me.key===" "||me.key==="Enter")&&m(t,n,oe)},"on-click":()=>m(t,n,oe)},Y):s?a.html("div",{style:{visibility:s?"visible":"hidden"},"attrs-role":"button","attrs-aria-expanded":s?"true":"false","attrs-aria-controls":Ce,"attrs-aria-label":"Minimize checklist","class-minimize":!0,"attrs-tabindex":"0","hook-insert":w,"on-keyup":me=>{(me.key===" "||me.key==="Enter")&&(_(t),gr&&w(gr))},"on-click":()=>{_(t),gr&&w(gr)}},a.html("div",{"attrs-aria-hidden":"true"},a.html(dh,{color:Fr||"#999"}))):a.html(le,null)),a.html("div",{"class-checklist-body":!0,"class-show-confirm":S},S?a.html(le,null):a.html("ul",{"class-items":!0},o.map((me,zt)=>a.html(mh,{...me,checklistId:t,items:o,onItemClicked:()=>s&&f(t,me.id),styles:r,isSequential:L,itemNumberLabel:`${zt+1}`,isChecklistExpanded:s,setRef:rA=>{Er=rA}}))),S?a.html("div",{"class-dismiss-container":!0},a.html("div",{"class-content-container":!0},a.html("div",{"class-dismiss-content":!0},a.html("div",{"class-dismiss-text":!0},N),a.html("div",{"class-button-container":!0},a.html("div",{"class-button-row":!0},a.html("a",{"class-button-default":!0,"class-alt":!0,"class-cancel-dismiss":!0,"attrs-tabindex":"0",role:"button",type:"button","hook-insert":w,"on-keyup":me=>{(me.key===" "||me.key==="Enter")&&(h(t),or(),Er&&w(Er))},"on-click":()=>{h(t),or(),Er&&w(Er)}},x),a.html("a",{"class-button-default":!0,"attrs-tabindex":"0",role:"button",type:"button","on-keyup":me=>{(me.key===" "||me.key==="Enter")&&m(t,n,nt)},"on-click":()=>m(t,n,nt)},a.html("strong",null,"")," ",k)))))):a.html(le,null)),a.html("div",{"class-checklist-footer":!0},H&&s&&!oe&&!S?a.html("button",{type:"button","class-skip-link":!0,"class-left":B,"attrs-tabindex":"0","on-keyup":me=>{(me.key===" "||me.key==="Enter")&&(y(t),document.querySelector("appcues-checklist iframe").contentDocument.documentElement.querySelector(".cancel-dismiss").focus(),or())},"on-click":()=>{y(t),or()}},de):a.html(le,null),s&&oe&&R?a.html("a",{"class-powered-by-appcues":!0,"class-left":B,"attrs-href":"http://www.appcues.com","attrs-target":"_blank"},"Brought to you by Appcues"):a.html(le,null))))):a.html(le,null)))};function Ch({successImageCode:e,customSuccessImageUrl:t,successColor:n}){if(t)return a.html("img",{alt:"Success!",src:`${t}`,style:{height:"60px",width:"60px"}});if(e==="none")return a.html(le,null);if(!e||e==="default")return a.html(ph,{width:"60px",height:"60px",color:n});if(e&&e!=="none")return a.html("img",{alt:"",src:`https:${Sh}${e}.svg`,style:{height:"60px",width:"60px"}})}const _h=e=>{const{id:t,attributes:n,beaconWidth:r,viewState:i,frameHeight:o,shouldShowConfirmDismiss:s,callbacks:c,showBadge:l,status:u,collisionMode:d,collisionCoordinates:f,isInjectableSDK:p}=e;return a.html(Th,{id:t,status:u,styles:n.styles||{},beaconWidth:r,frameHeight:o,items:n.items||[],is_checklist_expanded:i===$t.EXPANDED,is_first_view:i===$t.FIRSTVIEW,text_tokens:n.text_tokens||{},name:n.name||"Untitled Checklist",shouldShowConfirmDismiss:s,progress_state:n.progress_state,is_sequential:n.is_sequential||!1,is_dismissable:n?.is_dismissable??!0,showBadge:l,collisionMode:d,collisionCoordinates:f,isInjectableSDK:p,...c})};function ci(){return!1}function Ih(e){let t=document.body;if(window.AppcuesSettings&&window.AppcuesSettings.customContainer){const r=document.documentElement.querySelector(window.AppcuesSettings.customContainer);r&&(t=r)}const n=document.createElement("div");return t.appendChild(n),e(n,a.html("div",{"class-appcues":!0}))}function Ah(){const e=Vn([Kn,qn,jn,Yn,Gn],ei.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let t=null;return function(r){if(mr(document)){const i=ye(r)||{},{status:o}=r.currentContent||{},s=xf(r),c=i.type&&ne.inArray(Vi,o),l=cn(r),u=it(l,f=>Vi.includes(f.status)),d=ci(r.settings);if(c||u){(!t||!Ro(t.elm))&&(t=Ih(e));const f=r.views.callbacks[z.CHECKLIST];t=e(t,a.html("div",{"class-appcues":!0,"class-injectable":s},c&&r.views.renderers[i.type]?r.views.renderers[i.type](r):a.html(le,null),u?a.html("appcues-checklists",{"attrs-role":sr.ROLE_CONTAINER,"attrs-aria-label":sr.LABEL_CHECKLIST},_h({...u,showBadge:d,callbacks:f,collisionMode:r.collisionMode,collisionCoordinates:r.collisionCoordinates,isInjectableSDK:s})):a.html(le,null)))}else t&&(t=e(t,a.html("div",{"class-appcues":!0})))}}}var li={},xo,gl;function vh(){return gl||(gl=1,xo={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),xo}var Po,yl;function bh(){if(yl)return Po;yl=1;var e=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,t=vh();return Po=function(n){var r=0,i,o=!0,s={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return n.replace(e,function(c){if(c==="="){o=!0,r++;return}o?r===0?((t[c]||n.charAt(n.length-2)==="/")&&(s.voidElement=!0),s.name=c):(s.attrs[i]=c.replace(/^['"]|['"]$/g,""),i=void 0):(i&&(s.attrs[i]=i),i=c),r++,o=!1}),s},Po}var Do,Sl;function wh(){if(Sl)return Do;Sl=1;var e=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"|'[^']*'|[^'">])+>)/g,t=bh(),n=Object.create?Object.create(null):{};function r(i,o,s,c,l){var u=o.indexOf("<",c),d=o.slice(c,u===-1?void 0:u);/^\s*$/.test(d)&&(d=" "),(!l&&u>-1&&s+i.length>=0||d!==" ")&&i.push({type:"text",content:d})}return Do=function(o,s){s||(s={}),s.components||(s.components=n);var c=[],l,u=-1,d=[],f={},p=!1;return o.replace(e,function(y,h){if(p){if(y!=="</"+l.name+">")return;p=!1}var m=y.charAt(1)!=="/",T=y.indexOf("<!--")===0,_=h+y.length,S=o.charAt(_),A;m&&!T&&(u++,l=t(y),l.type==="tag"&&s.components[l.name]&&(l.type="component",p=!0),!l.voidElement&&!p&&S&&S!=="<"&&r(l.children,o,u,_,s.ignoreWhitespace),f[l.tagName]=l,u===0&&c.push(l),A=d[u-1],A&&A.children.push(l),d[u]=l),(T||!m||l.voidElement)&&(T||u--,!p&&S!=="<"&&S&&(A=u===-1?c:d[u].children,r(A,o,u,_,s.ignoreWhitespace)))}),!c.length&&o.length&&r(c,o,0,0,s.ignoreWhitespace),c},Do}const Tl=Op(Np);var Xn={},Cl;function Nh(){if(Cl)return Xn;Cl=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.createTextVNode=t,Xn.transformName=n,Xn.unescapeEntities=o;var e=Tl;function t(s,c){return(0,e.vnode)(void 0,void 0,void 0,o(s,c))}function n(s){s=s.replace(/-(\w)/g,function(u,d){return d.toUpperCase()});var c=s.charAt(0).toLowerCase();return""+c+s.substring(1)}var r=new RegExp("&[a-z0-9#]+;","gi"),i=null;function o(s,c){return i||(i=c.createElement("div")),s.replace(r,function(l){return i.innerHTML=l,i.textContent})}return Xn}var _l;function Oh(){if(_l)return li;_l=1,Object.defineProperty(li,"__esModule",{value:!0}),li.default=function(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=p.context||document;if(!f)return null;var h=[],m=s((0,t.default)(f),h,y),T=void 0;return m?m.length===1?T=m[0]:T=m:T=c({type:"text",content:f},h,y),p.hooks&&p.hooks.create&&h.forEach(function(_){p.hooks.create(_)}),T};var e=wh(),t=i(e),n=Tl,r=Nh();function i(f){return f&&f.__esModule?f:{default:f}}function o(f,p,y){return p in f?Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[p]=y,f}function s(f,p,y){if(f instanceof Array&&f.length>0)return f.map(function(h){return c(h,p,y)})}function c(f,p,y){var h=void 0;return f.type==="text"?h=(0,r.createTextVNode)(f.content,y):h=(0,n.h)(f.name,l(f,y),s(f.children,p,y)),p.push(h),h}function l(f,p){var y={};if(!f.attrs)return y;var h=Object.keys(f.attrs).reduce(function(_,S){if(S!=="style"&&S!=="class"){var A=(0,r.unescapeEntities)(f.attrs[S],p);_?_[S]=A:_=o({},S,A)}return _},null);h&&(y.attrs=h);var m=u(f);m&&(y.style=m);var T=d(f);return T&&(y.class=T),y}function u(f){try{return f.attrs.style.split(";").reduce(function(p,y){var h=y.split(":"),m=(0,r.transformName)(h[0].trim());if(m){var T=h[1].replace("!important","").trim();p?p[m]=T:p=o({},m,T)}return p},null)}catch{return null}}function d(f){try{return f.attrs.class.split(" ").reduce(function(p,y){return y=y.trim(),y&&(p?p[y]=!0:p=o({},y,!0)),p},null)}catch{return null}}return li}var Fo,Il;function kh(){return Il||(Il=1,Fo=Oh()),Fo}var Rh=kh();const Dt=_o(Rh);function Lh(e,t,n){let r=0,i=0,o=e;if(o.offsetParent)for(;r+=o.offsetLeft,i+=o.offsetTop,!!(o=o.offsetParent););return{left:r+e.offsetWidth/2+t,top:i+e.offsetHeight+10+n}}function xh(e){const t=e.includes("top"),n=e.includes("left"),r=e.includes("right");return n?t?-140:-135:r?t?130:135:0}function Al(e){return window.getComputedStyle(e).position==="fixed"?!0:e.parentElement!==null&&e.parentElement!==document.body?Al(e.parentElement):!1}function Ph(e,t){const n=e.includes("top"),r=xh(e),i=n?-70:0,o=t.elm.parentElement;return Lh(o,r,i)}function Dh(){const{body:e}=document,t=document.documentElement;return{width:Math.max.apply(Math,[e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth]),height:Math.max.apply(Math,[e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight])}}function vl(e){e.setAttribute("tabindex","0"),e.focus()}const bl=(e,t,n)=>{const r=e.currentTarget.querySelector('[tabindex="0"]');if(!r&&(e.key==="ArrowDown"||e.key==="ArrowUp")){e.currentTarget.firstElementChild.setAttribute("tabindex","0"),e.currentTarget.firstElementChild.focus();return}switch(e.key){case"Tab":{if(n){e.currentTarget.lastElementChild.focus();break}const i=document.documentElement.querySelector("#appcues-widget-icon");t(),i.focus();break}case"ArrowDown":{const i=r.nextElementSibling||e.target.parentElement.firstElementChild;vl(i);break}case"ArrowUp":{const i=r.previousElementSibling||e.target.parentElement.lastElementChild;vl(i);break}}r?.setAttribute("tabindex","-1")},Fh={left:"appcues-widget-left",right:"appcues-widget-right",center:"appcues-widget-center",bottom:"appcues-widget-bottom","bottom-left":"appcues-widget-bottom-left","bottom-right":"appcues-widget-bottom-right","bottom-center":"appcues-widget-bottom-center",top:"appcues-widget-top","top-left":"appcues-widget-top-left","top-right":"appcues-widget-top-right","top-center":"appcues-widget-top-center",default:"appcues-widget-center"},Uh=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Hh(e){const t=new Date(e);return`${Uh[t.getMonth()]} ${t.getDate()}`}const Mh=e=>{const{flows:t,history:n,position:r,header:i,footer:o,expanded:s,onClose:c,onOutsideClick:l,onItemClick:u,dropdownPositioning:d,hasFixedAncestor:f}=e,p=t.sort((m,T)=>T.version_id-m.version_id).map(m=>{const T=m.migrated_from_step_id?!!n[m.id]||!!n[m.migrated_from_step_id]:!!n[m.id];return{...m,seen:T}}),[y,h]=p.reduce((m,T)=>(m[T.seen?1:0].push(T),m),[[],[]]);return a.html("div",{classNames:`appcues-widget-container ${s?"appcues-active":""}`,style:s?{height:Dh().height}:{}},a.html("div",{"on-click":l,classNames:"appcues-widget-backdrop"}),a.html("div",{classNames:`appcues-widget-dropdown ${f?"appcues-widget-fixed":""} ${Fh[r]}`,style:s?{top:`${d.top}px`,left:`${d.left}px`}:{}},i?a.html("div",{classNames:"appcues-widget-header"},Dt(i)):a.html(le,null),a.html("div",{classNames:"appcues-widget-content",id:"appcues-widget-content","attrs-tabindex":"-1"},a.html("ul",{classNames:"appcues-widget-list","attrs-tabindex":"0","on-keydown":m=>bl(m,c,h.length>0),"attrs-aria-activedescendant":"appcues-widget-listitem-0"},!y||y.length===0?a.html("li",{classNames:"appcues-nothing-new"},"There's nothing new to see here!"):y.map((m,T)=>a.html(wl,{index:T,item:m,onItemClick:u,hasBeenSeen:!1}))),a.html("ul",{classNames:"appcues-widget-list",id:"appcues-widget-list-unseen","attrs-tabindex":"0","on-keydown":m=>bl(m,c,!1),"attrs-aria-activedescendant":"appcues-widget-listitem-0"},!h||h.length===0?a.html(le,null):h.map((m,T)=>a.html(wl,{index:T,item:m,onItemClick:u,hasBeenSeen:!0})))),o?a.html("div",{classNames:"appcues-widget-footer"},Dt(o)):a.html(le,null)))};function wl({index:e,item:t,onItemClick:n,hasBeenSeen:r}){const i=(o,{id:s},c)=>{(o.key===" "||o.key==="Enter")&&n(o,s,c)};return a.html("li",{classNames:r?"appcues-read":"appcues-unread","attrs-tabindex":"-1",id:`appcues-widget-listitem-${e}`,"on-keyup":o=>i(o,t,r)},a.html("a",{"attrs-data-itemid":t.id,"attrs-data-isread":r,"on-click":o=>n(o,t.id,r)},t.name,a.html("time",null,Hh(t.version_id))))}const $h=({expanded:e,flows:t,history:n,onClick:r,onClose:i,icon:o})=>{const s=l=>{l.key==="Tab"&&(l.currentTarget.style.outline="",e&&i())},c=t.filter(l=>!n[l.id]).length;return a.html("button",{"attrs-tabindex":"0",classNames:`${o?"":"appcues-icon-bell"} appcues-widget-icon appcues-icon appcues-icon-visible appcues-in appcues-slide`,"attrs-data-appcues-count":c,id:"appcues-widget-icon","on-keyup":s,"on-mousedown":l=>{l.currentTarget.style.outline="none"},"on-click":r,"attrs-aria-controls":"appcues-widget-list","attrs-aria-expanded":e,"attrs-aria-haspopup":"true","attrs-aria-label":`${c} unseen flows`,type:"button"},o?a.html("img",{alt:"",src:o}):a.html("i",null))};function Bh(e,t){const n=document.createElement("div");t.classList.add("appcues-widget"),t.appendChild(n);const r=document.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",Pt("/widget.css")),document.head.appendChild(r),e(n,a.html("div",null))}function Wh(e){const t=document.createElement("div");return document.body.appendChild(t),e(t,a.html("div",null))}function Vh(){const e=Vn([Kn,qn,jn,Yn,Gn]);let t=null,n=null;return function(i){const o=Fc(i),s=wf(i),c=Nf(i),l=Of(i)||"default",u=kf(i),d=Rf(i),f=mo(i),p=Lf(i),y=i.views.callbacks[z.WIDGET],h=document.documentElement.querySelector(o),m=()=>{y.onToggled(),document.documentElement.querySelector("#appcues-widget-content > ul").focus()};h&&((!t||!Ro(t.elm))&&(t=Bh(e,h)),(!n||!Ro(n.elm))&&(n=Wh(e)),t=e(t,a.html("div",{"class-appcues":!0},a.html("style",null,`
              .appcues-widget-icon {
                border: none;
                background: none;
                overflow: visible;
              }
            `),$h({expanded:f,flows:c,history:s,onClose:y.onClose,onClick:m,icon:p}))),n=e(n,a.html("div",{"class-appcues":!0},Mh({flows:c,history:s,position:l,header:u,footer:d,expanded:f,onClose:y.onClose,onOutsideClick:y.onToggled,onItemClick:y.onItemClicked,dropdownPositioning:Ph(l,t),hasFixedAncestor:Al(t.elm.parentElement)}))))}}const $=Le(["START_INITIALIZE","START_IDENTIFY","START_HANDLE_MESSAGE","MESSAGE_TIMEOUT","START_EVENT","START_OPEN_BUILDER_EVENT","FINISHED_EVENT","START_ACTIVITY","START_ANONYMOUS","INJECT_CONTENT","INJECT_STYLES","PREPARE_CONTENT","CLEANUP_STEP","START_CONTENT","START_RESET","START_DEBUG","START_FORM_SUBMISSION","START_SHOW","STOP_TASKS","START_CHECK","START_FLOW","START_STEP","CANCEL_ATTEMPTS","SEND_LIFECYCLE_EVENT","CLOSE_CHANNEL","START_IDENTIFY_GROUP","START_GROUP_ACTIVITY"]),U=Le(["INITIALIZE","CONFIGURE_TRANSPORT","IDENTIFY","SENT_REQUEST","UPDATE_USER","RESET","UPDATE_CONTENT","UPDATE_STYLES","WILL_SHOW_CONTENT","SHOW_CONTENT","WILL_CLOSE_CONTENT","FETCHING_CONTENT","REGISTER_RENDERER","REGISTER_CALLBACKS","ADD_EVENT_LISTENER","REMOVE_EVENT_LISTENER","WAIT_IDENTIFY","COMPLETED_IDENTIFY","STORE_TASK","CLEAR_TASKS","CLEAR_TASK","CLEAR_CURRENT_CONTENT","RUN_ACTION","RESUME_ACTION","CHECKED_FOR_INITIAL_CONTENT","SENT_ACTIVITY_UPDATE","STARTED_FLOW_IMM","SET_BODY_READY","SAVE_OPEN_BUILDER_INSTANCE","SAVE_EXPERIMENTS","EXPERIMENT_STARTED","SAVE_GROUP_PROPS","PREFETCH_FLOWS","INITIALIZE_OPEN_BUILDER","OPEN_BUILDER_INITIALIZED"]),ae=Le(["INVALIDATE_FORM","LOADED_CSS","RESIZE_CONTENT","ACTIVATED_STEP_CHILD","DEACTIVATED_STEP_CHILD","SET_CURRENT_STEP_CHILD","CLEAR_CURRENT_STEP_CHILD","SET_CURRENT_STEP","ADVANCE_STEP_CHILD","CLOSE_FLOW","CLOSE_STEP","CANCEL_STEP","SET_PREVIOUS_ACTIVE_ELEMENT","SET_NEXT_CONTENT_ID_COOKIE","RUN_PREV_STEP_CHILD","CLEAR_CONTENT_STATE_CHILD","SET_FORCE_FOCUS"]),ai=Le(["PREPARE_MODAL","RESIZE_MODAL_CONTENT"]),Ae=Le(["PREPARE_SATISFACTION_SURVEY","START_COLLAPSING_SATISFACTION_SURVEY","COLLAPSE_SATISFACTION_SURVEY","EXPAND_SATISFACTION_SURVEY","SHOW_SATISFACTION_SURVEY_TOAST","HIDE_SATISFACTION_SURVEY_TOAST","QUANTITATIVE_QUESTION_SUBMITTED","CLICKED_UPDATE_NPS_SCORE","QUALITATIVE_QUESTION_SUBMITTED","ASK_ME_LATER_SELECTED","FEEDBACK_TEXT_CHANGED"]),he=Le(["ADD_ACTIVE_ANNOTATIONS","REMOVE_ACTIVE_ANNOTATIONS","START_CALCULATE_POSITIONS","START_HANDLE_POSITION_UPDATES","SET_ANNOTATIONS_POSITIONS","SET_ANNOTATIONS_READY","SAVE_POSITION_DETAILS","REPORTED_ANNOTATIONS_ERRORS","REPORTED_ANNOTATIONS_RECOVERY","SET_EXISTING_ANNOTATIONS_ERRORS","SET_TOOLTIP_SETTLED","SET_ACTIVE_ANNOTATIONS_WILL_CLOSE","HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS","GO_TO_STEP","SET_IS_SCROLLING_TO_ANNOTATION","CONFIRM_SCROLLING"]),Wt=Le(["EXPAND_HOTSPOT","PREPARE_HOTSPOTS","SET_BEACON_SETTLED","CLOSE_LAST_HOTSPOT"]),re=Le(["UPDATE_CHECKLISTS","ANIMATE_IN_CHECKLIST","EXPAND_CHECKLIST","COLLAPSE_CHECKLIST","SHOW_DISMISS_CONFIRMATION","CANCEL_DISMISS_CONFIRMATION","CONFIRM_DISMISS_CHECKLIST","LOADED_CHECKLIST_CSS","START_CHECKLIST","SET_CHECKLIST_STATUS","START_CHECKLIST_ITEM","START_CHECKLIST_ACTION","COMPLETED_CHECKLIST_ACTION","SEND_CHECKLIST_ERROR","SET_CHECKLIST_HEIGHT","SET_CHECKLIST_WIDTH","HIDE_CHECKLISTS","UNHIDE_CHECKLISTS","CLEAR_FORCE_SHOWN_CHECKLIST","SET_EXPAND_CHECKLIST_LATER","SEND_CHECKLIST_SHOWN_EVENT"]),qe=Le(["TOGGLE_ROW_DETAILS","TOGGLE_COLLAPSED","SET_CURRENT_PAGE","TRACK_PAGE","ADD_CONTENT_ERROR","ADD_CHILD_ERROR","CLOSE_DEBUGGER"]),Jn=Le(["CANCEL_TEST","RESET_TEST","LOADED_TEST_MODE_CSS"]),bt=Le(["LOADED_LAUNCHPAD","UPDATED_WIDGET_HISTORY","UPDATED_WIDGET_FLOWS","TOGGLED_WIDGET"]),Je=Le(["PAUSE_EXPERIENCE","SHOW_EXPERIENCES","RESUME_EXPERIENCE","SAVE_ON_HOLD_LAUNCHPADS","UNHIDE_LAUNCHPADS","HIDE_LAUNCHPADS"]),yt=Le(["SET_SESSION","SESSION_STARTED","START_SESSION"]),ui=Le(["SET_COLLISION_MODE"]),di=Le(["LAUNCHPAD_SEARCH_RESPONSE","LAUNCHPAD_SEARCH_ERROR"]);function b(e,t=n=>n){return(...n)=>{const r={type:e};if(n.length>0&&n[0]instanceof Error){const[i]=n;r.error=!0,r.payload=i}else n.length>0&&(r.payload=t(...n));return r}}const Gh=b($.START_INITIALIZE,(e,t,n,r)=>({settings:e,dispatchMessage:t,transportModule:n,reporter:r})),Qn=b($.START_IDENTIFY,(e,t={},n=[])=>({userId:e,properties:t,events:n})),jh=b($.START_HANDLE_MESSAGE),qh=b($.MESSAGE_TIMEOUT),Ue=b($.START_EVENT,(e,t)=>({flowId:e,event:t})),Kh=b($.START_OPEN_BUILDER_EVENT,(e,t)=>({type:e,event:t})),Yh=b($.FINISHED_EVENT,(e,t)=>({flowId:e,event:t})),we=b($.START_ACTIVITY,(e={},t=[],n=!1)=>n?{properties:e,events:t,trigger:!0}:{properties:e,events:t,trigger:!1}),zh=b($.START_GROUP_ACTIVITY,(e,t={})=>({groupId:e,groupProperties:t})),Xh=b($.START_ANONYMOUS);b($.INJECT_CONTENT,e=>({content:e})),b($.INJECT_STYLES,(e,t)=>({defaultStyles:e,styles:t}));const Jh=b($.PREPARE_CONTENT),Qh=b($.CLEANUP_STEP),Zh=b($.START_CONTENT),em=b($.START_RESET),tm=b($.START_DEBUG),nm=b($.START_FORM_SUBMISSION,(e,t,n,r)=>({formId:e,fields:t,onSuccess:n,ignoreValidation:r})),yr=b($.START_SHOW),rm=b($.STOP_TASKS),Nl=b($.START_CHECK,(e,t,n)=>({currentUrl:e,shouldOverrideCurrentFlow:t,requestId:n})),Uo=b($.START_FLOW,(e,t,n,r,i=null)=>({flowId:e,stepId:t,url:n,eventChannel:r,status:i})),Ol=b($.START_STEP,(e,t,n=null)=>({step:e,url:t,status:n})),fi=b($.CANCEL_ATTEMPTS),ce=b($.SEND_LIFECYCLE_EVENT,(e,t=null)=>({event:e,eventChannel:t})),im=b($.CLOSE_CHANNEL),om=b($.START_IDENTIFY_GROUP,(e,t)=>({groupId:e,groupProperties:t})),sm=b(U.INITIALIZE,e=>({transport:e})),cm=b(U.IDENTIFY),kl=b(U.SENT_REQUEST,(e,t)=>({requestId:e,pageViewEvent:t})),Rl=b(U.CONFIGURE_TRANSPORT),Sr=b(U.UPDATE_USER,(e,t)=>({profile:e,merge:t})),lm=b(U.RESET),Ho=b(U.UPDATE_CONTENT,(e,t)=>({orderedContent:e,content:t})),am=b(U.UPDATE_STYLES),Zn=b(U.WILL_SHOW_CONTENT),um=b(U.SHOW_CONTENT),dm=b(U.WILL_CLOSE_CONTENT),fm=b(U.FETCHING_CONTENT,(e,t)=>({contentId:e,url:t})),pm=b(U.REGISTER_RENDERER),Ll=b(U.REGISTER_CALLBACKS),xl=b(U.ADD_EVENT_LISTENER,(e,t,n)=>({name:e,callback:t,context:n})),Pl=b(U.REMOVE_EVENT_LISTENER,(e,t,n)=>({name:e,callback:t,context:n})),hm=b(U.WAIT_IDENTIFY),mm=b(U.COMPLETED_IDENTIFY),Em=b(U.STORE_TASK,(e,t)=>({key:e,task:t})),gm=b(U.CLEAR_TASKS),ym=b(U.CLEAR_TASK,(e,t)=>({key:e,id:t})),Dl=b(U.CLEAR_CURRENT_CONTENT),Sm=b(U.RUN_ACTION),Fl=b(U.RESUME_ACTION,(e,t)=>({action:e,status:t})),Ul=b(U.CHECKED_FOR_INITIAL_CONTENT,(e,t)=>({url:e,complete:t})),Tm=b(U.SENT_ACTIVITY_UPDATE),Cm=b(U.STARTED_FLOW_IMM),Hl=b(U.SET_BODY_READY),_m=b(U.SAVE_OPEN_BUILDER_INSTANCE),Im=b(U.INITIALIZE_OPEN_BUILDER),Am=b(U.OPEN_BUILDER_INITIALIZED),vm=b(U.SAVE_EXPERIMENTS),pi=b(U.EXPERIMENT_STARTED,(e,t)=>({id:e,type:t})),bm=b(U.SAVE_GROUP_PROPS);function Qe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wm=typeof Symbol=="function"&&Symbol.observable||"@@observable",Ml=wm,$l=()=>Math.random().toString(36).substring(7).split("").join("."),Nm={INIT:`@@redux/INIT${$l()}`,REPLACE:`@@redux/REPLACE${$l()}`},Bl=Nm;function Om(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Wl(e,t,n){if(typeof e!="function")throw new Error(Qe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Qe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Qe(1));return n(Wl)(e,t)}let r=e,i=t,o=new Map,s=o,c=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((T,_)=>{s.set(_,T)}))}function d(){if(l)throw new Error(Qe(3));return i}function f(T){if(typeof T!="function")throw new Error(Qe(4));if(l)throw new Error(Qe(5));let _=!0;u();const S=c++;return s.set(S,T),function(){if(_){if(l)throw new Error(Qe(6));_=!1,u(),s.delete(S),o=null}}}function p(T){if(!Om(T))throw new Error(Qe(7));if(typeof T.type>"u")throw new Error(Qe(8));if(typeof T.type!="string")throw new Error(Qe(17));if(l)throw new Error(Qe(9));try{l=!0,i=r(i,T)}finally{l=!1}return(o=s).forEach(S=>{S()}),T}function y(T){if(typeof T!="function")throw new Error(Qe(10));r=T,p({type:Bl.REPLACE})}function h(){const T=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Qe(11));function S(){const I=_;I.next&&I.next(d())}return S(),{unsubscribe:T(S)}},[Ml](){return this}}}return p({type:Bl.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:y,[Ml]:h}}function km(e,t,n){return Wl(e,t,n)}function Rm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Lm(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Qe(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},c=e.map(l=>l(s));return o=Rm(...c)(i.dispatch),{...i,dispatch:o}}}var Vl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Pm(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}var Dm="proc first argument (Saga function result) must be an iterator",hi={toString:function(){return"@@redux-saga/CHANNEL_END"}},pn={toString:function(){return"@@redux-saga/TASK_CANCEL"}},Tr={wildcard:function(){return Ks},default:function(t){return(typeof t>"u"?"undefined":xm(t))==="symbol"?function(n){return n.type===t}:function(n){return n.type===String(t)}},array:function(t){return function(n){return t.some(function(r){return Mo(r)(n)})}},predicate:function(t){return function(n){return t(n)}}};function Mo(e){return(e==="*"?Tr.wildcard:M.array(e)?Tr.array:M.stringableFunc(e)?Tr.default:M.func(e)?Tr.predicate:Tr.default)(e)}function Fm(e,t,n){var r=[],i=void 0,o=!1;c(t);function s(u){l(),n(u,!0)}function c(u){r.push(u),u.cont=function(d,f){o||(Br(r,u),u.cont=xe,f?s(d):(u===t&&(i=d),r.length||(o=!0,n(i))))}}function l(){o||(o=!0,r.forEach(function(u){u.cont=xe,u.cancel()}),r=[])}return{addTask:c,cancelAll:l,abort:s,getTasks:function(){return r},taskNames:function(){return r.map(function(d){return d.name})}}}function Um(e){var t=e.context,n=e.fn,r=e.args;if(M.iterator(n))return n;var i=void 0,o=void 0;try{i=n.apply(t,r)}catch(s){o=s}return M.iterator(i)?i:to(o?function(){throw o}:(function(){var s=void 0,c={done:!1,value:i},l=function(d){return{done:!0,value:d}};return function(u){return s?l(u):(s=!0,c)}})())}var Hm=function(t){return{fn:t}};function $o(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return xe},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xe,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"anonymous",l=arguments[8];Ee(e,M.iterator,Dm);var u=no(Re),d=o.sagaMonitor,f=o.logger,p=o.onError,y=f||Xs,h=function(x){var k=x.sagaStack;!k&&x.stack&&(k=x.stack.split(`
`)[0].indexOf(x.message)!==-1?x.stack:"Error: "+x.message+`
`+x.stack),y("error","uncaught at "+c,k||x.message||x)},m=Jd(t),T=Object.create(i);O.cancel=xe;var _=de(s,c,e,l),S={name:c,cancel:I,isRunning:!0},A=Fm(c,S,L);function I(){S.isRunning&&!S.isCancelled&&(S.isCancelled=!0,O(pn))}function C(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,A.cancelAll(),L(pn))}return l&&(l.cancel=C),e._isRunning=!0,O(),_;function O(N,x){if(!S.isRunning)throw new Error("Trying to resume an already finished generator");try{var k=void 0;x?k=e.throw(N):N===pn?(S.isCancelled=!0,O.cancel(),k=M.func(e.return)?e.return(pn):{done:!0,value:pn}):N===hi?k=M.func(e.return)?e.return():{done:!0}:k=e.next(N),k.done?(S.isMainRunning=!1,S.cont&&S.cont(k.value)):H(k.value,s,"",O)}catch(X){S.isCancelled&&h(X),S.isMainRunning=!1,S.cont(X,!0)}}function L(N,x){e._isRunning=!1,m.close(),x?(N instanceof Error&&Object.defineProperty(N,"sagaStack",{value:"at "+c+` 
 `+(N.sagaStack||N.stack),configurable:!0}),_.cont||(N instanceof Error&&p?p(N):h(N)),e._error=N,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(N)):(e._result=N,e._deferredEnd&&e._deferredEnd.resolve(N)),_.cont&&_.cont(N,x),_.joiners.forEach(function(k){return k.cb(N,x)}),_.joiners=null}function H(N,x){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",X=arguments[3],ee=zs();d&&d.effectTriggered({effectId:ee,parentEffectId:x,label:k,effect:N});var Z=void 0;function B(Oe,De){Z||(Z=!0,X.cancel=xe,d&&(De?d.effectRejected(ee,Oe):d.effectResolved(ee,Oe)),X(Oe,De))}B.cancel=xe,X.cancel=function(){if(!Z){Z=!0;try{B.cancel()}catch(Oe){h(Oe)}B.cancel=xe,d&&d.effectCancelled(ee)}};var G=void 0;return M.promise(N)?R(N,B):M.helper(N)?ue(Hm(N),ee,B):M.iterator(N)?j(N,ee,c,B):M.array(N)?u(N,ee,B):(G=$e.take(N))?K(G,B):(G=$e.put(N))?fe(G,B):(G=$e.all(N))?Re(G,ee,B):(G=$e.race(N))?nt(G,ee,B):(G=$e.call(N))?w(G,ee,B):(G=$e.cps(N))?J(G,B):(G=$e.fork(N))?ue(G,ee,B):(G=$e.join(N))?pe(G,B):(G=$e.cancel(N))?Ce(G,B):(G=$e.select(N))?Pe(G,B):(G=$e.actionChannel(N))?W(G,B):(G=$e.flush(N))?ie(G,B):(G=$e.cancelled(N))?Y(G,B):(G=$e.getContext(N))?_e(G,B):(G=$e.setContext(N))?oe(G,B):B(N)}function R(N,x){var k=N[Gs];M.func(k)?x.cancel=k:M.func(N.abort)&&(x.cancel=function(){return N.abort()}),N.then(x,function(X){return x(X,!0)})}function j(N,x,k,X){$o(N,t,n,r,T,o,x,k,X)}function K(N,x){var k=N.channel,X=N.pattern,ee=N.maybe;k=k||m;var Z=function(G){return G instanceof Error?x(G,!0):Kr(G)&&!ee?x(hi):x(G)};try{k.take(Z,Mo(X))}catch(B){return x(B,!0)}x.cancel=Z.cancel}function fe(N,x){var k=N.channel,X=N.action,ee=N.resolve;gc(function(){var Z=void 0;try{Z=(k?k.put:n)(X)}catch(B){if(k||ee)return x(B,!0);h(B)}if(ee&&M.promise(Z))R(Z,x);else return x(Z)})}function w(N,x,k){var X=N.context,ee=N.fn,Z=N.args,B=void 0;try{B=ee.apply(X,Z)}catch(G){return k(G,!0)}return M.promise(B)?R(B,k):M.iterator(B)?j(B,x,ee.name,k):k(B)}function J(N,x){var k=N.context,X=N.fn,ee=N.args;try{var Z=function(G,Oe){return M.undef(G)?x(Oe):x(G,!0)};X.apply(k,ee.concat(Z)),Z.cancel&&(x.cancel=function(){return Z.cancel()})}catch(B){return x(B,!0)}}function ue(N,x,k){var X=N.context,ee=N.fn,Z=N.args,B=N.detached,G=Um({context:X,fn:ee,args:Z});try{oo();var Oe=$o(G,t,n,r,T,o,x,ee.name,B?null:xe);B?k(Oe):G._isRunning?(A.addTask(Oe),k(Oe)):G._error?A.abort(G._error):k(Oe)}finally{Sc()}}function pe(N,x){if(N.isRunning()){var k={task:_,cb:x};x.cancel=function(){return Br(N.joiners,k)},N.joiners.push(k)}else N.isAborted()?x(N.error(),!0):x(N.result())}function Ce(N,x){N===qs&&(N=_),N.isRunning()&&N.cancel(),x()}function Re(N,x,k){var X=Object.keys(N);if(!X.length)return k(M.array(N)?[]:{});var ee=0,Z=void 0,B={},G={};function Oe(){ee===X.length&&(Z=!0,k(M.array(N)?Od.from(Vl({},B,{length:X.length})):B))}X.forEach(function(De){var rr=function(Ot,Di){Z||(Di||Kr(Ot)||Ot===hi||Ot===pn?(k.cancel(),k(Ot,Di)):(B[De]=Ot,ee++,Oe()))};rr.cancel=xe,G[De]=rr}),k.cancel=function(){Z||(Z=!0,X.forEach(function(De){return G[De].cancel()}))},X.forEach(function(De){return H(N[De],x,De,G[De])})}function nt(N,x,k){var X=void 0,ee=Object.keys(N),Z={};ee.forEach(function(B){var G=function(De,rr){if(!X){if(rr)k.cancel(),k(De,!0);else if(!Kr(De)&&De!==hi&&De!==pn){var ir;k.cancel(),X=!0;var Ot=(ir={},ir[B]=De,ir);k(M.array(N)?[].slice.call(Vl({},Ot,{length:ee.length})):Ot)}}};G.cancel=xe,Z[B]=G}),k.cancel=function(){X||(X=!0,ee.forEach(function(B){return Z[B].cancel()}))},ee.forEach(function(B){X||H(N[B],x,B,Z[B])})}function Pe(N,x){var k=N.selector,X=N.args;try{var ee=k.apply(void 0,[r()].concat(X));x(ee)}catch(Z){x(Z,!0)}}function W(N,x){var k=N.pattern,X=N.buffer,ee=Mo(k);ee.pattern=k,x(lr(t,X||Ln.fixed(),ee))}function Y(N,x){x(!!S.isCancelled)}function ie(N,x){N.flush(x)}function _e(N,x){x(T[N])}function oe(N,x){Zi.assign(T,N),x()}function de(N,x,k,X){var ee,Z,B;return k._deferredEnd=null,Z={},Z[Ws]=!0,Z.id=N,Z.name=x,ee="done",B={},B[ee]=B[ee]||{},B[ee].get=function(){if(k._deferredEnd)return k._deferredEnd.promise;var G=kd();return k._deferredEnd=G,k._isRunning||(k._error?G.reject(k._error):G.resolve(k._result)),G.promise},Z.cont=X,Z.joiners=[],Z.cancel=C,Z.isRunning=function(){return k._isRunning},Z.isCancelled=function(){return k._isCancelled},Z.isAborted=function(){return k._isAborted},Z.result=function(){return k._result},Z.error=function(){return k._error},Z.setContext=function(Oe){Ee(Oe,M.object,Qs("task",Oe)),Zi.assign(T,Oe)},Pm(Z,B),Z}}var Mm="runSaga(storeInterface, saga, ...args)",Gl=Mm+": saga argument must be a Generator function!";function $m(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=void 0;M.iterator(e)?(o=e,e=t):(Ee(t,M.func,Gl),o=t.apply(void 0,r),Ee(o,M.iterator,Gl));var s=e,c=s.subscribe,l=s.dispatch,u=s.getState,d=s.context,f=s.sagaMonitor,p=s.logger,y=s.onError,h=zs();f&&(f.effectTriggered=f.effectTriggered||xe,f.effectResolved=f.effectResolved||xe,f.effectRejected=f.effectRejected||xe,f.effectCancelled=f.effectCancelled||xe,f.actionDispatched=f.actionDispatched||xe,f.effectTriggered({effectId:h,root:!0,parentEffectId:0,effect:{root:!0,saga:t,args:r}}));var m=$o(o,c,Pd(l),u,d,{sagaMonitor:f,logger:p,onError:y},h,t.name);return f&&f.effectResolved(h,m),m}function Bm(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function Wm(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.context,n=t===void 0?{}:t,r=Bm(e,["context"]),i=r.sagaMonitor,o=r.logger,s=r.onError;if(M.func(r))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(o&&!M.func(o))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(s&&!M.func(s))throw new Error("`options.onError` passed to the Saga middleware is not a function!");if(r.emitter&&!M.func(r.emitter))throw new Error("`options.emitter` passed to the Saga middleware is not a function!");function c(l){var u=l.getState,d=l.dispatch,f=Yd();return f.emit=(r.emitter||Ys)(f.emit),c.run=$m.bind(null,{context:n,subscribe:f.subscribe,dispatch:d,getState:u,sagaMonitor:i,logger:o,onError:s}),function(p){return function(y){i&&i.actionDispatched&&i.actionDispatched(y);var h=p(y);return f.emit(y),h}}}return c.run=function(){throw new Error("Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware")},c.setContext=function(l){Ee(l,M.object,Qs("sagaMiddleware",l)),Zi.assign(n,l)},c}function D(e){return(t,{error:n,payload:r})=>n?t:e(t,r)}const Vm={[yt.SET_SESSION]:D((e,t)=>({...e,session:{...e.session,...t}})),[yt.START_SESSION]:D(e=>({...e,session:{}}))};function Gm({getState:e}){return t=>n=>{try{n.error&&Lt(e())(n.payload,{extra:n.payload.extra||{}})}catch{}finally{t(n)}}}const jm=e=>(t,n)=>Object.prototype.hasOwnProperty.call(e,n.type)?e[n.type](t,n):t;function Ze(e,t){return{...e,currentContent:{...e.currentContent,...t}}}function St(e,t){return Ze(e,{state:{...e.currentContent.state,...t}})}function Ft(e,t,n){const r=At(e);return St(e,{children:{...r,[t]:{...r[t],...n}}})}function qm(e,t){const n=At(e);return St(e,{children:{...n,[t]:{}}})}const Km={[$.START_INITIALIZE]:D((e,t)=>({...e,settings:{...e.settings,...t.settings},reporter:t.reporter})),[$.PREPARE_CONTENT]:D(e=>e.currentContent&&e.currentContent.status===Q.PENDING?Ze(e,{status:Q.STARTED}):e),[$.START_FLOW]:D((e,{flowId:t,url:n,eventChannel:r})=>Ze(e,{flowId:t,shownUrl:n,eventChannel:r})),[$.START_STEP]:D((e,{step:t,url:n})=>Ze(e,{stepId:t.id,shownUrl:n})),[$.START_EVENT]:D((e,{flowId:t,event:n})=>{if(t){const r=e.pendingEvents||{};return{...e,pendingEvents:{...r,[t]:[...r[t]||[],n]}}}return e}),[$.FINISHED_EVENT]:D((e,{flowId:t,event:n})=>{if(t&&e.pendingEvents&&e.pendingEvents[t]){const r=e.pendingEvents[t],i=r.indexOf(n);if(i>=0)return{...e,pendingEvents:{...e.pendingEvents,[t]:[...r.slice(0,i),...r.slice(i+1,r.length)]}}}return e}),[$.START_FORM_SUBMISSION]:D((e,{formId:t,fields:n})=>{const{state:r}=e.currentContent,{currentStepChildId:i,forms:o={}}=r;return St(e,{forms:{...o,[i]:{formId:t,fields:n}}})}),[ui.SET_COLLISION_MODE]:D((e,t)=>({...e,collisionMode:t.collisionMode,collisionCoordinates:t?.collisionCoordinates??{x:0,y:0}})),[Je.SAVE_ON_HOLD_LAUNCHPADS]:D((e,t)=>({...e,onHold:{launchpads:t}}))};function*Ym(e){try{yield tn(e)}catch(t){const n=yield v(Lt);try{n(t)}catch{}}}function*zm(e,...t){const n=yield _t(e,...t);return yield _t(Ym,n),n}function dt(e,...t){return E(zm,e,...t)}function*Xm(e,t){try{yield tn(t)}finally{yield g(ym(e,t.id))}}function jl(e,t){return`${e}-step:${t}`}function*ql(e,t,n,...r){for(;;){const i=yield V(e),o=yield dt(t,...r,i);if(n){const s=typeof n=="function"?yield E(n):n;yield g(Em(s,o)),yield _t(Xm,s,o)}}}function*te(e,t,...n){yield*ql(e,t,!1,...n)}function*Jm(e,t,n,...r){let i;for(;;){const o=yield V(e);i&&(yield rt(i)),i=yield dt(t,...r,o)}}function*et(e,t,...n){yield*Jm(e,t,!1,...n)}function*Qm(e){yield Ge(e)}function Vt(e,t,n){let r=n;return ne.defined(r)||(r=Date.now()),{name:e,attributes:t,timestamp:r}}function Ve(e){const t={...e},{id:n,timestamp:r}=t;return delete t.timestamp,delete t.id,delete t.actionId,delete t.name,Vt(`appcues:${n}`,t,r)}const ft=(e,t,n)=>{const r=e.context&&Object.keys(e.context)&&e.context.locale_name,i=e.context&&Object.keys(e.context)&&e.context.locale_id,{workflow_id:o,workflow_task_id:s}=e;return{flowId:e.id,flowName:e.name,flowType:e.type,flowVersion:e.version_id,...o?{workflowId:o}:{},...s?{workflowTaskId:s}:{},timestamp:Date.now(),sessionId:t,localeName:r,localeId:i,...n}},Zm=e=>({timestamp:Date.now(),sessionId:e.id});function Cr(e,t,n){return{checklistId:e.id,checklistName:e.internal_name,timestamp:Date.now(),sessionId:t,...n}}function Kl(e,t,n,r){return{checklistId:e.id,checklistName:e.internal_name,checklistVersion:e.version_id,itemId:t.id,itemIndex:t.index,itemLabel:t.label,timestamp:Date.now(),sessionId:n,...r}}function hn(e,t,n,r){const i=ft(e,n);return Object.assign(i,{stepId:t.id,stepType:t.type,stepNumber:Un(e,t.id)},r)}function _r(e,t,n,r,i){const o=rn(t,n);return hn(e,t,r,{stepChildId:n,stepChildNumber:o,...i})}function Bo(e,t,n,r,i,o){return _r(e,t,n,o,{interactionType:r,interaction:i})}function eE(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function tE(e,t="_"){return e.split(t).map(n=>n.toLowerCase().charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Se(e,t,n){const r=n||tE(e);return{id:e,name:r,...t}}function nE(e,t){return Se("flow_attempted",ft(e,t))}function Yl(e,t){return Se("flow_started",ft(e,t))}function rE(e,t){return Se("nps_survey_started",ft(e,t),"NPS Survey Started")}function iE(e,t){return Se("flow_completed",ft(e,t))}function oE(e,t,n){return Se("flow_skipped",ft(e,n,{stepId:t,stepNumber:Un(e,t)}))}function sE(e,t){return Se("flow_aborted",ft(e,t))}function cE(e,t,n){return Se("step_attempted",hn(e,t,n))}function zl(e,t,n){return Se("step_started",hn(e,t,n))}function lE(e,t,n){return Se("step_completed",hn(e,t,n))}function aE(e,t,n,r){return Se("step_skipped",hn(e,t,r,{stepChildId:n,stepChildNumber:rn(t,n)}))}function uE(e,t,n){return Se("step_aborted",hn(e,t,n))}function dE(e,t,n,r){return Se("step_child_activated",_r(e,t,n,r))}function fE(e,t,n,r,i){return Se("step_child_deactivated",_r(e,t,n,i,{timeSpent:r}))}function Xl(e,t,n,r,i,o){return Se("step_interacted",Bo(e,t,n,r,i,o))}function pE(e,t,n,r){return Se("flow_error",ft(e,r,{error:t,details:n}))}function hE(e,t,n,r,i){return Se("step_error",hn(e,t,i,{error:n,details:r}))}function mE(e,t,n,r,i){return Se("step_child_error",_r(e,t,n,i,{error:r}))}function EE(e,t,n,r){return Se("step_child_recovered",_r(e,t,n,r))}function gE(e,t,n,r,i){return Se("form_submitted",Bo(e,t,n,"submit",r,i))}function yE(e,t,n,r,i){return Se("form_field_submitted",Bo(e,t,n,"submit",r,i))}function SE(e,t){return Se("checklist_shown",Cr(e,t))}function TE(e,t){return Se("checklist_completed",Cr(e,t))}function CE(e,t){return Se("checklist_skipped",Cr(e,t))}function _E(e,t){return Se("checklist_dismissed",Cr(e,t))}function IE(e,t){return Se("checklist_shown_manually",Cr(e,t))}function AE(e,t,n){return Se("checklist_item_started",Kl(e,t,n))}function vE(e,t,n){return Se("checklist_item_completed",Kl(e,t,n))}function bE(e){return Se("session_started",Zm(e))}function wE(e){return Se("experiment_entered",{experimentId:e.experiment_id,group:e.group})}const tt={EXPERIENCES:"experiences",FLOWS:"flows"};function*Jl(e,t){return(yield v(Df))[t]?.[e]}function*Ql(e,t){return(yield E(Jl,e,t))?.group==="control"}function*NE({payload:{id:e,type:t}}){const n=yield E(Jl,e,t);if(!n)return;const r=wE(n);yield g(Ue(n.flow_id,r)),yield g(we({},[Ve(r)],!1))}function*OE(){yield[F(te,U.EXPERIMENT_STARTED,NE)]}function kE(e,t){const n={callback:e};return t&&(n.context=t),n}function RE(e,t,n){let r=e;for(let i=0;i<r.length;r++)if(t.call(n,r[i],i,r))return i;return-1}function Zl(e,t){return e.callback===t.callback&&e.context===t.context}function ea(e,t){let n={};return n=t.type===z.ACTION?{status:Q.RUNNING,stepId:t.id}:{status:Q.ERROR,error:"Tried to run a non-action step."},Ze(e,n)}const LE={[U.INITIALIZE]:D((e,t)=>({...e,transport:{...e.transport,...t.transport,initialized:!0}})),[U.IDENTIFY]:D((e,t)=>e.user.userId===t?e:t==null?{...e,user:{}}:ne.defined(e.user.userId)?{...e,user:{userId:t}}:{...e,user:{...e.user,userId:t}}),[U.CONFIGURE_TRANSPORT]:D((e,t)=>({...e,transport:{...e.transport,details:{...e.transport.details,...t}}})),[U.UPDATE_USER]:D((e,t)=>{const n=be(e);let r;return r=t.merge?{...n,...t.profile}:t.profile,n.userId&&(r={...r,userId:n.userId}),{...e,user:r}}),[U.RESET]:D(e=>({...e,content:{},checklists:[],orderedContent:[],currentContent:null,user:{},requestId:null,debugger:null,lastCheckedForInitialContent:{},experiments:{[tt.FLOWS]:{},[tt.EXPERIENCES]:{}}})),[U.UPDATE_CONTENT]:D((e,{content:t,orderedContent:n})=>{let r=t;return r&&(r=Object.keys(r).reduce((i,o)=>{let s=r[o];if(xn(s))for(let c=0;c<Ic(s);c++){const l=Rt(s,c),u=nn(l);if(vc(l,u.length-1)){const d=Rt(s,c+1);if(ur(d)&&!ne.defined(d.attributes.params.initiated_by_user)){const f=s.attributes.steps[d.id];s={...s,...s.attributes&&{attributes:{...s.attributes,steps:{...s.attributes.steps,[d.id]:{...f,step:{...f.step,attributes:{...f.step.attributes,params:{...f.step.attributes.params,initiated_by_user:!0}}}}}}}}}}}return{...i,[o]:s}},{})),{...e,content:{...e.content,...r},orderedContent:n}}),[U.UPDATE_STYLES]:D((e,t)=>({...e,styles:{...e.styles,...t}})),[U.WILL_SHOW_CONTENT]:(e,t)=>{const n=se(e);if(t.error){let{orderedContent:r}=e;r&&(r=r.filter(o=>o!==sn(e)));const i={...e,currentContent:{...e.currentContent,status:Q.ERROR,error:t.payload.message},orderedContent:r};return delete i.currentContent.shownUrl,i}return n&&t.payload===n?Ze(e,{status:Q.WILL_SHOW}):e},[U.SHOW_CONTENT]:D(e=>Ze(e,{status:Q.SHOWING})),[U.WILL_CLOSE_CONTENT]:D(e=>Be(e)===Q.SHOWING?Ze(e,{status:Q.WILL_CLOSE}):e),[U.FETCHING_CONTENT]:(e,t)=>{const{contentId:n,url:r}=t.payload||{};return n?Ze(e,{status:Q.FETCHING,flowId:n,shownUrl:r}):e},[U.REGISTER_RENDERER]:D((e,t)=>({...e,views:{...e.views,renderers:{...e.views.renderers,...t}}})),[U.REGISTER_CALLBACKS]:D((e,t)=>({...e,views:{...e.views,callbacks:{...e.views.callbacks,...t}}})),[U.ADD_EVENT_LISTENER]:D((e,t)=>{const n={...e.eventListeners},{name:r}=t,i=kE(t.callback,t.context),o=n[r];if(o){if(o.some(s=>Zl(s,i)))return e;n[r]=[...o,i]}else n[r]=[i];return{...e,eventListeners:n}}),[U.REMOVE_EVENT_LISTENER]:D((e,t)=>{const{name:n}=t,r=(e.eventListeners||{})[n]||[];if(t.callback){const i=RE(r,o=>Zl(o,{callback:t.callback,context:t.context}));return i>-1?{...e,eventListeners:{...e.eventListeners,[n]:[...r.slice(0,i),...r.slice(i+1)]}}:e}return{...e,eventListeners:{...e.eventListeners,[n]:[]}}}),[U.COMPLETED_IDENTIFY]:D(e=>({...e,userIdentified:!0})),[U.STORE_TASK]:D((e,t)=>({...e,tasks:{...e.tasks,[t.key]:[...Yr(e,t.key)||[],t.task]}})),[U.CLEAR_TASKS]:D((e,t)=>Yr(e,t)?{...e,tasks:{...e.tasks,[t]:null}}:e),[U.CLEAR_TASK]:D((e,t)=>{const{key:n,id:r}=t,i=Yr(e,n);return i?{...e,tasks:{...e.tasks,[n]:i.filter(o=>o.id!==r)}}:e}),[U.CLEAR_CURRENT_CONTENT]:D(e=>({...e,currentContent:null})),[U.RUN_ACTION]:D((e,t)=>ea(e,t)),[U.RESUME_ACTION]:D((e,t)=>ea(e,t.action)),[U.CHECKED_FOR_INITIAL_CONTENT]:D((e,t)=>({...e,lastCheckedForInitialContent:t})),[U.SAVE_OPEN_BUILDER_INSTANCE]:D((e,t)=>({...e,Appcues:t,initializingOpenBuilder:!1})),[U.INITIALIZE_OPEN_BUILDER]:D(e=>({...e,initializingOpenBuilder:!0})),[U.SAVE_EXPERIMENTS]:D((e,t)=>{const n=t.reduce((r,i)=>(i.flow_id&&(r[tt.FLOWS][i.flow_id]=i),i.experience_id&&(r[tt.EXPERIENCES][i.experience_id]=i),r),{[tt.FLOWS]:{...e.experiments?.[tt.FLOWS]},[tt.EXPERIENCES]:{...e.experiments?.[tt.EXPERIENCES]}});return{...e,experiments:n}}),[U.SAVE_GROUP_PROPS]:D((e,t)=>({...e,...t}))},xE={[ae.INVALIDATE_FORM]:D((e,t)=>{if(Array.isArray(t)){const n=t.reduce((r,i)=>(r[i.fieldId]=i.messages,r),{});return St(e,{formErrors:n})}return e}),[ae.LOADED_CSS]:D((e,t)=>{switch(Mn(e)){case z.MODAL:case z.SATISFACTION_SURVEY:{const n=se(e);if(t===n)return St(e,{cssLoaded:!0});break}case z.HOTSPOTS:{if(At(e)[t])return Ft(e,t,{cssLoaded:!0});break}}return e}),[ae.RESIZE_CONTENT]:D((e,t)=>{if(e.currentContent){const{currentContent:n}=e,r=n.state,i=Math.ceil(t.height)+2,o=Math.ceil(t.width)+2;let s={};if(r&&r.children&&(s=r.children[t.id]||{}),s.height!==i||s.width!==o)return Ft(e,t.id,{height:i,width:o,lastResizeTs:t.ts})}return e}),[ae.ACTIVATED_STEP_CHILD]:D((e,t)=>e.currentContent&&st(e)===t.stepChildId?Ft(e,t.stepChildId,{activatedAt:t.timestamp}):e),[ae.DEACTIVATED_STEP_CHILD]:D((e,t)=>po(e,t)?Ft(e,t,{activatedAt:null}):e),[ae.SET_CURRENT_STEP_CHILD]:D((e,t)=>se(e)?St(e,{currentStepChildId:t,formErrors:null}):e),[ae.CLEAR_CURRENT_STEP_CHILD]:D(e=>se(e)?St(e,{currentStepChildId:null}):e),[ae.SET_CURRENT_STEP]:D((e,t)=>Ze(e,{stepId:t,status:Q.PENDING})),[ae.CLOSE_STEP]:D((e,t)=>sn(e)===t.flowId&&se(e)===t.stepId?Ze(e,{stepId:null,status:null,state:{}}):e),[ae.CLOSE_FLOW]:D((e,t)=>t.flowId===sn(e)?t.type===kt.CLEAR?{...e,currentContent:null}:{...e,orderedContent:e.orderedContent.slice(1),currentContent:null}:e),[ae.SET_PREVIOUS_ACTIVE_ELEMENT]:D((e,t)=>({...e,previousActiveElement:t.element})),[ae.SET_FORCE_FOCUS]:D((e,t)=>({...e,forceFocus:t.forceFocus})),[ae.CLEAR_CONTENT_STATE_CHILD]:D((e,t)=>qm(e,t.stepChildId))},PE={[ai.PREPARE_MODAL]:D(e=>ye(e).type===z.MODAL?{...e,currentContent:{...e.currentContent,state:{currentStepChildId:Xe(e)[0].id},status:Q.READY}}:e),[ai.RESIZE_MODAL_CONTENT]:D((e,t)=>{const n=fr(e);return e.currentContent?{...e,currentContent:{...e.currentContent,state:{...n,height:Math.ceil(t.height),width:Math.ceil(t.width)}}}:e})},DE={[Ae.PREPARE_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{currentStepChildId:Xe(e)[0]&&Xe(e)[0].id,surveyCollapsed:!1,askMeLaterSelected:!1,toastVisible:!1},status:Q.READY}}:e),[Ae.COLLAPSE_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,surveyCollapsed:!0,toastVisible:!1}}}:e),[Ae.EXPAND_SATISFACTION_SURVEY]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,surveyCollapsed:!1,toastVisible:!1}}}:e),[Ae.ASK_ME_LATER_SELECTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,askMeLaterSelected:!0,toastVisible:!1}}}:e),[Ae.SHOW_SATISFACTION_SURVEY_TOAST]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,toastVisible:!0}}}:e),[Ae.HIDE_SATISFACTION_SURVEY_TOAST]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,toastVisible:!1}}}:e),[Ae.QUANTITATIVE_QUESTION_SUBMITTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,lastSubmitted:"quantitative",toastVisible:!1}}}:e),[Ae.QUALITATIVE_QUESTION_SUBMITTED]:D(e=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,lastSubmitted:"qualitative",toastVisible:!1}}}:e),[Ae.FEEDBACK_TEXT_CHANGED]:D((e,t)=>ye(e).type===z.SATISFACTION_SURVEY?{...e,currentContent:{...e.currentContent,state:{...e.currentContent.state,feedbackText:t.feedback,toastVisible:!1}}}:e)};function Ir(){return Date.now()}function Wo(e,t,n){if(t.length>0){let r=Xr(e);return t.forEach(i=>{r={...r,[i]:{...r[i],...n(i)}}}),{...e,reportedErrors:{...e.reportedErrors,child:r}}}return e}const FE={[he.ADD_ACTIVE_ANNOTATIONS]:D((e,t)=>{if(e.currentContent){const n=(e.currentContent.state||{}).activeAnnotations||[];return St(e,{activeAnnotations:[...n,...t]})}return e}),[he.CONFIRM_SCROLLING]:D((e,t)=>St(e,{isScrollingToAnnotation:t})),[he.SET_ACTIVE_ANNOTATIONS_WILL_CLOSE]:D((e,t)=>{let n=e;return t.forEach(r=>{n=Ft(n,r,{willClose:!0})}),n}),[he.REMOVE_ACTIVE_ANNOTATIONS]:D((e,t)=>{if(e.currentContent){const n=(e.currentContent.state||{}).activeAnnotations||[];return St(e,{activeAnnotations:n.filter(r=>!t.includes(r))})}return e}),[he.SET_ANNOTATIONS_POSITIONS]:D((e,t)=>{const n={},r=At(e);return Object.keys(t).forEach(i=>{const o={...r[i],lastRepositionedTs:Ir()};delete o.error,delete o.errorMessage,n[i]=Object.assign(o,t[i])}),St(e,{children:n})}),[he.SET_ANNOTATIONS_READY]:D(e=>e.currentContent.state?Ze(e,{status:Q.READY,state:{...e.currentContent.state,retries:0}}):e),[he.SAVE_POSITION_DETAILS]:D((e,t)=>{let n=e;return Object.keys(t).forEach(r=>{n=Ft(n,r,{_prevPosition:t[r]})}),n}),[he.REPORTED_ANNOTATIONS_ERRORS]:D((e,t)=>Wo(e,t,()=>({errorReported:!0}))),[he.REPORTED_ANNOTATIONS_RECOVERY]:D((e,t)=>Wo(e,t,()=>({recoveryReported:!0}))),[he.SET_EXISTING_ANNOTATIONS_ERRORS]:D((e,t)=>Wo(e,Object.keys(t||{}),n=>({existingError:t[n]}))),[he.SET_TOOLTIP_SETTLED]:D((e,t)=>Ft(e,t.id,{isTooltipSettled:t.isTooltipSettled}))},UE={[Wt.EXPAND_HOTSPOT]:D((e,t)=>se(e)?Ft(e,t,{expanded:!0}):e),[Wt.PREPARE_HOTSPOTS]:D(e=>{const t=ye(e);if(t.type===z.HOTSPOTS){const n=Xe(e);let r=[];return n&&n.length>0?(r=n.map(i=>i.id),Dn(t)&&(r=[]),Ze(e,{state:{...e.currentContent.state,activeAnnotations:r},status:Q.CALCULATING_POSITIONS})):Ze(e,{status:Q.ERROR,error:"Empty list of hotspots.",state:{...e.currentContent.state,activeAnnotations:r}})}return e}),[Wt.SET_BEACON_SETTLED]:D((e,t)=>Ft(e,t.id,{isBeaconSettled:t.isBeaconSettled}))};function Ar(e,t,n){return{...e,debugger:{...e.debugger,[t]:n}}}function ta(e,t,n){return Ar(e,"viewState",{...P(r=>r.debugger.viewState,{})(e),[t]:n})}function HE(e,t,n){return ta(e,"rowState",{...P(r=>r.debugger.viewState.rowState,{})(e),[t]:n})}const ME={[qe.TOGGLE_ROW_DETAILS]:D((e,t)=>{const n=P(r=>r.debugger.viewState.rowState[t],!1)(e);return HE(e,t,!n)}),[qe.TOGGLE_COLLAPSED]:D(e=>ta(e,"isCollapsed",e.debugger.viewState?!e.debugger.viewState.isCollapsed:!0)),[qe.SET_CURRENT_PAGE]:D((e,t)=>Ar(e,"currentPage",t)),[qe.TRACK_PAGE]:D((e,t)=>Ar(e,"lastTrackedPage",t)),[qe.ADD_CONTENT_ERROR]:D((e,t)=>Ar(e,"contentErrors",[...If(e),t])),[qe.ADD_CHILD_ERROR]:D((e,t)=>{const n=Af(e);return Ar(e,"childErrors",{...n,[t.contentId]:{...n[t.contentId],[t.childId]:{errorMessage:t.errorMessage}}})}),[qe.CLOSE_DEBUGGER]:D(e=>({...e,debugger:null}))};function na(e,t){return it(t,n=>n.id===e)}function Ut(e,t,n){const i={...na(t,e.checklists),...n};return{...e,checklists:(e.checklists||[]).map(o=>o.id===t?i:o)}}const $E={[re.UPDATE_CHECKLISTS]:D((e,t)=>{const n=e.checklists||[];return t?{...e,checklists:t.map(r=>({...na(r.id,n),id:r.id,internal_name:r.internal_name,attributes:r,status:r.status}))}:e}),[re.SET_CHECKLIST_STATUS]:D((e,t)=>{const n=e.checklists||[];return{...e,checklists:n.map(r=>r.id===t.id?{...r,status:t.status}:r)}}),[re.ANIMATE_IN_CHECKLIST]:D((e,t)=>Ut(e,t.id,{viewState:$t.FIRSTVIEW})),[re.EXPAND_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{viewState:$t.EXPANDED})),[re.SET_EXPAND_CHECKLIST_LATER]:D((e,t)=>Ut(e,t.checklistId,{shouldTryExpandChecklist:t.shouldTryExpandChecklist})),[re.COLLAPSE_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{viewState:$t.COLLAPSED})),[re.SHOW_DISMISS_CONFIRMATION]:D((e,t)=>Ut(e,t.checklistId,{shouldShowConfirmDismiss:!0})),[re.CANCEL_DISMISS_CONFIRMATION]:D((e,t)=>Ut(e,t.checklistId,{shouldShowConfirmDismiss:!1})),[re.CONFIRM_DISMISS_CHECKLIST]:D((e,t)=>Ut(e,t.checklistId,{status:Q.DISMISSED,shouldShowConfirmDismiss:!1})),[re.SET_CHECKLIST_HEIGHT]:D((e,t)=>Ut(e,t.checklistId,{frameHeight:Math.ceil(t.height)})),[re.SET_CHECKLIST_WIDTH]:D((e,t)=>Ut(e,t.checklistId,{beaconWidth:Math.ceil(t.width)}))},BE={[Jn.LOADED_TEST_MODE_CSS]:D(e=>({...e,test:{cssLoaded:!0}}))},WE={[bt.LOADED_LAUNCHPAD]:D((e,{selector:t,position:n,header:r,footer:i,icon:o})=>({...e,widget:{selector:t,position:n,header:r,footer:i,icon:o,expanded:!1}})),[bt.UPDATED_WIDGET_HISTORY]:D((e,{history:t})=>({...e,widget:{...e.widget,history:t}})),[bt.UPDATED_WIDGET_FLOWS]:D((e,{flows:t})=>({...e,widget:{...e.widget,flows:t}})),[bt.TOGGLED_WIDGET]:D((e,{expanded:t})=>({...e,widget:{...e.widget,expanded:t}}))};function VE(e,t){const n=jm({...Km,...LE,...xE,...PE,...FE,...UE,...DE,...$E,...ME,...BE,...WE,...Vm}),r=Wm(),o=Lm(...[Gm,r])(km)(n,e);return t.forEach(s=>{r.run(s)}),r.setContext({dispatch:o.dispatch}),o}const ra=({width:e,height:t})=>a.svg("svg",{"attrs-viewBox":"0 0 38 45","attrs-width":e,"attrs-height":t},a.svg("g",{"attrs-fill":"#bebebe"},a.svg("polygon",{"attrs-points":"15.939 25.197 28.904 45.567 35.71 45.567 35.71 0 15.939 25.197"}),a.svg("polygon",{"attrs-points":"0 45.567 12.516 45.567 12.516 29.466 0 45.567"}))),GE="http://www.appcues.com/powered-by?utm_medium=embed-script&utm_campaign=powered-by-appcues",jE="https://www.appcues.com/nps-survey-software?utm_medium=branding&utm_campaign=powered-by";function Vo({accountId:e,isNPS:t}){const n=`${t?jE:GE}&utm_source=${e}`;return a.html("div",{classNames:"appcues-powered-by-text"},a.html("a",{href:n,target:"_blank",rel:"noreferrer"},a.html(ra,{width:"10px",height:"10px"}),a.html("span",null,"Powered by Appcues")))}function Go({text:e,success:t,hidden:n,onClick:r,attrs:i,style:o}){let s="appcues-button";t&&(s=`${s} appcues-button-success`);let c=o||{};n&&(c={...o,display:"none"});const l=d=>{(d.key===" "||d.key==="Enter")&&r(d)},u={};return r&&(u.click=r,u.keyup=l),a.html("a",{classNames:s,attrs:i,style:c,on:u},e)}var jo,ia;function qE(){return ia||(ia=1,jo=function(t,n){if(n=n.split(":")[0],t=+t,!t)return!1;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return!1}return t!==0}),jo}var mi={},oa;function KE(){if(oa)return mi;oa=1;var e=Object.prototype.hasOwnProperty,t;function n(s){try{return decodeURIComponent(s.replace(/\+/g," "))}catch{return null}}function r(s){try{return encodeURIComponent(s)}catch{return null}}function i(s){for(var c=/([^=?#&]+)=?([^&]*)/g,l={},u;u=c.exec(s);){var d=n(u[1]),f=n(u[2]);d===null||f===null||d in l||(l[d]=f)}return l}function o(s,c){c=c||"";var l=[],u,d;typeof c!="string"&&(c="?");for(d in s)if(e.call(s,d)){if(u=s[d],!u&&(u===null||u===t||isNaN(u))&&(u=""),d=r(d),u=r(u),d===null||u===null)continue;l.push(d+"="+u)}return l.length?c+l.join("&"):""}return mi.stringify=o,mi.parse=i,mi}var qo,sa;function YE(){if(sa)return qo;sa=1;var e=qE(),t=KE(),n=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,r=/[\n\r\t]/g,i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/:\d+$/,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function l(S){return(S||"").toString().replace(n,"")}var u=[["#","hash"],["?","query"],function(A,I){return p(I.protocol)?A.replace(/\\/g,"/"):A},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function f(S){var A;typeof window<"u"?A=window:typeof zc<"u"?A=zc:typeof self<"u"?A=self:A={};var I=A.location||{};S=S||I;var C={},O=typeof S,L;if(S.protocol==="blob:")C=new m(unescape(S.pathname),{});else if(O==="string"){C=new m(S,{});for(L in d)delete C[L]}else if(O==="object"){for(L in S)L in d||(C[L]=S[L]);C.slashes===void 0&&(C.slashes=i.test(S.href))}return C}function p(S){return S==="file:"||S==="ftp:"||S==="http:"||S==="https:"||S==="ws:"||S==="wss:"}function y(S,A){S=l(S),S=S.replace(r,""),A=A||{};var I=s.exec(S),C=I[1]?I[1].toLowerCase():"",O=!!I[2],L=!!I[3],H=0,R;return O?L?(R=I[2]+I[3]+I[4],H=I[2].length+I[3].length):(R=I[2]+I[4],H=I[2].length):L?(R=I[3]+I[4],H=I[3].length):R=I[4],C==="file:"?H>=2&&(R=R.slice(2)):p(C)?R=I[4]:C?O&&(R=R.slice(2)):H>=2&&p(A.protocol)&&(R=I[4]),{protocol:C,slashes:O||p(C),slashesCount:H,rest:R}}function h(S,A){if(S==="")return A;for(var I=(A||"/").split("/").slice(0,-1).concat(S.split("/")),C=I.length,O=I[C-1],L=!1,H=0;C--;)I[C]==="."?I.splice(C,1):I[C]===".."?(I.splice(C,1),H++):H&&(C===0&&(L=!0),I.splice(C,1),H--);return L&&I.unshift(""),(O==="."||O==="..")&&I.push(""),I.join("/")}function m(S,A,I){if(S=l(S),S=S.replace(r,""),!(this instanceof m))return new m(S,A,I);var C,O,L,H,R,j,K=u.slice(),fe=typeof A,w=this,J=0;for(fe!=="object"&&fe!=="string"&&(I=A,A=null),I&&typeof I!="function"&&(I=t.parse),A=f(A),O=y(S||"",A),C=!O.protocol&&!O.slashes,w.slashes=O.slashes||C&&A.slashes,w.protocol=O.protocol||A.protocol||"",S=O.rest,(O.protocol==="file:"&&(O.slashesCount!==2||c.test(S))||!O.slashes&&(O.protocol||O.slashesCount<2||!p(w.protocol)))&&(K[3]=[/(.*)/,"pathname"]);J<K.length;J++){if(H=K[J],typeof H=="function"){S=H(S,w);continue}L=H[0],j=H[1],L!==L?w[j]=S:typeof L=="string"?(R=L==="@"?S.lastIndexOf(L):S.indexOf(L),~R&&(typeof H[2]=="number"?(w[j]=S.slice(0,R),S=S.slice(R+H[2])):(w[j]=S.slice(R),S=S.slice(0,R)))):(R=L.exec(S))&&(w[j]=R[1],S=S.slice(0,R.index)),w[j]=w[j]||C&&H[3]&&A[j]||"",H[4]&&(w[j]=w[j].toLowerCase())}I&&(w.query=I(w.query)),C&&A.slashes&&w.pathname.charAt(0)!=="/"&&(w.pathname!==""||A.pathname!=="")&&(w.pathname=h(w.pathname,A.pathname)),w.pathname.charAt(0)!=="/"&&p(w.protocol)&&(w.pathname="/"+w.pathname),e(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(R=w.auth.indexOf(":"),~R?(w.username=w.auth.slice(0,R),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(R+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin=w.protocol!=="file:"&&p(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}function T(S,A,I){var C=this;switch(S){case"query":typeof A=="string"&&A.length&&(A=(I||t.parse)(A)),C[S]=A;break;case"port":C[S]=A,e(A,C.protocol)?A&&(C.host=C.hostname+":"+A):(C.host=C.hostname,C[S]="");break;case"hostname":C[S]=A,C.port&&(A+=":"+C.port),C.host=A;break;case"host":C[S]=A,o.test(A)?(A=A.split(":"),C.port=A.pop(),C.hostname=A.join(":")):(C.hostname=A,C.port="");break;case"protocol":C.protocol=A.toLowerCase(),C.slashes=!I;break;case"pathname":case"hash":if(A){var O=S==="pathname"?"/":"#";C[S]=A.charAt(0)!==O?O+A:A}else C[S]=A;break;case"username":case"password":C[S]=encodeURIComponent(A);break;case"auth":var L=A.indexOf(":");~L?(C.username=A.slice(0,L),C.username=encodeURIComponent(decodeURIComponent(C.username)),C.password=A.slice(L+1),C.password=encodeURIComponent(decodeURIComponent(C.password))):C.username=encodeURIComponent(decodeURIComponent(A))}for(var H=0;H<u.length;H++){var R=u[H];R[4]&&(C[R[1]]=C[R[1]].toLowerCase())}return C.auth=C.password?C.username+":"+C.password:C.username,C.origin=C.protocol!=="file:"&&p(C.protocol)&&C.host?C.protocol+"//"+C.host:"null",C.href=C.toString(),C}function _(S){(!S||typeof S!="function")&&(S=t.stringify);var A,I=this,C=I.host,O=I.protocol;O&&O.charAt(O.length-1)!==":"&&(O+=":");var L=O+(I.protocol&&I.slashes||p(I.protocol)?"//":"");return I.username?(L+=I.username,I.password&&(L+=":"+I.password),L+="@"):I.password?(L+=":"+I.password,L+="@"):I.protocol!=="file:"&&p(I.protocol)&&!C&&I.pathname!=="/"&&(L+="@"),(C[C.length-1]===":"||o.test(I.hostname)&&!I.port)&&(C+=":"),L+=C+I.pathname,A=typeof I.query=="object"?S(I.query):I.query,A&&(L+=A.charAt(0)!=="?"?"?"+A:A),I.hash&&(L+=I.hash),L}return m.prototype={set:T,toString:_},m.extractProtocol=y,m.location=f,m.trimLeft=l,m.qs=t,qo=m,qo}var zE=YE();const XE=_o(zE);function ve(e){return new Promise(t=>{setTimeout(t,e)})}function Gt(e,t,n){return ve(10).then(()=>{n?e.open(t):e.location.href=t})}const JE=/[$()+.?[\\\]^{|}]/g,QE=/\*/g,ZE=/\\{\\{.*?\\}\\}/g,ca=".+",eg=/(\/$|\/(\?|#))$/,tg=/(\/\*)$/,ng=/^(https?:)\/\//i;function rg(e){const{pathname:t,query:n,hash:r}=XE(e);return`${t}${n}${r}`}function la(e){return e?.replace(eg,"$2")}function ig(e="",t=""){return e.toLowerCase().trim()===t.toLowerCase().trim()}function og(e="",t){const n=e.replace(JE,"\\$&").replace(QE,ca).replace(ZE,ca);return ng.test(n)?new RegExp(`${n}$`,"i").test(t):new RegExp(`^/?${n}$`,"i").test(rg(t))}function Tt(e="/",t="/"){const[n,r]=tg.test(e)?[e,t]:[la(e),la(t)];return ig(n,r)||og(n,r)}function sg(){return window.location.href}function aa(e){Ne(e,"target")!=="_blank"&&ge(e,"target","_parent")}function ua(e,t){const n=Ne(e,"href");if(n){const r=i=>{if(i.type==="keyup"&&i.key!==" "&&i.key!=="Enter")return;t(i,n);const o=Ne(e,"target");o!=="_blank"?(i.preventDefault(),window.setTimeout(()=>{const s=(c=>{switch(c){case"_parent":{const l=!!window.parent.location;return typeof window.parent=="string"||!l?window:window.parent}case"_top":return window.top;default:return window}})(o);Gt(s,n)},200)):i.type==="keyup"&&o==="_blank"&&Gt(window,n,!0)};gt(e,"click",r),gt(e,"keyup",r)}else gt(e,"click",t),gt(e,"keyup",r=>{(r.key===" "||r.key==="Enter")&&t(r)})}const da="//twemoji.maxcdn.com/2/svg/",cg="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/",fa=new Set(["skip","skip-and-end-flow","end","prev","end-flow"]);function lg(e){return[...e.querySelectorAll("form.step-action-form .field[data-field-id]")]}function ag(e){const t=e.querySelector("form.step-action-form");return t?t.getAttribute("data-form-id"):null}const ug="pattern-title",dg=e=>{setTimeout(()=>{const[t]=si(e.elm);if(t){ct(t);return}ct(e.elm)},500)};function Ko(e){vo(e,"update",t=>{t.elm&&t.elm.focus()})}function fg(e){const{step:t,currentState:n,showBadge:r,accountId:i,isFirst:o,isLast:s,onComplete:c,onCompleteFlow:l,onNextStep:u,onPrevStep:d,onJumpStep:f,onLinkClick:p,onFormSubmission:y,onContentChange:h,onSkip:m,onHandleProfileUpdate:T,onHandleUserEvent:_,formatVersion:S,onSetNextContentIdCookie:A,showBackdrop:I}=e,C={LEFT:"LEFT",RIGHT:"RIGHT"},O={NEXT:"NEXT",BACK:"BACK"},L={NEXT:"Next",LAST:"OK, got it",BACK:"Back"},H=S===1;let R=t.step_buttons;(R==null||R.length===0)&&(R=[{text:Dt(t.next_text),type:O.NEXT,align:C.RIGHT},{text:Dt(t.prev_text),type:O.BACK,align:C.LEFT}]);let j=!1;const K=(W,Y,ie=s,_e=!1,oe=!1)=>{if(!j){Y();return}const de=W.ownerDocument.documentElement.querySelector("cue.active > section");y(ag(de),lg(de),Y,ie,_e,oe)},fe=W=>{const Y=s?()=>c(W):()=>u(W,t.id);K(W.target,Y)},w=(W,Y,ie,_e)=>{K(Y,()=>f(W,ie,_e))},J=({ignoreValidation:W})=>Y=>{K(Y.target,()=>l(Y),!1,W)},ue=W=>{d(W,t.id)},pe=W=>{switch(W){case O.BACK:return ue;case O.NEXT:return fe;default:return null}},Ce=()=>{const Y=(n.forms||{})[n.currentStepChildId]||{},{fields:ie=[]}=Y;return ie},Re=Object.keys(n.formErrors||{}).reduce((W,Y)=>{const ie=Ce().findIndex(_e=>_e.fieldId===Y);return W<0?ie:Math.min(W,ie)},-1),nt=W=>{if(nl(W)){const Y=Ne(W,"data-step"),ie=Ne(W,"href"),_e=Ne(W,"data-attrs-event"),oe=Ne(W,"data-attrs-profile-update"),de=dn(W,"appcues-button"),N=Ne(W,"data-next-content-id"),x=[];if(N&&x.push(()=>A(N)),ie?(aa(W),x.push(k=>p(k,t.id,ie))):(ge(W,"role","button"),ge(W,"tabindex","0")),oe)try{const k=JSON.parse(oe);Object.keys(k).length>0&&x.push(X=>{K(X.currentTarget,()=>T(k),!1,fa.has(Y),!0)})}catch{}if(_e)try{const k=JSON.parse(_e);Object.keys(k).length>0&&x.push(X=>{K(X.currentTarget,()=>_(k.event,k.properties),!1,fa.has(Y),!0)})}catch{}if(/^\d+$/.test(Y))x.push(k=>{w(k,W.elm,t.id,Number.parseInt(Y,10))});else if(Y){const k={end:c,next:fe,prev:ue,skip:m,"skip-and-end-flow":J({ignoreValidation:!0}),"end-flow":J({ignoreValidation:!1})}[Y];k&&x.push(k)}de&&ge(W,"tabindex","0"),il(W,k=>{x.push(X=>{K(X.currentTarget,k,!1)})}),x.length>0&&ua(W,(k,X)=>{x.forEach(ee=>{ee(k,X)})})}if(rl(W)){ge(W,"crossOrigin","anonymous"),Ne(W,"alt")||(ge(W,"alt",""),ge(W,"role","presentation"));const ie=Ne(W,"src");if(ie?.includes(da)){const _e=ie.replace(da,cg);ge(W,"src",_e)}gt(W,"load",_e=>{if(h){const oe=_e.target.ownerDocument;window.requestAnimationFrame(()=>{h(oe.documentElement.querySelector("modal-container"))})}})}if(Hp(W)&&gt(W,"keypress",Y=>{if(Y.key==="Enter"&&Y.target.tagName!=="TEXTAREA"&&Y.target.type!=="radio"&&Y.target.type!=="checkbox"&&!(Y.target.classList.contains("rating-options")||Y.target.classList.contains("rating-option"))){const{currentTarget:ie}=Y;K(ie,s?()=>c(Y):()=>u(Y,t.id)),Y.preventDefault?Y.preventDefault():Y.returnValue=!1}}),dn(W,"form-field")){const Y=Ce();let ie;W.children.forEach(_e=>{_e.children&&_e.children.forEach(oe=>{dn(oe,"label-display")&&(ie=Ne(oe,"for"),ge(oe,"id",`label-${ie}`));const de=Y.find(N=>N.fieldId===ie);if(dn(oe,"form-control")&&(ge(oe,"aria-invalid","false"),ie&&ge(oe,"id",ie),de?.value&&ge(oe,"value",de.value),ie===Y[Re]?.fieldId&&Ko(oe),j||vo(oe,"insert",N=>{N.elm&&N.elm.focus()})),dn(oe,"field-options")){const N=Ne(oe,"data-type-role"),x=Ne(W,"data-max-selection");if(ge(oe,"role",N??"radiogroup"),ie&&(ge(oe,"aria-labelledby",`label-${ie}`),ge(oe,"tabindex","0")),Y){const k=oe.children.filter(X=>X.children&&X.children.find(({sel:ee})=>ee==="input"));k.forEach(X=>{gt(X,"keypress",ee=>{if(ee.key==="Enter"){const Z=X.children.find(({sel:B})=>B==="input");Z&&Z.elm&&Z.elm.click()}})}),x&&Number.parseInt(x,10)>0&&k.forEach(X=>{gt(X,"change",()=>{const ee=k.filter(Z=>Z.children.find(({sel:G})=>G==="input").elm.checked);k.forEach(Z=>{const B=Z.children.find(({sel:G})=>G==="input");!B.elm.checked&&ee.length>=x?B.elm.setAttribute("disabled",!0):B.elm.checked||B.elm.removeAttribute("disabled")})})})}if(Y&&de?.value){const k=oe.children.find(X=>X.children&&X.children.find(({sel:ee})=>ee==="input").data?.attrs?.value===de.value);if(k){const X=k.children.find(({sel:ee})=>ee==="input");ge(X,"checked",!0)}}ie===Y[Re]?.fieldId&&Ko(oe)}dn(oe,"rating-options")&&(ge(oe,"role","radiogroup"),ie&&(ge(oe,"aria-labelledby",`label-${ie}`),ge(oe,"tabindex","0")),oe.children.forEach(N=>{ge(N,"tabindex","0"),ge(N,"role","radio"),gt(N,"keydown",x=>{if((x.key===" "||x.key==="Enter")&&(x.stopPropagation(),N.children.forEach(k=>{Up(k)&&k&&k.elm&&k.elm.click()})),x.key==="ArrowRight"||x.key==="ArrowDown"){x.preventDefault();const k=N.elm.nextElementSibling;k?k.focus():oe.children[0]?.elm.focus()}if(x.key==="ArrowLeft"||x.key==="ArrowUp"){x.preventDefault();const k=N.elm.previousElementSibling;k?k.focus():oe.children[oe.children.length-1]?.elm.focus()}})}),ie===Y[Re]?.fieldId&&Ko(oe))})}),ie&&n.formErrors&&n.formErrors[ie]&&(Fp(W,"appcues-error"),W.children=[...W.children,a.html(pg,{vnodeFormField:W.children,messages:n.formErrors[ie],fieldId:ie})]),j=!0}},Pe=Dt(t.html,{hooks:{create:nt}});return a.html("cue",{classNames:`active 
        ${t.actions_hidden?"appcues-actions-hidden":""}
        ${H?"":"full-buttons"}
      `},a.html("section",{"attrs-role":"dialog","attrs-aria-modal":I?"true":"false","attrs-aria-describedby":ug,"hook-insert":dg,"attrs-tabindex":"-1"},Pe||""),H?a.html("div",{classNames:`appcues-actions ${t.actions_hidden?"hidden":""}`},!t.prev_button_hidden&&!t.is_button_centered?a.html("div",{classNames:`appcues-actions-left ${t.next_button_hidden?"appcues-actions-full-row":""} `},R.filter(W=>W.align===C.LEFT&&W.isVisible!==!1).map(W=>a.html(Go,{style:W.style?JSON.parse(W.style):void 0,text:W.text||L.BACK,hidden:o,attrs:{"data-step":"prev",role:"button",tabindex:"0"},onClick:pe(W.type)}))):a.html(le,null),t.next_button_hidden?a.html(le,null):a.html("div",{classNames:`appcues-actions-right ${t.prev_button_hidden||t.is_button_centered?"appcues-actions-full-row":""} ${t.is_button_centered?"appcues-actions-align-center":""}`},R.filter(W=>W.align===C.RIGHT&&W.isVisible!==!1).map(W=>a.html(Go,{success:!0,style:W.style?JSON.parse(W.style):void 0,text:W.text||(s?L.LAST:L.NEXT),attrs:{"data-step":s?"end":"next",role:"button",tabindex:"0"},onClick:pe(W.type)})))):a.html(le,null),r?a.html(Vo,{accountId:i}):a.html(le,null))}function pg({messages:e,fieldId:t,vnodeFormField:n}){const r=n.find(o=>o.data?.class["field-controls"]);let i="";return e.forEach((o,s)=>{i+=`error-for-${t}-${s} `}),r&&(r.children[0].data.attrs["aria-invalid"]="true",r.children[0].data.attrs["aria-describedBy"]=i),a.html("ul",{classNames:"messages"},e.map((o,s)=>a.html("li",null,a.html("span",{id:`error-for-${t}-${s}`},o))))}function pa({onLoad:e=()=>null,styling:t}){return a.html("style",{classNames:"appcues-global-styling","attrs-type":"text/css","on-load":e},t||"")}const Yo=".appcues-content-outline-styling",zo=({key:e,target:t})=>{const n=t.ownerDocument||t,r=n.documentElement?.querySelector(Yo)??n.querySelector(Yo);e==="Tab"&&(r.innerHTML="",n.removeEventListener("keydown",zo))},hg=e=>{setTimeout(()=>{e.elm.ownerDocument.addEventListener("keydown",zo)},200)},mg=e=>{e.elm.ownerDocument.removeEventListener("keydown",zo)},Eg=`
  appcues cue > section *, .content * {
    outline: none;
  }
`;function ha(){return a.html("style",{selector:Yo,"attrs-type":"text/css","hook-insert":hg,"hook-destroy":mg},Eg)}function ma(e,t){const n=o=>{o.key==="Escape"&&t()};return{addEscapeEventListener:o=>{if(!e||!o)return;const{elm:s}=o,c=s.ownerDocument;c&&c.addEventListener("keyup",n,!0),s.tagName==="IFRAME"&&setTimeout(()=>{const l=s.contentDocument;l&&l.addEventListener("keyup",n,!0)},100)},removeEscapeEventListener:o=>{if(!e||!o)return;const{elm:s}=o,c=s.ownerDocument;if(c&&c.removeEventListener("keyup",n,!0),s.tagName==="IFRAME"){const l=s.contentDocument;l&&l.removeEventListener("keyup",n,!0)}}}}function Xo(e,t,n,r){if(e.defaultView!==null&&r){const i=()=>r(t,e.documentElement.querySelector(n));sh(e.defaultView,i),window.setTimeout(i,200)}}const gg="/generic/main/7.7.0/modal.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",yg="/generic/main/7.7.0/modal-step-legacy-render.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",Sg="1ap2xJXPA6+zfau+TTrgl+tyKnVZGWa7bl1nMr+fKvs=",Tg="f+k+n1UzKXzuja/FHkSACvNlJl9YXs1gpc/Z01OXj48=",Cg=Pt(yg),Ei=Pt(gg),Ea=new Set(["shorty","slideout"]);function ga(e){if(!e)return;const{style:t}=e,n=t.transform;t.transform=n==="scale(1) translateZ(0)"?"scale(1)":"scale(1) translateZ(0)",e.offsetHeight}function ya(e){setTimeout(()=>{e.focus()},100)}const Jo=e=>{if(e.key==="Tab"){const t=document.documentElement.querySelector("appcues-container iframe").contentWindow.document,{activeElement:n}=t,r=si(t.documentElement),i=r.length,o=r.indexOf(n);if(n===t.body){e.shiftKey&&(e.preventDefault(),ya(r[i-1]));return}(e.shiftKey&&o===0||!e.shiftKey&&o===i-1)&&(e.preventDefault(),ya(r[0]))}};function _g(e){const t=ye(e),n=fr(e),r=Be(e),i=Xe(e),o=st(e),s=Bt(e,o),c=i[s],l=t.attributes.pattern_type,u=t.attributes.is_progress_bar_hidden,{position:d}=t.attributes,{backdrop:f}=t.attributes,{skippable:p}=t.attributes,y=e.views.callbacks[z.MODAL],h=n.cssLoaded,m=of(e),T=Oc(e),_=Uc(e),S=T||m,I=["modal","left","fullscreen"].lastIndexOf(l)>-1,C=I||f,O=ci(e.settings),L=_===1,H=h&&ne.inArray([Q.SHOWING,Q.WILL_CLOSE],r),R=r!==Q.SHOWING,j={},K={};C||(j.height=(n.height||0)>2?`${n.height}px`:"150px",j.width=(n.width||0)>2?`${n.width}px`:"400px"),H||(j.opacity="0",j.visibility="hidden"),Ea.has(l)&&(K.overflow="auto");const fe=Math.round((s+1)/i.length*1e3)/10,w={},J=[];for(const[de,N]of i.entries()){w[`cue-step-${de}`]=de===s;const x=/<style.*?>((?:.|[\n\r])*?)<\/style>/g;let k;for(;(k=x.exec(N.html))!==null;)k.index===x.lastIndex&&(x.lastIndex+=1),J.push(k[1])}const ue=de=>{de.target.tagName==="APPCUES"&&p&&l!=="fullscreen"&&y.onSkip()},pe=(de,N)=>{const x=de.target.ownerDocument;N?oi(x,Ei,()=>{y.onCSSLoaded(t.id,Ei,!0),I||Xo(x,t.id,"modal-container",y.onContentChange)}):y.onCSSLoaded(t.id,Ei,!1)},Ce=de=>{Object.keys(n.formErrors||{}).length>0&&Ea.has(l)||!I&&de&&Math.abs(de.getBoundingClientRect().height-Number.parseInt(n.height,10))>2&&y.onContentChange&&window.requestAnimationFrame(()=>y.onContentChange(t.id,de))},{addEscapeEventListener:Re,removeEscapeEventListener:nt}=ma(p,y.onSkip),Pe=de=>{window.requestAnimationFrame(y.onShow),C&&ih(document.documentElement.querySelector("body"),"appcues-noscroll"),window.requestAnimationFrame(()=>{ct(de.elm),ga(de.elm)}),Re(de)},W=de=>{ml(wc(e)),oh(document.documentElement.querySelector("body"),"appcues-noscroll"),nt(de)},Y=a.html(Ag,{percentComplete:fe,isProgressBarHidden:u,numberOfSteps:i.length,currentStep:s+1}),ie=a.html(Ig,{skippable:p,onClick:y.onSkip}),_e=a.html(le,null),oe=a.html(fg,{step:c,key:`modal-step-${s}`,currentState:n,showBadge:O,accountId:e.settings.accountId,isFirst:s===0,isLast:s===i.length-1,onComplete:y.onComplete,onCompleteFlow:y.onCompleteFlow,onNextStep:y.onNextStep,onPrevStep:y.onPrevStep,onJumpStep:y.onJumpStep,onLinkClick:y.onLinkClick,onStepChildActivated:y.onStepChildActivated,onStepChildDeactivated:y.onStepChildDeactivated,onFormSubmission:y.onFormSubmission,onSetNextContentIdCookie:y.onSetNextContentIdCookie,onContentChange:Ce,onSkip:y.onSkip,onHandleProfileUpdate:y.onHandleProfileUpdate,onHandleUserEvent:y.onHandleUserEvent,formatVersion:_,showBackdrop:C});return a.html("appcues-container",{"attrs-data-pattern-type":l,"attrs-data-position":d,"attrs-tabindex":"0","class-appcues-ontop":!0,"class-appcues-fullscreen":C,"class-apc-hidden":R,classNames:`appcues--theme-${uo(e)||S.id||"-default"}`,style:j,"on-keydown":Jo},a.html("iframe",{"style-border":"none","style-display":"block","style-height":"100%","style-width":"100%","style-color-scheme":"none",srcdoc:'<meta name="referrer" content="origin" />',src:"about:blank","hook-insert":Pe,"hook-update":de=>ga(de.elm),"hook-destroy":W,"attrs-allowfullscreen":!0,"attrs-mozallowfullscreen":!0,"attrs-webkitallowfullscreen":!0,"attrs-msallowfullscreen":!0},a.html("meta",{name:"referrer",content:"origin"}),a.html("link",{"attrs-href":Ei,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":Sg,"attrs-crossorigin":"anonymous","on-load":de=>{pe(de,!0)},"on-error":de=>{pe(de,!1)}}),L?a.html("link",{"attrs-href":Cg,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":Tg,"attrs-crossorigin":"anonymous"}):a.html(le,null),a.html(ha,null),a.html(pa,{styling:S.globalStyling}),a.html("style",{"attrs-type":"text/css",classNames:"extracted-step-styles"},J.join(`
`)),C?a.html(vg,{patternType:l,hidden:R}):a.html(le,null),(()=>{let de=a.html(le,null);return de=I?a.html("appcues",{"class-active":!0,"class-apc-hidden":R,"class-fullscreen":C,class:w,"attrs-data-pattern-type":l,"on-click":ue,"on-keydown":Jo},Y,ie,_e,oe):a.html("appcues",{"class-active":!0,"class-apc-hidden":R,"class-fullscreen":C,class:w,"attrs-data-pattern-type":l,"attrs-data-position":d,"on-click":ue,"on-keydown":Jo,style:K},a.html("modal-container",{"class-fullscreen":C,"hook-update":N=>{Ce(N.elm)}},Y,ie,oe)),de})()))}function Ig({skippable:e,onClick:t}){if(e){const n=r=>{(r.key===" "||r.key==="Enter")&&t()};return a.html("div",{classNames:"appcues-skip"},a.html("a",{"attrs-data-step":"skip","on-keyup":n,"on-click":t,"attrs-aria-label":"Close modal","attrs-role":"button","attrs-tabindex":"0"},String.fromCodePoint(215)))}return a.html(le,null)}function Ag({currentStep:e,numberOfSteps:t,percentComplete:n,isProgressBarHidden:r}){return r?a.html(le,null):a.html("div",{classNames:"appcues-progress"},a.html("div",{classNames:"appcues-progress-bar appcues-progress-bar-success","attrs-role":"progressbar","attrs-aria-label":"current step","attrs-aria-valuemin":1,"attrs-aria-valuemax":t,"attrs-aria-valuenow":e,"attrs-aria-valuetext":`You are on step ${e} of ${t}`,style:{width:`${n}%`}}))}function vg({patternType:e,hidden:t}){return a.html("div",{"class-appcues-backdrop":!0,"class-apc-hidden":t,"attrs-data-pattern-type":e})}const bg="/generic/main/7.7.0/tooltip.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",wg="igg3p8Bk45sB0Q7EEhfzxPQN6dMtsQ/8P1+LBIDEddE=",gi=Pt(bg),Sa="//twemoji.maxcdn.com/2/svg/",Ng="//cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/svg/",vr="hs",Ta="pattern-title",Ca="Hide these tips";function Og(e,t){return{skippable:e.skippable,skipText:e.skipText,skippableDisplayType:e.skippableDisplayType||zi.TEXT,onSkip:t.onSkip}}function Qo(e){return!(!e||!e.skippable)}function _a(e,t){return e?e===t:!1}function Ia(e){return Qo(e)?_a(e.skippableDisplayType,zi.TEXT):!1}function kg(e){return Qo(e)?_a(e.skippableDisplayType,zi.EXIT_SYMBOL):!1}function Aa(e,t){if(!t)return{focusableElements:[],isBoundaryElement:()=>!1};const{activeElement:n,documentElement:r}=t,i=si(r),o=i.indexOf(n);return{focusableElements:i,isBoundaryElement:()=>{const s=i.length;return e.shiftKey&&o===0||!e.shiftKey&&o===s-1}}}const va=e=>{const t=lh(Ta,!0),n=e.styling||{},r=e.width||0,i=e.height||0,o=Number.parseInt(e.zIndex,10),s={position:e.fixed?"fixed":"absolute",height:`${i}px`,width:`${r}px`,zIndex:Number.isNaN(o)?e.zIndex||"":o+1,border:"none"},c=e.callbacks||{},l=e.formatVersion===1,u=e.isTooltipSettled&&!e.willClose&&e.stepVisible&&e.isElementVisible,d=w=>{c.onNextButtonClick(w,e.id,e.isLast)},f=w=>{c.onPrevButtonClick(w,e.id)},p=w=>{c.onComplete(w,e.id)},y=w=>{c.onCompleteFlow(w,e.id)},h=(w,J)=>{const ue=w.target.ownerDocument;J?oi(ue,gi,()=>{c.onCSSLoaded&&c.onCSSLoaded(e.id,gi,!0),Xo(ue,e.id,".tooltip",c.onContentChange)}):c.onCSSLoaded&&c.onCSSLoaded(e.id,gi,!1)},m=w=>{if(t(w),nl(w)){const J=Ne(w,"data-step"),ue=Ne(w,"href"),pe=dn(w,"appcues-button"),Ce=Ne(w,"data-attrs-event"),Re=Ne(w,"data-attrs-profile-update"),nt=Ne(w,"data-next-content-id"),Pe=[];if(nt&&Pe.push(()=>c.onSetNextContentIdCookie(nt)),ue?(aa(w),Pe.push((Y,ie)=>{c.onLinkClick(e.id,ie)})):(ge(w,"role","button"),ge(w,"tabindex","0")),Re)try{const Y=JSON.parse(Re);Object.keys(Y).length>0&&Pe.push(()=>c.onHandleProfileUpdate(Y))}catch{}if(Ce)try{const Y=JSON.parse(Ce);Object.keys(Y).length>0&&Pe.push(()=>c.onHandleUserEvent(Y.event,Y.properties))}catch{}const W=Y=>(ie,_e)=>{window.setTimeout(()=>Y(ie,_e),1)};if(/^\d+$/.test(J))Pe.push(Y=>{c.onJumpStep(Y,e.id,Number.parseInt(J,10))});else if(J){const Y={end:p,next:d,prev:f,skip:c.onSkip,"skip-and-end-flow":y,"end-flow":y}[J];Y&&Pe.push(W(Y))}pe&&ge(w,"tabindex","0"),il(w,Y=>{Pe.push(Y)}),Pe.length>0&&ua(w,(Y,ie)=>{Pe.forEach(_e=>{_e(Y,ie)})})}if(rl(w)){ge(w,"crossOrigin","anonymous"),Ne(w,"alt")||(ge(w,"alt",""),ge(w,"role","presentation"));const ue=Ne(w,"src");if(ue?.includes(Sa)){const pe=ue.replace(Sa,Ng);ge(w,"src",pe)}gt(w,"load",pe=>{if(c.onContentChange){const Ce=pe.target.ownerDocument;window.requestAnimationFrame(()=>{c.onContentChange(e.id,Ce.documentElement.querySelector(".tooltip"))})}})}},T=Dt(e.html,{hooks:{create:m}});let _=e.tooltipAlignment;if(!_){let w="bottom";e.yRegion>1&&(w="top");let J="";e.xRegion===0?J="-right":e.xRegion===3&&(J="-left"),_=`${w}${J}`}const S={[`align-${_}`]:!0},A={[`content-${_}`]:!0};(_==="top"||_==="bottom")&&(s.left=`${e.x+Et/2-r/2}px`),(_==="left"||_==="right")&&(s.top=`${e.y-(i-Et-qi)/2}px`);const I=Cd+qi+Sd/2+Td-Et/2;_.indexOf("left")>0?s.left=`${e.x-r+I+Et}px`:_.indexOf("right")>0?s.left=`${e.x-I}px`:_.indexOf("left")===0?s.left=`${e.x-r}px`:_.indexOf("right")===0&&(s.left=`${e.x+Et}px`),_.indexOf("top")>0?s.top=`${e.y-i+I+Et}px`:_.indexOf("bottom")>0?s.top=`${e.y-I+qi}px`:_.indexOf("top")===0?s.top=`${e.y-i}px`:_.indexOf("bottom")===0&&(s.top=`${e.y+Et}px`);const C=w=>{if(c.onContentChange){const{target:J}=w;window.requestAnimationFrame(()=>{document.documentElement.contains(J)&&c.onContentChange(e.id,J.contentDocument.documentElement.querySelector(".tooltip"))})}},O=Og(e,c),{addEscapeEventListener:L,removeEscapeEventListener:H}=ma(Qo(O),O.onSkip),R=w=>{if(w.key==="Tab"||[38,40,37,39].includes(w.keyCode)){w.stopPropagation();const ue=(c.onClickOut||e.backdropSolidEdge?document.documentElement.querySelector(`#${vr}-${e.id}`):document.documentElement)?.querySelector(".appcues-tooltip-container");if(ue){const{contentDocument:pe}=ue,{focusableElements:Ce,isBoundaryElement:Re}=Aa(w,pe);if(Re())if(c.onClickOut)c.onClickOut(e.isLast);else{if(e.backdropSolidEdge){w.preventDefault(),ct(e.element);return}Ce.some(Pe=>Pe.classList.contains("appcues-button"))||ct(e.element)}!Ce.includes(w.target)&&e.isElementVisible&&(w.preventDefault(),ct(Ce[0]))}}};let j;const K=w=>{L(w),window.requestAnimationFrame(()=>ct(w.elm)),j=J=>{const pe=(c.onClickOut||e.backdropSolidEdge?document.documentElement.querySelector(`#${vr}-${e.id}`):document.documentElement)?.querySelector(".appcues-tooltip-container");if(pe){const{contentDocument:Ce}=pe,{focusableElements:Re}=Aa(J,Ce);Re.length>0&&ct(Re[0])}},e.element?.addEventListener("blur",j)},fe=w=>{!c.onClickOut&&e.element!==document.activeElement&&ml(e.previousActiveElement),H(w),e.element?.removeEventListener("blur",j)};return a.html("iframe",{src:"about:blank",classNames:"appcues-tooltip-container",style:s,class:S,"attrs-seamless":!0,"class-appcues-tooltip-hidden":e.hidden,"class-apc-hidden":!u,"on-load":C,"attrs-allowfullscreen":!0,"attrs-mozallowfullscreen":!0,"attrs-webkitallowfullscreen":!0,"attrs-msallowfullscreen":!0,"hook-insert":K,"hook-destroy":fe,"attrs-aria-hidden":!1,"style-color-scheme":"none"},a.html("link",{"attrs-href":gi,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":wg,"attrs-crossorigin":"anonymous","on-load":w=>{h(w,!0)},"on-error":w=>{h(w,!1)}}),a.html(ha,null),a.html(pa,{styling:n.globalStyling,onLoad:w=>{h(w,!0)}}),a.html("div",{"on-keydown":R,classNames:"tooltip","attrs-aria-label":sr.LABEL_TOOLTIP,"attrs-aria-modal":e.backdropSolidEdge,"attrs-aria-labelledby":Ta,"attrs-role":"dialog","attrs-tabindex":"-1"},a.html("div",{classNames:"content",class:A},a.html("div",{classNames:"panel panel-default"},a.html("div",{classNames:"panel-content"},kg(O)?a.html(xg,{skipText:O.skipText,onClick:O.onSkip}):"",T||""),l?a.html(Rg,{skipOptions:O,buttonText:e.buttonText,onButtonClick:d}):a.html(le,null),e.showPoweredBy?a.html(Vo,{accountId:e.accountId}):a.html(le,null)))))};function Rg({skipOptions:e,buttonText:t,onButtonClick:n}){return!Ia(e)&&!t?a.html(le,null):a.html("div",{classNames:"panel-content panel-content-actions"},Ia(e)?a.html("div",{classNames:"appcues-actions-left"},a.html(Lg,{skipText:e.skipText,onClick:e.onSkip})):a.html(le,null),a.html("div",{classNames:"appcues-actions-right"},t?a.html(Go,{text:Dt(t),success:!0,onClick:n,attrs:{role:"button",tabindex:"0"}}):a.html(le,null)))}const ba=(e,t)=>{(e.key===" "||e.key==="Enter")&&t()};function Lg({skipText:e,onClick:t}){return a.html("small",{"on-keyup":n=>{ba(n,t)},"attrs-role":"button","attrs-tabindex":"0","on-click":t,classNames:"text-muted appcues-skip","attrs-aria-label":e||Ca},a.html("span",{"attrs-aria-hidden":"true"},String.fromCodePoint(8856)," "),e?Dt(e):Ca)}function xg({onClick:e}){return a.html("div",{"attrs-role":"button","on-keyup":t=>{ba(t,e)},"attrs-tabindex":"0",classNames:"exit-tooltip-container","on-click":e,"attrs-aria-label":"Close tooltip"},a.html("a",{classNames:"exit-tooltip","attrs-aria-hidden":"true"},""))}function Pg({color:e,zIndex:t}){return a.svg("svg",{"class-beacon":!0,"attrs-width":`${Et}px`,"attrs-height":`${Et}px`,"attrs-viewBox":"0 0 24 24",style:{zIndex:t}},a.svg("g",{"attrs-stroke":"none","attrs-stroke-width":"1","attrs-fill":"none","attrs-fill-rule":"evenodd","attrs-transform":"translate(3, 3)"},a.svg("circle",{"attrs-fill":e,"attrs-cx":"9","attrs-cy":"9","attrs-r":"9"}),a.svg("path",{"attrs-d":"M9.8 9.7L9.8 10.7C9.8 11.1 9.5 11.5 9 11.5L9 11.5C8.6 11.5 8.2 11.1 8.2 10.7L8.2 9.1C8.2 8.7 8.5 8.3 8.9 8.3L9 8.2C10.7 7.9 11.4 7.4 11.4 6.6 11.4 5.8 10.3 5 9 5 7.7 5 6.7 5.7 6.6 6.5 6.6 7 6.2 7.3 5.7 7.3 5.3 7.2 4.9 6.8 5 6.4 5.1 4.7 6.9 3.4 9 3.4 11.2 3.4 13.1 4.8 13.1 6.6 13.1 8.2 12 9.2 9.8 9.7L9.8 9.7Z","attrs-fill":"#FFFFFF"}),a.svg("path",{"attrs-d":"M9.6 14.5C9.4 14.6 9.2 14.7 9 14.7 8.8 14.7 8.6 14.6 8.5 14.5 8.3 14.3 8.2 14.1 8.2 13.9 8.2 13.7 8.3 13.5 8.5 13.3 8.8 13 9.3 13 9.6 13.3 9.7 13.5 9.8 13.7 9.8 13.9 9.8 14.1 9.7 14.3 9.6 14.5L9.6 14.5Z","attrs-fill":"#FFFFFF"})))}function Dg({color:e,outerBeaconClasses:t,zIndex:n,visibility:r}){return a.svg("svg",{"class-beacon":!0,"attrs-width":`${Et}px`,"attrs-height":`${Et}px`,"attrs-viewBox":"0 0 24 24",style:{zIndex:n,visibility:r}},a.svg("g",{"attrs-stroke":"none","attrs-stroke-width":"1","attrs-fill":"none","attrs-fill-rule":"evenodd"},a.svg("circle",{"class-beacon-inner":!0,"attrs-fill":e,"attrs-cx":"12","attrs-cy":"12","attrs-r":"6"}),a.svg("circle",{"class-beacon-outer":!0,class:t,"attrs-stroke":e,"attrs-stroke-width":"2","attrs-cx":"12","attrs-cy":"12","attrs-r":"11"})))}function Fg(e={}){if(e.iconType==="question")return Pg(e);const t=e.iconType==="hidden"?"hidden":"visible";return Dg({visibility:t,...e})}function Ug(e){const t=e.styling||{},n=e.color||t.globalBeaconColor||"#FF765C",r=e[e.settledKey]&&!e.willClose&&e.stepVisible&&e.isElementVisible;let i=e.zIndexOverride||(!e.fixed&&(e.zIndex==="auto"||e.zIndex==="")?kn-1:e.zIndex||"");i=e.backdrop?kn-1:i;const o={position:e.fixed?"fixed":"absolute",left:`${e.x}px`,top:`${e.y}px`,zIndex:i},s=e.callbacks||{},c=()=>{!e.isActivated&&s.onFirstInsert&&window.requestAnimationFrame(()=>s.onFirstInsert(e.id,e.isFirst))},l=m=>{if(m.key==="Tab"){const _=document.documentElement.querySelector(`#${vr}-${e.id}`).querySelector(".appcues-tooltip-container").contentDocument,{activeElement:S}=_,A=si(_.documentElement);S===_.body&&A.length===0&&e.callbacks.onClickOut(e.isLast)}},u=m=>{if(s.onBeaconClick){const T=m.target.ownerDocument.documentElement.querySelector(`#${vr}-${e.id} iframe`);let _=null;T&&T.contentDocument&&(_=T.contentDocument.documentElement.querySelector(".tooltip")),s.onBeaconClick(e.id,_,e.isLast,e.isLastUnexpanded),m.stopPropagation(),e.callbacks.onClickOut&&T.contentDocument.addEventListener("keydown",l)}},d={[t.hotspotClass||"hotspot"]:!0},f={[t.globalHotspotAnimation||"hotspot-animation-none"]:!0},p=e.beaconStyle||t.globalBeaconStyle||"hotspot",y=p==="hidden",h=m=>{(m.key===" "||m.key==="Enter")&&(m.preventDefault(),u(m))};return a.html("div",{class:d,"class-apc-hidden":!r,"class-apc-beacon-hidden":y,"attrs-id":`${vr}-${e.id}`,"attrs-aria-haspopup":sr.HASPOPUP_TOOLTIP,role:sr.ROLE_TOOLTIP,"attrs-aria-label":"Hotspot (open by clicking or pressing space/enter)","hook-insert":c},a.html("div",{"attrs-tabindex":"0",classNames:"beacon-container",style:o,"on-keydown":h,"on-mouseup":u},a.html(Fg,{iconType:p,color:n,outerBeaconClasses:f,zIndex:i})),a.html(va,{...e,zIndex:i,hidden:!e.expanded||!e.cssLoaded}))}const br=1500,Hg=e=>{const t="apc-spotlight",n=Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight,window.innerHeight),r=Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth),i=document&&document.body&&document.body.scrollTop?document.body.scrollTop:0,o=e.backdropSolidEdgeBorderRadius||0,s=e.backdropSolidEdgeXPadding||0,c=e.backdropSolidEdgeYPadding||0,l=e.elementBoundingRect||{height:0,width:0},u=(p,y,h,m)=>({top:`${p}px`,left:`${y}px`,width:`${h}px`,height:`${m}px`,background:`rgba(0,0,0,${e.backdropSolidEdgeOpacity})`,position:"absolute",pointerEvents:"all"}),d=e.boundingRect||{top:0,left:0},f={container:{position:e.fixed?"fixed":"absolute",zIndex:kn-1e3,top:"0",left:"0",pointerEvents:"none",height:`${n}px`,width:`${r}px`},elemContainer:{position:"absolute",top:`${d.top-c}px`,left:`${d.left-s}px`,width:`${l.width+2*s}px`,height:`${l.height+2*c}px`,overflow:"hidden",pointerEvents:"none"},elemWrapper:{position:"relative",width:`${l.width+2*s}px`,height:`${l.height+2*c}px`,boxShadow:`0px 0px 0px 2000px rgba(0,0,0,${e.backdropSolidEdgeOpacity})`,borderRadius:`${o}px`,pointerEvents:"none"},backdropLeftPanel:u(0,0,d.left-s,n+i),backdropTopPanel:u(0,d.left-s,l.width+2*s,d.top-c),backdropRightPanel:u(0,d.right+s,r-(d.right+s),n+i),backdropBottomPanel:u(d.bottom+c,d.left-s,l.width+2*s,n+i-(d.bottom+c))};return a.html("div",{style:f.container,classNames:"apc-solid-edge apc-sequential-backdrop",key:e.id},a.html("div",{style:f.elemContainer},a.html("div",{style:f.elemWrapper,classNames:"apc-spotlight"})),a.html("div",{style:f.backdropLeftPanel,classNames:t}),a.html("div",{style:f.backdropRightPanel,classNames:t}),a.html("div",{style:f.backdropTopPanel,classNames:t}),a.html("div",{style:f.backdropBottomPanel,classNames:t}))},Mg=({annotation:e,isScrollingToAnnotation:t})=>{const{backdrop:n,backdropSolidEdge:r,backdropSolidEdgeOpacity:i,cssLoaded:o,isActivated:s,isElementVisible:c}=e;if(!n)return a.html(le,null);if(t)return a.html("div",{className:"apc-full-backdrop apc-sequential-backdrop","data-testid":"full-backdrop",style:{top:"0",left:"0",width:"100vw",height:"100vh",background:`rgba(0,0,0,${i})`,position:"fixed",pointerEvents:r?"all":"none",zIndex:kn}});const l=e.boundingRect||{top:0,left:0},u=e.elementBoundingRect||{height:0,width:0},d={position:e.fixed?"fixed":"absolute",pointerEvents:"none",top:"0px",left:"0px",overflow:"hidden",height:`${Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight,window.innerHeight)}px`,width:`${Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth)}px`,zIndex:kn-1e3},f=u.width?u.width+2*br:0,p=u.height?u.height+2*br:0,y={position:"relative",top:`${l.top-br}px`,left:`${l.left-br}px`,height:`${p}px`,width:`${f}px`,boxSizing:"border-box",border:`${br}px solid transparent`,pointerEvents:"none",borderImage:`radial-gradient(transparent 2%, rgba(0, 0, 0, ${i}) 28%) 49% 49% 49% 49%`,boxShadow:`0 0 0 2500px rgba(0, 0, 0, ${i})`,zIndex:kn-1e3};return o&&s&&c?r?Hg(e):a.html("div",{style:d},a.html("div",{style:y,classNames:"apc-animated-backdrop apc-spotlight apc-sequential-backdrop"})):a.html(le,null)};function $g(e){return e.annotations.map(t=>{let n=t;if(n={...n,...e.annotationsState[n.id],html:n.html,showPoweredBy:ci(e.settings),accountId:e.settings.accountId,styling:n.style||e.settings.styling},e.activeAnnotations.includes(n.id)&&!n.error)switch(n.type){case"hotspot":return a.html("div",{classNames:"apc-sequential-hotspot"},a.html(Mg,{annotation:n,isScrollingToAnnotation:e.isScrollingToAnnotation}),a.html(Ug,{...n,key:n.id,callbacks:e.callbacks,previousActiveElement:e.previousActiveElement,shouldForceFocus:e.shouldForceFocus}));case"tooltip":default:return a.html(va,{...n,key:n.id,callbacks:e.callbacks})}return null}).filter(t=>t!==null)}const wa=".appcues-beacon-outline-styling",Zo=({key:e})=>{const t=document.documentElement.querySelector(wa);e==="Tab"&&(t.innerHTML="",document.removeEventListener("keydown",Zo))},Bg=()=>{document.addEventListener("keydown",Zo)},Wg=()=>{document.removeEventListener("keydown",Zo)},Vg=`
  .beacon-container:focus, .beacon:focus {
    outline: none;
  }
`;function Gg(){return a.html("style",{selector:wa,"attrs-type":"text/css","hook-insert":Bg,"hook-destroy":Wg},Vg)}function Na(e,t){const n=$n(e);return n.length===1&&n.indexOf(t)===0}function jg(e){const t=$n(e),n=At(e);return t.filter(r=>n[r]&&!n[r].activatedAt)}function Oa(e,t,n){if(t){const r=i=>{const o=i.target.ownerDocument.documentElement.querySelector("appcues-layer .hotspots");o&&!o.contains(i.target)&&t(Na(n,st(n)))};e.data.onClickOut=r,document.addEventListener("click",r)}}function ka(e){e.data.onClickOut&&document.removeEventListener("click",e.data.onClickOut)}function Ra(e,t,n){const r=ye(e),i=Be(e),o=e.settings||{},s=Oc(e)||o.styling||{},c=Uc(e),l=Xe(e).map(f=>({id:f.id,type:"hotspot",beaconStyle:r.attributes.beacon_style,skippable:r.attributes.skippable,skippableDisplayType:r.attributes.skippable_display_type,backdrop:r.attributes.backdrop,backdropSolidEdge:r.attributes.backdrop_solid_edge,backdropSolidEdgeBorderRadius:f.backdrop_solid_edge_border_radius,backdropSolidEdgeXPadding:f.backdrop_solid_edge_x_padding,backdropSolidEdgeYPadding:f.backdrop_solid_edge_y_padding,backdropSolidEdgeOpacity:r.attributes.backdrop_solid_edge_opacity,stepVisible:i===Q.SHOWING,tooltipAlignment:f.tooltip_alignment,skipText:f.skip_text,html:f.html,style:s,isActivated:po(e,f.id),settledKey:r.attributes.sequential?"isTooltipSettled":"isBeaconSettled",zIndexOverride:f.z_index_override,formatVersion:c,...n(f)})),u=f=>{Oa(f,t.onClickOut,e),window.requestAnimationFrame(t.onShow)},d=(f,p)=>{ka(f),Oa(p,t.onClickOut,e)};return a.html("appcues-layer",{classNames:`appcues--theme-${uo(e)||s.id||"-default"}`},a.html("style",{classNames:"appcues-global-hotspot-styling","attrs-type":"text/css"},s.globalHotspotStyling||""),a.html("style",null,`
          .apc-sequential-hotspot ~ .apc-sequential-hotspot .apc-sequential-backdrop {
            opacity: 0;
            visibility: hidden;
            display: none;
          }
          `),a.html(Gg,null),a.html("div",{classNames:"hotspots appcues-hotspots","hook-insert":u,"hook-destroy":f=>{ka(f)},"hook-update":d},a.html($g,{annotations:l,previousActiveElement:wc(e),shouldForceFocus:rf(e),annotationsState:At(e),activeAnnotations:$n(e),callbacks:t,settings:o,isScrollingToAnnotation:Sf(e)})))}function qg(e){const t=jg(e);return Ra(e,e.views.callbacks[z.HOTSPOTS],n=>({isLast:Na(e,n.id),isLastUnexpanded:t.length===1&&t.indexOf(n.id)===0}))}function La(e,t){return Bt(e,t)===Xe(e).length-1}function Kg(e){return Ra(e,e.views.callbacks[z.SEQUENTIAL_HOTSPOTS],t=>{const n=t.next_text||(La(e,t.id)?"Close":"Next");return{stepsInGroup:yf(e),buttonText:t.hide_next_button?null:n,isLast:La(e,t.id),isFirst:Bt(e,t.id)===0}})}function Yg(e){const t=ye(e);return Dn(t)?Kg(e):qg(e)}const zg={click:e=>{e.stopPropagation(),e.preventDefault(),e.target.control.checked=!0,e.target.form.requestSubmit()}};function Xg(e){const{optionNumber:t,ctaStyles:n}=e,r=`option-#${t}`;return a.html("div",{classNames:"nps-number-option"},a.html("input",{name:"nps-options",classNames:"nps-number-input",id:r,value:t,type:"radio"}),a.html("label",{classNames:"nps-number-link",style:n,test:"test",attrs:{for:r},on:zg},t))}const xa={click:e=>{e.stopPropagation(),e.preventDefault()}};function Jg(e){const{onNextStep:n,onStartCollapsing:r,onCollapse:i,onQuantitativeQuestionSubmitted:o,onAskMeLaterSelected:s,step:c,askMeLaterTextOverride:l,notLikelyTextOverride:u,veryLikelyTextOverride:d,doCollapseBeforeNextStep:f}=e,p=l||"Ask Me Later",y=u||"Not likely",h=d||"Very likely",m=I=>{f&&r(),o(I),n()},T=I=>{I.preventDefault();const O=new FormData(I.target).get("nps-options");O!==null&&m(Number.parseInt(O,10))},_={click:()=>{i(),s()},keydown:I=>{(I.key===" "||I.key==="Enter")&&(i(),s())}},S=[];for(let I=0;I<=10;I++)S.push(I);const A=c.question_text;return a.html("div",null,a.html("div",null,a.html("a",{"attrs-role":"button",classNames:"ask-me-later",id:"ask-me-later",on:_,"attrs-tabindex":"0"},a.html("div",{classNames:"close-icon"},""),a.html("div",{classNames:"ask-me-later-text"},p))),a.html("div",{classNames:"quantitative-question",id:"quantitative-question"},a.html("div",{classNames:"question-text",id:"quantitative-question-text"},A),a.html("form",{name:"NPS options","on-submit":T},a.html("fieldset",{classNames:"nps-options","attrs-aria-labelledby":"quantitative-question-text",role:"radiogroup",on:{change:I=>{I.type!=="submit"&&(I.preventDefault(),I.stopPropagation())}}},S.map(I=>a.html(Xg,{...e,optionNumber:I})),a.html("input",{type:"submit",value:"Submit",hidden:!0}))),a.html("div",{classNames:"context-hints"},a.html("label",{classNames:"not-likely-hint",htmlFor:"option-#0",on:xa},y),a.html("label",{classNames:"very-likely-hint",htmlFor:"option-#10",on:xa},h))))}function Qg(e){const{onPrevStep:t,onCollapse:n,onQualitativeQuestionSubmitted:r,onFeedbackTextChanged:i,onStartCollapsing:o,ctaStyles:s,step:c,updateTextOverride:l,cancelTextOverride:u,submitTextOverride:d,textAreaStyles:f,feedbackText:p,accountId:y,showBadge:h,isCollapsed:m}=e,T=l||"Update Your Score",_=u||"Close",S=d||"Submit",A={click:()=>{t()},keydown:K=>{(K.key===" "||K.key==="Enter")&&t()}},I={click:()=>{n()},keydown:K=>{(K.key===" "||K.key==="Enter")&&n()}},C={click:()=>{r(p),o()},keydown:K=>{K.repeat||(K.key===" "||K.key==="Enter")&&(r(p),o())}},O={change:K=>{i(K.target.value)},keyup:K=>{i(K.target.value)}},L=500,H=!p||p.trim().length<=0,R=p?p.length:0,j=R>L;return a.html("div",null,a.html("div",null,a.html("a",{"attrs-role":"button",classNames:"ask-me-later",tabIndex:m?"-1":"0",on:I},a.html("div",{classNames:"close-icon"},""),a.html("div",{classNames:"ask-me-later-text"},_)),a.html("a",{"attrs-role":"button",tabIndex:m?"-1":"0",classNames:"back-to-nps",id:"back-to-nps",on:A},T)),a.html("div",{classNames:"qualitative-question",id:"qualitative-question"},a.html("div",{classNames:"question-text",id:"qualitative-question-text"},c.question_text),a.html("div",null,a.html("textarea",{tabIndex:m?"-1":"0","attrs-aria-labelledby":"qualitative-question-text",id:"feedback-box",style:f,value:p,on:O})),a.html("div",{classNames:"buttons"},a.html("div",{classNames:"appcues-powdered-by-wrapper"},h?a.html(Vo,{isNPS:!0,accountId:y}):a.html(le,null)),a.html("div",null,a.html("div",{classNames:"character-count"},a.html("span",{classNames:`numerator-character-count ${j||H?"disabled":""}`},R)," ","/ ",L),a.html("a",{"attrs-role":"button",tabIndex:m?"-1":"0",on:C,classNames:`submit-button ${j?"disabled":""}`,style:s},S)))))}function Zg(e){const{lastSubmitted:t,inlineStyles:n,toastMessage:r,show:i}=e,o="Thanks!",s={quantitative:" Thanks! Have any additional feedback?",qualitative:o},c=a.html("span",null," ",r||s[t]||o," ");return a.html("div",{classNames:"confirmation-toast",id:"confirmation-toast",style:i?{...n,opacity:"0",transition:"opacity 0.4s",delayed:{opacity:"1"}}:{...n,transition:"opacity 0.2s",delayed:{opacity:"0"}}},c)}function ey(e){const{accountId:t,step:n,onNextStep:r,onPrevStep:i,onStartCollapsing:o,onCollapse:s,onUpdate:c,onExpand:l,onShowToast:u,onHideToast:d,onQuantitativeQuestionSubmitted:f,onQualitativeQuestionSubmitted:p,onFeedbackTextChanged:y,onAskMeLaterSelected:h,currentState:m,showBadge:T}=e,_=n.background_color||"#FFFFFF",S=n.foreground_color||"#000000",A=Number.parseInt(_.replace("#",""),16),I=Number.parseInt(S.replace("#",""),16),C=A<I,O={backgroundColor:_,color:S},L={color:C?"#FFFFFF":"#000000"},H={backgroundColor:n.foreground_color||"#FFFFFF",color:n.background_color||"#000000"},K={onNextStep:()=>r(n.id),onPrevStep:()=>i(n.id),onStartCollapsing:o,onCollapse:s,onExpand:l,onShowToast:u,onHideToast:d,onQuantitativeQuestionSubmitted:f,onQualitativeQuestionSubmitted:p,onFeedbackTextChanged:y,onAskMeLaterSelected:h,collapsed:m.surveyCollapsed,step:n,accountId:t,doCollapseBeforeNextStep:n.collapse_before_next_step,updateTextOverride:n.update_text_override,cancelTextOverride:n.cancel_text_override,submitTextOverride:n.submit_text_override,askMeLaterTextOverride:n.ask_me_later_text_override,notLikelyTextOverride:n.not_likely_text_override,veryLikelyTextOverride:n.very_likely_text_override,inlineStyles:O,ctaStyles:H,textAreaStyles:L,showBadge:T};let fe=!1,w;switch(n.step_number){case 1:fe=!1,w=a.html(Jg,{...K});break;case 2:fe=!0,w=a.html(Qg,{...K,feedbackText:m.feedbackText,isCollapsed:m.surveyCollapsed});break;default:w=null}const J={click:l,keydown:ue=>{(ue.key===" "||ue.key==="Enter")&&l()}};return a.html("cue",{classNames:"active"},a.html("div",null,a.html("section",null,a.html("div",{classNames:"appcues-nps","hook-update":c,style:m.surveyCollapsed?{...O,opacity:"0",delayed:{"transform-origin":"100% 100%",animation:"nps-complete 0s cubic-bezier(0.42, 0, 0.04, 1.03) forwards"}}:{...O,display:"block",opacity:0,delayed:{animation:"nps-enter 0.2s ease-out forwards"}}},a.html("div",{classNames:`nps-modal ${fe?"qualitative":""}`,id:"nps-modal"},w))),a.html("div",{classNames:`feedback-tab ${m.surveyCollapsed?"collapsed":""}`},m.lastSubmitted==="quantitative"?a.html("a",{"attrs-tabindex":"0","hook-insert":ue=>{window.requestAnimationFrame(()=>ct(ue.elm))},classNames:"feedback-link",on:J},a.html("div",{classNames:"satisfaction-feedback",id:"satisfaction-overlay",style:m.surveyCollapsed?{...O,display:"block",opacity:0,delayed:{animation:"nps-enter 0.2s ease-out forwards"}}:{...O,opacity:"1",delayed:{"transform-origin":"100% 100%",animation:"nps-complete 0.4s cubic-bezier(0.42, 0, 0.04, 1.03) forwards"}}},"Feedback")):"",a.html(Zg,{...K,show:m.toastVisible,lastSubmitted:m.lastSubmitted,toastMessage:n.completion_toast_copy}))))}const ty="/generic/main/7.7.0/satisfaction-survey.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",ny="LCTGoWhoNncfzk7b8jDhPPF8b0PTs04uNa7LjCILym4=",es=Pt(ty);let Pa,yi;function ry(e){const t=ye(e),n=fr(e),r=Be(e),i=Xe(e),o=st(e),s=Bt(e,o),c=i[s],l=t.attributes.pattern_type,{position:u}=t.attributes,d=e.views.callbacks[z.SATISFACTION_SURVEY],f=n.cssLoaded,p=ci(e.settings),y=r!==Q.SHOWING;let h={};const m=f&&ne.inArray([Q.SHOWING,Q.WILL_CLOSE],r);m||(h={display:"none"}),h={...h,position:"fixed",bottom:"0px",left:"0px",width:"100%"};let T="0px",_="100%",S="0px";const{askMeLaterSelected:A,surveyCollapsed:I,toastVisible:C,lastSubmitted:O}=n,L=!A&&I;L&&(T="40px",C||(_="125px",S="296px"),!C&&O==="qualitative"&&(T="0px",_="0px"));const H=J=>{Pa=J.elm,window.requestAnimationFrame(()=>{d.onShow(),ct(J.elm)})},R=J=>{if(J){const ue=J.getBoundingClientRect().height,pe=Number.parseInt(n.height,10);Math.abs(ue-pe)>2&&d.onContentChange&&window.requestAnimationFrame(()=>d.onContentChange(t.id,J))}},j=J=>{if(A||O==="qualitative"||L||!m)return;const ue=J.elm.scrollHeight,pe=window.innerHeight;if(ue){yi=yi||ue+15;const Ce=ue>pe?pe:yi;Pa.style.height=`${Ce}px`,J.elm.children[0].style.height=`${Ce}px`}},K=(J,ue)=>{(J==="next"?d.onNextStep:d.onPrevStep)(ue),yi=null},fe=(J,ue)=>{const pe=J.target.ownerDocument;oi(pe,es,()=>{d.onCSSLoaded(t.id,es,!0),Xo(pe,t.id,"survey-container",d.onContentChange)})},w=a.html(ey,{step:c,key:`survey-step-${s}`,currentState:n,showBadge:p,accountId:e.settings.accountId,isFirst:s===0,isLast:s===i.length-1,onNextStep:J=>K("next",J),onPrevStep:J=>K("prev",J),onCollapse:d.onCollapse,onStartCollapsing:d.onStartCollapsing,onExpand:d.onExpand,onShowToast:d.onShowToast,onHideToast:d.onHideToast,onJumpStep:d.onJumpStep,onLinkClick:d.onLinkClick,onQuantitativeQuestionSubmitted:d.onQuantitativeQuestionSubmitted,onQualitativeQuestionSubmitted:d.onQualitativeQuestionSubmitted,onFeedbackTextChanged:d.onFeedbackTextChanged,onAskMeLaterSelected:d.onAskMeLaterSelected,onStepChildActivated:d.onStepChildActivated,onStepChildDeactivated:d.onStepChildDeactivated,onFormSubmission:d.onFormSubmission,onUpdate:j,onSkip:d.onSkip});return a.html("appcues-container",{"attrs-data-pattern-type":l,"attrs-data-position":u,"class-appcues-ontop":!0,"class-apc-hidden":y,style:h},a.html("iframe",{style:{position:"fixed",bottom:"0",border:"none",height:T,width:_,right:"0",marginRight:S},"hook-insert":H,"hook-destroy":()=>{},"attrs-aria-label":"NPS Survey","style-color-scheme":"none"},a.html("link",{"attrs-href":es,"attrs-integrity":ny,"attrs-crossorigin":"anonymous","attrs-type":"text/css","attrs-rel":"stylesheet","on-load":J=>{fe(J)},"on-error":J=>{fe(J)}}),a.html("appcues",{"class-active":!0,"class-apc-hidden":y,"attrs-data-pattern-type":l,"attrs-data-position":u},a.html("survey-container",{"hook-update":J=>{R(J.elm)}},w))))}const iy=b(ae.INVALIDATE_FORM),oy=b(ae.LOADED_CSS),sy=b(ae.RESIZE_CONTENT,(e,t,n)=>({id:e,height:t.height,width:t.width,ts:n})),cy=b(ae.ACTIVATED_STEP_CHILD,(e,t)=>({stepChildId:e,timestamp:t})),ly=b(ae.DEACTIVATED_STEP_CHILD),mn=b(ae.SET_CURRENT_STEP_CHILD),ay=b(ae.CLEAR_CURRENT_STEP_CHILD),uy=b(ae.SET_CURRENT_STEP),Da=b(ae.ADVANCE_STEP_CHILD,(e,t,n,r,i=!1)=>({contentType:e,step:t,childId:n,nextChildId:r,shouldEndFlow:i})),dy=b(ae.RUN_PREV_STEP_CHILD,(e,t)=>({step:e,stepChildId:t})),fy=b(ae.CLOSE_STEP,(e,t)=>({flowId:e,stepId:t})),En=b(ae.CLOSE_FLOW,(e,t)=>({flowId:e,type:t})),py=b(ae.CANCEL_STEP,(e,t)=>({flowId:e,stepId:t})),Fa=b(ae.SET_PREVIOUS_ACTIVE_ELEMENT,e=>({element:e})),hy=b(ae.SET_FORCE_FOCUS,e=>({forceFocus:e})),Ua=b(ae.SET_NEXT_CONTENT_ID_COOKIE,e=>({nextContentId:e})),ts=b(ae.CLEAR_CONTENT_STATE_CHILD),my=b(ai.PREPARE_MODAL),Ey=b(ai.RESIZE_MODAL_CONTENT,(e,t)=>({id:e,height:t.height,width:t.width}));function Te(e,t,n){return{type:e,params:{stepId:t,...n}}}function pt(e,t,n,r){return Te(e,t,{stepChildId:n,...r})}function jt(e,t,n,r,i={}){return pt(q.STEP_INTERACTED,e,t,{interactionType:"click",interaction:{category:n,destination:r,...i}})}const gy=(e,t)=>n=>{e(ce(pt(q.CHILD_DEACTIVATED,se(t()),n,{ts:Date.now()})))};function Ha(e,t,n,r={}){return jt(se(e),t,"internal",n,r)}function Si(e,t){const n=gy(e,t);return{onContentChange(r,i){wo(i)&&e(sy(r,i.getBoundingClientRect(),Ir()))},onShow(){const r=t();e(Zn(se(r))),e(ce(Te(q.STEP_SHOWN,se(r))))},onCSSLoaded(r,i,o=!0){if(o){const s=t();e(oy(r)),e(ce(Te(q.CSS_LOADED,se(s))))}else if(se(t())===r){const s=new Error("Failed to load CSS.");s.extra={url:i},e(Zn(s)),e(ce(Te(q.STEP_ERRORED,r,{error:s,details:JSON.stringify({url:i})})))}},onStepChildActivated(r){e(ce(pt(q.CHILD_ACTIVATED,se(t()),r,{ts:Date.now()})))},onStepChildDeactivated:n,onComplete(r){const i=t(),o=st(i),s={text:vt(r)};e(ce(Ha(i,o,"end",s))),n(o),e(ce(Te(q.STEP_COMPLETED,se(t())))),e(ce(Te(q.STEP_END,se(i))))},onCompleteFlow(r){const i=t(),o=st(i),s={text:vt(r)};e(ce(Ha(i,o,"end-flow",s))),n(o),e(ce(Te(q.STEP_COMPLETED,se(t()),{shouldEndFlow:!0}))),e(ce(Te(q.STEP_END,se(i),{shouldEndFlow:!0})))},onSkip(){const r=t();e(ce(pt(q.STEP_SKIPPED,se(r),st(r))))},onLinkClick(r,i,o){e(ce(jt(se(t()),r,"link",i,o)))},onHandleUserEvent(r,i={}){e(we({},[Vt(r,i)],!0))},onHandleProfileUpdate(r){const i=r;i.userId&&delete i.userId;const o=be(t()).userId||null;ne.defined(o)&&e(Qn(o,i))},onSetNextContentIdCookie(r){e(Ua(r))}}}function yy(e){return e===""||!ne.defined(e)}function Sy(e,{value:t,minSelection:n,maxSelection:r,required:i}){switch(e){case"number":return/^\d+$/.test(t)||"This field should be a number.";case"date":return/^\d{4}(?:-\d{1,2}){2}$/.test(t)||"Please enter a valid date.";case"email":return/^[\w%+.-]+@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/.test(t)||"This field should be an email address.";case"tel":return/^(?!\b(0)\1+\b)(\+?\d{1,3}[ .-]?)?\(?\d{3}\)?([ .-]?)\d{3}\3\d{4}$/.test(t)||"This field should be a phone number.";case"url":return/^(?:https?:\/\/)?[\d.a-z-]+\.[.a-z]{2,6}(?:[\w ./-]*)*\/?(?:\?[\w&/=-]*)?(?:#[\w/-]*)?$/.test(t)||"This field should be a URL.";case"checkbox":{if(t){const o=t.split(`
`),s=Number.parseInt(n,10),c=Number.parseInt(r,10);if(!i&&o.length>c)return`Select a maximum of ${c} items`;if(s>o.length&&s>0||o.length>c)return`Select between ${s} and ${c} items`}return!0}default:return!0}}function Ma(e){const t=[];return e.forEach(n=>{const r=[],i=yy(n.value);n.required&&i&&r.push("This field is required.");const o=n.validation,s=Sy(o,n);s!==!0&&(o!=="date"&&(!i||i&&n.required)||o==="date"&&i&&!n.required)&&r.push(s),r.length>0&&t.push({fieldId:n.fieldId,messages:r})}),t.length>0?{result:!1,errors:t}:{result:!0}}function ns(e,t,n,r={}){return jt(se(e),t,"internal",n,r)}function Ty(e){const t=e.querySelectorAll("input, textarea, select"),n=[];for(const r of t)r.type.search(/^(?:checkbox|radio)$/)>-1?r.checked&&n.push(r):n.push(r);return n}const Cy=e=>e.length>1?e.map(t=>t.value).join(`
`):e[0]?.value||null;function _y(e,t){const n=Si(e,t);function r(i,o){const s=t(),c={text:vt(i)};e(ce(ns(s,o,"next",c))),n.onStepChildDeactivated(o);const l=kc(s,o);l&&(e(mn(l)),n.onStepChildActivated(l))}return{onSkip:n.onSkip,onStepChildActivated:n.onStepChildActivated,onStepChildDeactivated:n.onStepChildDeactivated,onCSSLoaded:n.onCSSLoaded,onHandleUserEvent:n.onHandleUserEvent,onHandleProfileUpdate:n.onHandleProfileUpdate,onCompleteFlow:n.onCompleteFlow,onComplete:n.onComplete,onSetNextContentIdCookie:n.onSetNextContentIdCookie,onNextStep:r,onShow(){n.onShow(),n.onStepChildActivated(st(t()))},onFormSubmission(i,o,s,c,l=!1,u=!1){const d=o.map((p,y)=>{const h=Ty(p)||{},m=p.querySelector(".form-field");let T=null,_=!1,S=null;m&&(T=m.getAttribute("data-appcues-validation"),_=m.getAttribute("data-appcues-required")==="true",S=m.getAttribute("data-custom-reporting-label"),(!S||S==="undefined")&&(S=null));const A=p.querySelector(".field-label label"),I=m.getAttribute("data-min-selection"),C=m.getAttribute("data-max-selection");let O=h[0]?.name??null,L=null;const H=A?.textContent?.trim()==="*"?null:A?.textContent;if((p.getAttribute("data-form-field")||!O)&&(O=p.getAttribute("data-field-id")),A&&H)L=H,O=O||A.getAttribute("for");else{const[,R]=(m.getAttribute("class")||"").split(" ");L=R.replace("form-field-",""),R.includes("radio")&&m.querySelector(".rating-options")&&(L=L.replace("radio","rating")),L+=`-${p.getAttribute("data-field-id")}`}return{required:_,validation:T,fieldId:O,label:L,value:Cy(h),formFieldIndex:y,customReportingLabel:S,minSelection:I,maxSelection:C}}),f=()=>{if(c)n.onComplete();else if(s)s();else{const p=st(t());r(null,p)}};if(u){(Ma(d).result||l)&&s();return}e(nm(i,d,f,l))},onPrevStep(i,o){const s=t(),c={text:vt(i)};e(ce(ns(s,o,"previous",c))),n.onStepChildDeactivated(o);const l=fo(s,o);l&&(e(mn(l)),n.onStepChildActivated(l))},onJumpStep(i,o,s){const c=t(),l={text:vt(i)};e(ce(ns(c,o,`step_${s}`,l))),n.onStepChildDeactivated(o);const u=zr(c,s);u&&(e(mn(u)),n.onStepChildActivated(u))},onLinkClick(i,o,s){const c={text:vt(i)};n.onLinkClick(o,s,c)},onContentChange(i,o){e(Ey(i,o.getBoundingClientRect()))}}}const Iy=b(Wt.EXPAND_HOTSPOT),Ay=b(Wt.PREPARE_HOTSPOTS),vy=b(Wt.SET_BEACON_SETTLED,(e,t)=>({id:e,isBeaconSettled:t})),Ti=b(Wt.CLOSE_LAST_HOTSPOT,(e,t,n={})=>({stepId:e,childId:t,params:n})),by=b(he.ADD_ACTIVE_ANNOTATIONS),wy=b(he.REMOVE_ACTIVE_ANNOTATIONS),rs=b(he.HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS),Ny=b(he.SET_ACTIVE_ANNOTATIONS_WILL_CLOSE),Oy=b(he.START_CALCULATE_POSITIONS),$a=b(he.START_HANDLE_POSITION_UPDATES),ky=b(he.SET_ANNOTATIONS_POSITIONS),Ry=b(he.SET_ANNOTATIONS_READY),Ba=b(he.SET_IS_SCROLLING_TO_ANNOTATION,(e,t)=>({annotationId:e,isScrolling:t})),Ly=b(he.SAVE_POSITION_DETAILS),xy=b(he.REPORTED_ANNOTATIONS_ERRORS),Py=b(he.REPORTED_ANNOTATIONS_RECOVERY),Dy=b(he.SET_EXISTING_ANNOTATIONS_ERRORS),Fy=b(he.SET_TOOLTIP_SETTLED,(e,t)=>({id:e,isTooltipSettled:t})),Uy=b(he.GO_TO_STEP,(e,t,n)=>({stepId:e,currentStepChildId:t,nextStepChildIndex:n}));function Wa(e,t){const n=Si(e,t);function r(){const s=t(),c=st(s);return c&&po(s,c)?c:null}function i(s){s&&(e(rs([s])),e(ay()),n.onStepChildDeactivated(s))}const o=(s={})=>()=>{const c=r(),l=se(t());e(ce(Te(q.STEP_COMPLETED,l,s))),i(c),ne.defined(c)&&e(Ti(l,c,s))};return{onSkip:n.onSkip,onLinkClick:n.onLinkClick,onCSSLoaded:n.onCSSLoaded,onContentChange:n.onContentChange,onShow:n.onShow,onHandleUserEvent:n.onHandleUserEvent,onHandleProfileUpdate:n.onHandleProfileUpdate,onSetNextContentIdCookie:n.onSetNextContentIdCookie,onActivate(s){e(Iy(s)),n.onStepChildActivated(s),e(Ba(s,!1))},onBeaconClick(s,c,l,u){const d=r(),f=d!==s,p=se(t());f&&e(ce(jt(p,s,"beacon",s))),i(d),f?(e(mn(s)),this.onActivate(s),setTimeout(()=>{n.onContentChange(s,c)},50),u&&e(ce(Te(q.STEP_COMPLETED,se(t()))))):l&&e(Ti(p,d))},onClickOut(s){const c=r();i(c),s&&ne.defined(c)&&e(Ti(se(t()),c))},onComplete:o({shouldEndFlow:!1}),onCompleteFlow:o({shouldEndFlow:!0})}}function Hy(e,t){const n=Wa(e,t),r=Si(e,t),i=(o,s={})=>(c,l)=>{const u=t(),d=se(u),f=ze(u),p=d?ot(f,d):null,y={text:vt(c)};e(ce(jt(d,l,"internal",o,y))),e(Da(z.SEQUENTIAL_HOTSPOTS,p,l,null,s.shouldEndFlow))};return{onSkip:r.onSkip,onLinkClick:r.onLinkClick,onCSSLoaded:r.onCSSLoaded,onContentChange:r.onContentChange,onHandleUserEvent:r.onHandleUserEvent,onHandleProfileUpdate:r.onHandleProfileUpdate,onSetNextContentIdCookie:r.onSetNextContentIdCookie,onShow:()=>{},onNextButtonClick(o,s,c){const l=t(),u=se(l),d={text:vt(o)};e(ce(jt(u,s,"internal",c?"end":"next",d))),e(ce(pt(q.CHILD_NEXT,u,s)))},onComplete:i("end",{shouldEndFlow:!1}),onCompleteFlow:i("end-flow",{shouldEndFlow:!0}),onFirstInsert(o,s){s&&r.onShow(),n.onActivate(o)},onPrevButtonClick(o,s){const c=t(),l=se(c),u={text:vt(o)};e(ce(jt(l,s,"internal","previous",u))),e(dy(l,s))},onJumpStep:(o,s,c)=>{const l=t(),u=se(l),d={text:vt(o)};e(ce(jt(u,s,"internal",`step_${c}`,d))),e(Uy(u,s,c))},onHandleBlur(o,s){e(hy(o.target===s))}}}const My=b(Ae.PREPARE_SATISFACTION_SURVEY),$y=b(Ae.START_COLLAPSING_SATISFACTION_SURVEY),Va=b(Ae.COLLAPSE_SATISFACTION_SURVEY),By=b(Ae.EXPAND_SATISFACTION_SURVEY),Ga=b(Ae.SHOW_SATISFACTION_SURVEY_TOAST),ja=b(Ae.HIDE_SATISFACTION_SURVEY_TOAST),Wy=b(Ae.QUANTITATIVE_QUESTION_SUBMITTED,e=>({score:e})),Vy=b(Ae.CLICKED_UPDATE_NPS_SCORE),Gy=b(Ae.QUALITATIVE_QUESTION_SUBMITTED,e=>({feedback:e})),jy=b(Ae.FEEDBACK_TEXT_CHANGED,e=>({feedback:e})),qy=b(Ae.ASK_ME_LATER_SELECTED);function Ky(e,t){const n=Si(e,t);function r(m){const T=t(),_=kc(T,m);_&&e(mn(_))}function i(m){e(Wy(m))}function o(m){e(Gy(m))}function s(m){e(jy(m))}function c(){e(qy())}function l(){e(Va())}function u(){e($y())}function d(){e(By())}function f(){e(Ga())}function p(){e(ja())}function y(m){const T=t(),_=fo(T,m);_&&(Ac(ye(T),_).step_type==="quantitative-question"&&e(Vy()),e(mn(_)))}function h(){n.onShow(),n.onStepChildActivated(st(t()))}return{onShow:h,onNextStep:r,onPrevStep:y,onStartCollapsing:u,onCollapse:l,onExpand:d,onShowToast:f,onHideToast:p,onQuantitativeQuestionSubmitted:i,onQualitativeQuestionSubmitted:o,onFeedbackTextChanged:s,onAskMeLaterSelected:c,onSkip:n.onSkip,onStepChildActivated:n.onStepChildActivated,onStepChildDeactivated:n.onStepChildDeactivated,onLinkClick:n.onLinkClick,onCSSLoaded:n.onCSSLoaded}}const qa=b(re.START_CHECKLIST),gn=b(re.SET_CHECKLIST_STATUS,(e,t)=>({id:e,status:t})),Ka=b(re.UPDATE_CHECKLISTS),Ya=b(re.HIDE_CHECKLISTS),Ci=b(re.UNHIDE_CHECKLISTS),za=b(re.ANIMATE_IN_CHECKLIST),wr=b(re.EXPAND_CHECKLIST,e=>({checklistId:e})),yn=b(re.COLLAPSE_CHECKLIST,e=>({checklistId:e})),Xa=b(re.SET_EXPAND_CHECKLIST_LATER,(e,t)=>({checklistId:e,shouldTryExpandChecklist:t})),Yy=b(re.SHOW_DISMISS_CONFIRMATION,e=>({checklistId:e})),zy=b(re.CANCEL_DISMISS_CONFIRMATION,e=>({checklistId:e})),Xy=b(re.CONFIRM_DISMISS_CHECKLIST,(e,t,n)=>({checklistId:e,checklistName:t,didCompleteChecklist:n})),Jy=b(re.LOADED_CHECKLIST_CSS,e=>({checklistId:e})),Ja=b(re.SEND_CHECKLIST_ERROR),Qa=b(re.START_CHECKLIST_ITEM,(e,t,n=0,r={})=>({checklistId:e,itemId:t,actionIndex:n,checklist:r})),Qy=b(re.START_CHECKLIST_ACTION,(e,t,n,r)=>({action:e,checklistId:t,itemId:n,actionIndex:r})),is=b(re.COMPLETED_CHECKLIST_ACTION,(e,t,n)=>({checklistId:e,itemId:t,actionIndex:n})),Zy=b(re.SET_CHECKLIST_HEIGHT,(e,t)=>({checklistId:e,height:t})),eS=b(re.SET_CHECKLIST_WIDTH,(e,t)=>({checklistId:e,width:t})),tS=b(re.CLEAR_FORCE_SHOWN_CHECKLIST),Za=b(re.SEND_CHECKLIST_SHOWN_EVENT,e=>({checklist:e}));function nS(e,t){let n=!1;return{onBeaconClicked(r){const i=t(),o=ln(i,r);o.viewState===$t.EXPANDED?e(yn(r)):(e(wr(r)),o.attributes.open_behavior==="closed"&&!n&&(n=!0,e(Za(o))))},onOutsideClicked(r){const i=t();ln(i,r).viewState===$t.EXPANDED&&e(yn(r))},onItemClicked(r,i){e(Qa(r,i))},onDismissClicked(r){e(Yy(r))},onDismissCanceled(r){e(zy(r))},onDismissConfirmed(r,i,o=!1){e(Xy(r,i,o))},onMinimizedClicked(r){e(yn(r))},onCSSLoaded(r,i,o=!0){if(o)e(Jy(r));else{const s=new Error(`Failed to load CSS for checklist ${r}`);s.extra={url:i},e(Ja(s))}},onExpandChecklistResize(r,i){e(Zy(r,i))},onCollapseBeaconResize(r,i){e(eS(r,i))}}}function rS(e){return{onCancelClicked(){e({type:Jn.CANCEL_TEST})},onResetClicked(){e({type:Jn.RESET_TEST})},onCssLoaded(){e({type:Jn.LOADED_TEST_MODE_CSS})}}}const iS=b(bt.LOADED_LAUNCHPAD,({selector:e,position:t,header:n,footer:r,icon:i})=>({selector:e,position:t,header:n,footer:r,icon:i})),oS=b(bt.UPDATED_WIDGET_HISTORY,e=>({history:e})),sS=b(bt.UPDATED_WIDGET_FLOWS,e=>({flows:e})),os=b(bt.TOGGLED_WIDGET,e=>({expanded:e}));function cS(e,t){function n(){if(mo(t())){e(os(!1));const i={id:"widget_closed",timestamp:Date.now()};e(Ue("widget_closed",i)),e(we({},[Ve(i)],!1))}}function r(){if(mo(t())){e(os(!1));const i={id:"widget_closed",timestamp:Date.now()};e(Ue("widget_closed",i)),e(we({},[Ve(i)],!1))}else{e(os(!0));const i={id:"widget_opened",timestamp:Date.now()};e(Ue("widget_opened",i)),e(we({},[Ve(i)],!1))}}return{onClose:n,onToggled:r,onItemClicked(i,o,s){r(),i.preventDefault(),i.stopPropagation();try{window.Appcues.show(o);const c={id:"widget_item_clicked",flowId:o,hasBeenSeen:s,timestamp:Date.now()};e(Ue("widget_item_clicked",c)),e(we({},[Ve(c)],!1))}catch(c){Lt(t())(c,{extra:c.extra})}}}}function lS({settings:e,sagas:t,onStateChange:n}){const r=Ah(),i=Vh(),o=VE({orderedContent:[],content:{},currentContent:null,session:{},settings:e,transport:{initialized:!1},user:{},views:{callbacks:{},renderers:{}},reporter:null,styles:{},tasks:{},test:{},widget:{}},t);if(o.dispatch(Ll({[z.MODAL]:_y(o.dispatch,o.getState),[z.HOTSPOTS]:Wa(o.dispatch,o.getState),[z.SEQUENTIAL_HOTSPOTS]:Hy(o.dispatch,o.getState),[z.SATISFACTION_SURVEY]:Ky(o.dispatch,o.getState),[z.CHECKLIST]:nS(o.dispatch,o.getState),[z.TEST_MODE]:rS(o.dispatch,o.getState),[z.WIDGET]:cS(o.dispatch,o.getState)})),o.dispatch(pm({[z.MODAL]:_g,[z.HOTSPOTS]:Yg,[z.SATISFACTION_SURVEY]:ry})),o.subscribe(()=>{const s=o.getState();switch(Be(s)){case Q.PENDING:o.dispatch(Jh());break;case Q.ERROR:o.dispatch(Dl()),o.dispatch(Nl(window.location.href,!1,null));break}r(s),i(s),n&&n(s)}),mr(document))o.dispatch(Hl());else{const s=()=>{mr(document)&&(o.dispatch(Hl()),document.removeEventListener("readystatechange",s))};document.addEventListener("readystatechange",s)}return o}var Nr=e=>typeof e=="function"?e:function(){return e},aS=typeof self<"u"?self:null,Or=typeof window<"u"?window:null,Sn=aS||Or||Sn,uS="2.0.0",wt={connecting:0,open:1,closing:2,closed:3},dS=1e4,fS=1e3,lt={closed:"closed",errored:"errored",joined:"joined",joining:"joining",leaving:"leaving"},Ht={close:"phx_close",error:"phx_error",join:"phx_join",reply:"phx_reply",leave:"phx_leave"},ss={longpoll:"longpoll",websocket:"websocket"},pS={complete:4},_i=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive({status:e,response:t,_ref:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},eu=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},hS=class{constructor(e,t,n){this.state=lt.closed,this.topic=e,this.params=Nr(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new _i(this,Ht.join,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new eu(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=lt.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=lt.closed,this.socket.remove(this)}),this.onError(r=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,r),this.isJoining()&&this.joinPush.reset(),this.state=lt.errored,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new _i(this,Ht.leave,Nr({}),this.timeout).send(),this.state=lt.errored,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(Ht.reply,(r,i)=>{this.trigger(this.replyEventName(i),r)})}join(e=this.timeout){if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}onClose(e){this.on(Ht.close,e)}onError(e){return this.on(Ht.error,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>!(n.event===e&&(typeof t>"u"||t===n.ref)))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,n=this.timeout){if(t=t||{},!this.joinedOnce)throw new Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new _i(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(e=this.timeout){this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=lt.leaving;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(Ht.close,"leave")},n=new _i(this,Ht.leave,Nr({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return this.topic!==e?!1:r&&r!==this.joinRef()?(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1):!0}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");let o=this.bindings.filter(s=>s.event===e);for(let s=0;s<o.length;s++)o[s].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===lt.closed}isErrored(){return this.state===lt.errored}isJoined(){return this.state===lt.joined}isJoining(){return this.state===lt.joining}isLeaving(){return this.state===lt.leaving}},Ii=class{static request(e,t,n,r,i,o,s){if(Sn.XDomainRequest){let c=new Sn.XDomainRequest;return this.xdomainRequest(c,e,t,r,i,o,s)}else{let c=new Sn.XMLHttpRequest;return this.xhrRequest(c,e,t,n,r,i,o,s)}}static xdomainRequest(e,t,n,r,i,o,s){return e.timeout=i,e.open(t,n),e.onload=()=>{let c=this.parseJSON(e.responseText);s&&s(c)},o&&(e.ontimeout=o),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,o,s,c){return e.open(t,n,!0),e.timeout=o,e.setRequestHeader("Content-Type",r),e.onerror=()=>c&&c(null),e.onreadystatechange=()=>{if(e.readyState===pS.complete&&c){let l=this.parseJSON(e.responseText);c(l)}},s&&(e.ontimeout=s),e.send(i),e}static parseJSON(e){if(!e||e==="")return null;try{return JSON.parse(e)}catch{return null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,o=e[r];typeof o=="object"?n.push(this.serialize(o,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}static appendParams(e,t){if(Object.keys(t).length===0)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},mS=e=>{let t="",n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)},kr=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.awaitingBatchAck=!1,this.currentBatch=null,this.currentBatchTimer=null,this.batchBuffer=[],this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=wt.connecting,setTimeout(()=>this.poll(),0)}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+ss.websocket),"$1/"+ss.longpoll)}endpointURL(){return Ii.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=wt.connecting}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return this.readyState===wt.open||this.readyState===wt.connecting}poll(){this.ajax("GET","application/json",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach(i=>{setTimeout(()=>this.onmessage({data:i}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=wt.open,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw new Error(`unhandled poll status ${t}`)}})}send(e){typeof e!="string"&&(e=mS(e)),this.currentBatch?this.currentBatch.push(e):this.awaitingBatchAck?this.batchBuffer.push(e):(this.currentBatch=[e],this.currentBatchTimer=setTimeout(()=>{this.batchSend(this.currentBatch),this.currentBatch=null},0))}batchSend(e){this.awaitingBatchAck=!0,this.ajax("POST","application/x-ndjson",e.join(`
`),()=>this.onerror("timeout"),t=>{this.awaitingBatchAck=!1,!t||t.status!==200?(this.onerror(t&&t.status),this.closeAndRetry(1011,"internal server error",!1)):this.batchBuffer.length>0&&(this.batchSend(this.batchBuffer),this.batchBuffer=[])})}close(e,t,n){for(let i of this.reqs)i.abort();this.readyState=wt.closed;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});this.batchBuffer=[],clearTimeout(this.currentBatchTimer),this.currentBatchTimer=null,typeof CloseEvent<"u"?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r,i){let o,s=()=>{this.reqs.delete(o),r()};o=Ii.request(e,this.endpointURL(),t,n,this.timeout,s,c=>{this.reqs.delete(o),this.isActive()&&i(c)}),this.reqs.add(o)}},Ai={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){if(e.payload.constructor===ArrayBuffer)return t(this.binaryEncode(e));{let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,o,s]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:o,payload:s})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:o}=e,s=this.META_LENGTH+t.length+n.length+i.length+r.length,c=new ArrayBuffer(this.HEADER_LENGTH+s),l=new DataView(c),u=0;l.setUint8(u++,this.KINDS.push),l.setUint8(u++,t.length),l.setUint8(u++,n.length),l.setUint8(u++,i.length),l.setUint8(u++,r.length),Array.from(t,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(n,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(i,f=>l.setUint8(u++,f.charCodeAt(0))),Array.from(r,f=>l.setUint8(u++,f.charCodeAt(0)));var d=new Uint8Array(c.byteLength+o.byteLength);return d.set(new Uint8Array(c),0),d.set(new Uint8Array(o),c.byteLength),d.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,c=n.decode(e.slice(s,s+r));s=s+r;let l=n.decode(e.slice(s,s+i));s=s+i;let u=n.decode(e.slice(s,s+o));s=s+o;let d=e.slice(s,e.byteLength);return{join_ref:c,ref:null,topic:l,event:u,payload:d}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=t.getUint8(3),s=t.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(c,c+r));c=c+r;let u=n.decode(e.slice(c,c+i));c=c+i;let d=n.decode(e.slice(c,c+o));c=c+o;let f=n.decode(e.slice(c,c+s));c=c+s;let p=e.slice(c,e.byteLength),y={status:f,response:p};return{join_ref:l,ref:u,topic:d,event:Ht.reply,payload:y}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,s=n.decode(e.slice(o,o+r));o=o+r;let c=n.decode(e.slice(o,o+i));o=o+i;let l=e.slice(o,e.byteLength);return{join_ref:null,ref:null,topic:s,event:c,payload:l}}},ES=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||dS,this.transport=t.transport||Sn.WebSocket||kr,this.primaryPassedHealthCheck=!1,this.longPollFallbackMs=t.longPollFallbackMs,this.fallbackTimer=null,this.sessionStore=t.sessionStorage||Sn&&Sn.sessionStorage,this.establishedConnections=0,this.defaultEncoder=Ai.encode.bind(Ai),this.defaultDecoder=Ai.decode.bind(Ai),this.closeWasClean=!1,this.disconnecting=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==kr?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;Or&&Or.addEventListener&&(Or.addEventListener("pagehide",r=>{this.conn&&(this.disconnect(),n=this.connectClock)}),Or.addEventListener("pageshow",r=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=r=>t.rejoinAfterMs?t.rejoinAfterMs(r):[1e3,2e3,5e3][r-1]||1e4,this.reconnectAfterMs=r=>t.reconnectAfterMs?t.reconnectAfterMs(r):[10,50,100,150,200,250,500,1e3,2e3][r-1]||5e3,this.logger=t.logger||null,!this.logger&&t.debug&&(this.logger=(r,i,o)=>{}),this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=Nr(t.params||{}),this.endPoint=`${e}/${ss.websocket}`,this.vsn=t.vsn||uS,this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new eu(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return kr}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=Ii.appendParams(Ii.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return e.charAt(0)!=="/"?e:e.charAt(1)==="/"?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.disconnecting=!0,this.closeWasClean=!0,clearTimeout(this.fallbackTimer),this.reconnectTimer.reset(),this.teardown(()=>{this.disconnecting=!1,e&&e()},t,n)}connect(e){e&&(this.params=Nr(e)),!(this.conn&&!this.disconnecting)&&(this.longPollFallbackMs&&this.transport!==kr?this.connectWithFallback(kr,this.longPollFallbackMs):this.transportConnect())}log(e,t,n){this.logger&&this.logger(e,t,n)}hasLogger(){return this.logger!==null}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))});return!0}transportConnect(){this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e)}getSession(e){return this.sessionStore&&this.sessionStore.getItem(e)}storeSession(e,t){this.sessionStore&&this.sessionStore.setItem(e,t)}connectWithFallback(e,t=2500){clearTimeout(this.fallbackTimer);let n=!1,r=!0,i,o,s=c=>{this.log("transport",`falling back to ${e.name}...`,c),this.off([i,o]),r=!1,this.replaceTransport(e),this.transportConnect()};if(this.getSession(`phx:fallback:${e.name}`))return s("memorized");this.fallbackTimer=setTimeout(s,t),o=this.onError(c=>{this.log("transport","error",c),r&&!n&&(clearTimeout(this.fallbackTimer),s(c))}),this.onOpen(()=>{if(n=!0,!r)return this.primaryPassedHealthCheck||this.storeSession(`phx:fallback:${e.name}`,"true"),this.log("transport",`established ${e.name} fallback`);clearTimeout(this.fallbackTimer),this.fallbackTimer=setTimeout(s,t),this.ping(c=>{this.log("transport","connected to primary after",c),this.primaryPassedHealthCheck=!0,clearTimeout(this.fallbackTimer)})}),this.transportConnect()}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`${this.transport.name} connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.disconnecting=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(([,e])=>e())}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),fS,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();let r=this.connectClock;this.waitForBufferDone(()=>{r===this.connectClock&&(this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{r===this.connectClock&&(this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e())}))})}waitForBufferDone(e,t=1){if(t===5||!this.conn||!this.conn.bufferedAmount){e();return}setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t)}waitForSocketClosed(e,t=1){if(t===5||!this.conn||this.conn.readyState===wt.closed){e();return}setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t)}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),!this.closeWasClean&&t!==1e3&&this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(([,n])=>n(e))}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(([,r])=>{r(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(Ht.error)})}connectionState(){switch(this.conn&&this.conn.readyState){case wt.connecting:return"connecting";case wt.open:return"open";case wt.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t!==e)}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(([n])=>e.indexOf(n)===-1)}channel(e,t={}){let n=new hS(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:o}=e;this.log("push",`${t} ${n} (${o}, ${i})`,r)}this.isConnected()?this.encode(e,t=>this.conn.send(t)):this.sendBuffer.push(()=>this.encode(e,t=>this.conn.send(t)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){this.pendingHeartbeatRef&&!this.isConnected()||(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef,join_ref:""}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:r,payload:i,ref:o,join_ref:s}=t;o&&o===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i);for(let c=0;c<this.channels.length;c++){const l=this.channels[c];l.isMember(n,r,i,s)&&l.trigger(r,i,o,s)}for(let c=0;c<this.stateChangeCallbacks.message.length;c++){let[,l]=this.stateChangeCallbacks.message[c];l(t)}})}leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}};function vi(){let e=Date.now();return typeof Date.now()!="number"&&(e=new Date().getTime()),window.performance&&ne.function(window.performance.now)&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=Math.trunc((e+Math.random()*16)%16);return e=Math.floor(e/16),(n==="x"?r:r&3|8).toString(16)})}function gS(e,t,n={}){return new Promise((r,i)=>{const o=new XMLHttpRequest;o.addEventListener("readystatechange",({currentTarget:s})=>{const c=s||o;if(c.readyState===4)switch(c.status){case 200:try{r(JSON.parse(c.responseText))}catch(l){i(l)}break;case 404:r(null);break;default:{const l=new Error(`${c.status} ${c.statusText}`);l.extra={url:t,response:c.responseText},i(l)}}}),o.open(e,t),n.headers&&Object.entries(n.headers).forEach(([s,c])=>o.setRequestHeader(s,c)),o.send()})}function er(e,t){return gS("GET",e,t)}const cs=e=>t=>{const n=Array.isArray(t)?[]:{};let r,i,o;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r=e[i],o=typeof r,n[i]=o==="function"?r(t[i]):r&&o==="object"?cs(r)(t[i]):t[i]);return n},yS=e=>t=>t.map(e),SS=(e,t,n)=>n?t.reduce((r,i)=>r[i]||e,n):e,tr=e=>e.split("?")[0],TS=cs({attributes:{url:tr,_identity:{_lastPageUrl:tr,_currentPageUrl:tr}},context:{url:tr}}),CS=cs({profile_update:{_lastPageUrl:tr,_currentPageUrl:tr},events:yS(TS)}),_S=(e,t)=>SS(!1,["account","stripQueryParams"],e)?CS(t):t,Rr=P(()=>window.AppcuesBundleSettings.API_HOSTNAME&&`https://${window.AppcuesBundleSettings.API_HOSTNAME}/v1`,"https://api.appcues.net/v1"),IS=P(()=>window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN&&`${window.AppcuesBundleSettings.GENERIC_BUNDLE_DOMAIN}/v1`,"https://fast.appcues.com/v1"),Lr=()=>{const e=window[Ui]||{};let t={};return e.userIdSignature&&(t={Authorization:`Bearer ${e.userIdSignature}`}),t},xr={UserActivity:"USER_ACTIVITY"};function AS(e,t,n,r){return new Promise((i,o)=>{try{n.create(e,t,r,(s,c)=>{c?o(c):i(s)})}catch(s){o(s)}})}function tu(e){return e.transport.module.isConfigured(e)}function vS(e){return new Promise((t,n)=>{e.transport.module.configure(e,(r,i)=>{i?n(i):t(r)})})}function nu(e,t,n,r="event"){return new Promise((i,o)=>{try{e.transport.module.send(e,t,n,(s,c)=>{c?o(c):i(s)},r)}catch(s){o(s)}})}const bS=(e,t,n)=>nu(e,xr.UserActivity,n,t);function wS(e,t,n,r,i=null,o=null,s=null,c={}){const l=r?vi():null;return nu(e,xr.UserActivity,_S(window.AppcuesBundleSettings,{source:"web",request_id:l,user_id:e.user.userId,group_id:i,session_id:o,account_id:e.settings.accountId,profile_update:t,group_update:s,events:n,context:c})).then(()=>l)}function ru(e,t){return e.transport.module.sendMetrics(e,xr.UserActivity,t)}function iu(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return er(`${Rr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/content/${encodeURIComponent(t)}`,{headers:Lr()})}function NS(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return er(`${Rr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/experience_content/${encodeURIComponent(t)}`,{headers:Lr()})}function OS(e,t){const{settings:{accountId:n},user:{userId:r,_localId:i}}=e;return er(`${Rr()}/accounts/${encodeURIComponent(n)}/users/${encodeURIComponent(r||i)}/checklist/${encodeURIComponent(t)}`,{headers:Lr()})}function kS(e,t){return er(`${IS()}/accounts/${encodeURIComponent(e.settings.accountId)}/styles/${encodeURIComponent(t)}`)}function RS(e){const{userId:t,_localId:n}=be(e);return er(`${Rr()}/accounts/${encodeURIComponent(e.settings.accountId)}/users/${encodeURIComponent(t||n)}/history`,{headers:Lr()})}function LS(e){const{userId:t,_localId:n}=be(e);return er(`${Rr()}/accounts/${encodeURIComponent(e.settings.accountId)}/users/${encodeURIComponent(t||n)}/widget?url=${encodeURIComponent(window.location.href)}`,{headers:Lr()})}const xS="access forbidden",PS="unauthorized",DS=P(()=>window.AppcuesBundleSettings.API_HOSTNAME&&`wss://${window.AppcuesBundleSettings.API_HOSTNAME}/v1/socket`,"wss://api.appcues.net/v1/socket"),ls=[{endpoint:xr.UserActivity,name:e=>`sdk:${e.settings.accountId}:${e.user.userId}`}];function bi(e,t){let n;for(const r of ls)if(r.endpoint===t){n=r;break}try{return e.transport.details.channels[n.name(e)]}catch{return null}}function FS(e,t){let n=null;return e&&e.channels&&e.channels.forEach(r=>{r.topic===t&&(n=r)}),n}function ou(e){window.APPCUES_TEST_IDENTITY_VERIFICATION&&window.console.log(`Appcues Identity Verification Test: ${e}`)}function US(e,t,n,r){function i(){const o=window[Ui]||{},s={response_format:r};return window.APPCUES_TEST_IDENTITY_VERIFICATION||o.userIdSignature!==void 0&&o.userIdSignature!==null?{...s,token:o.userIdSignature||""}:s}return new Promise((o,s)=>{let c=FS(t,n);function l(u,d){u.receive("ok",()=>{u.channel.state!=="errored"?(ou("Succeeded - sent update to API using User ID Signature"),o({topic:n,channel:u.channel})):s(new Error("Channel is in an errored state."))}).receive("error",f=>{if(f===xS||f===PS){const{token:p}=i();ou(`Failed - ${p?`invalid User ID Signature ${p}`:"no User ID Signature present"}`),!u.channel.isLeaving()&&!u.channel.isClosed()&&u.channel.leave(),d&&d()}else s(new Error(f))})}c&&c.canPush()?o({topic:n,channel:c}):c&&!c.canPush()?l(c.joinPush,()=>{l(t.channel(n,i).join())}):(c=t.channel(n,i),l(c.join()))})}const HS={create:(e,t,n,r)=>{const i=new ES(DS(),{reportError:n});i.onOpen(()=>{r({type:"WS",details:{socket:i,onMessage:e,onTimeout:t}})}),i.onError(()=>{r(null,new Error("Error connecting to WebSocket."))}),i.connect()},send:(e,t,n,r,i="event")=>{const o=bi(e,t);if(o&&o.canPush())o.push(i,n).receive("ok",s=>e.transport.details.onMessage({request_id:n.request_id,type:i,...s})).receive("timeout",()=>e.transport.details.onTimeout(n.request_id)).receive("error",s=>e.transport.details.onMessage({request_id:n.request_id,type:i,status:"error",...s})),r(n);else{const s=new Error("Channel was not configured.");s.extra={endpoint:t,message:n},r(null,s)}},subscribeToError:(e,t,n)=>{bi(t,n).onError(e)},sendMetrics:(e,t,n)=>{const r=bi(e,t);r&&r.canPush()&&r.push("sdk_metrics",n)},isConfigured:e=>ls.every(t=>{const n=bi(e,t.endpoint);return n?n.canPush():!1}),configure:(e,t)=>{const n=Cf(e);n.isConnected()||n.connect();const r=df(e)?"v2":"v1";return Promise.all(ls.map(i=>US(e.transport,n,i.name(e),r))).then(i=>{const o={};i.forEach(s=>{o[s.topic]=s.channel}),t({channels:o})},i=>{t(null,i)})}},Ke={init:()=>"apc_init",request:e=>`apc_req_start_${e}`,attempt:e=>`apc_attempted_${e}`,response:e=>`apc_resp_end_${e}`,render:e=>`apc_rendered_${e}`,css:e=>`apc_css_loaded_${e}`,shown:e=>`apc_shown_${e}`},su="apc_flow_performance";function Tn(e){try{document.visibilityState==="visible"&&window.performance.mark(e)}catch{}}function Cn(e,t){try{return window.performance.measure(su,{start:e,end:t,detail:`${e} to ${t}`}).duration}catch{return Number.NaN}}const MS=()=>Tn(Ke.init()),$S=e=>Tn(Ke.request(e)),BS=e=>Tn(Ke.response(e)),WS=e=>Tn(Ke.attempt(e)),VS=e=>Tn(Ke.render(e)),GS=e=>Tn(Ke.css(e)),jS=e=>Tn(Ke.shown(e));function qS(e){return!(e.css_load_time<0||["api_response_duration","time_to_attempt","time_to_render","css_load_time","time_to_reveal","time_to_show"].some(n=>Number.isNaN(e[n])))}function KS(e){try{Object.values(Ke).forEach(t=>{window.performance.clearMarks(t(e))}),window.performance.clearMeasures(su)}catch{}}function YS(e,t){try{const n=Ke.request(e),r=Ke.response(e),i=Ke.attempt(e),o=Ke.render(e),s=Ke.css(e),c=Ke.shown(e);let l=Number.NaN;try{l=Cn(0,Ke.init())}catch{}const u={...Number.isNaN(l)?{}:{init_time:l},api_response_duration:Cn(n,r),time_to_attempt:Cn(r,i),time_to_render:Cn(i,o),css_load_time:Cn(o,s),time_to_reveal:Cn(s,c),time_to_show:Cn(n,c),step_type:t,request_id:e};return KS(e),qS(u)?u:null}catch{return null}}function zS(e){return{onMessage(t){t.request_id&&BS(t.request_id),e.dispatch(jh(t))},onTimeout(t){e.dispatch(qh(t))}}}function XS(e,t){return()=>{}}const JS=b(qe.TOGGLE_ROW_DETAILS),QS=b(qe.TOGGLE_COLLAPSED),ZS=b(qe.SET_CURRENT_PAGE),cu=b(qe.TRACK_PAGE),eT=b(qe.ADD_CONTENT_ERROR,(e,t)=>({contentId:e,errorMessage:t})),tT=b(qe.ADD_CHILD_ERROR,(e,t,n)=>({contentId:e,childId:t,errorMessage:n})),lu=b(qe.CLOSE_DEBUGGER),nT=b(Je.PAUSE_EXPERIENCE),rT=b(Je.RESUME_EXPERIENCE),as=b(Je.SHOW_EXPERIENCES),wi=b(Je.SAVE_ON_HOLD_LAUNCHPADS),Ni=b(Je.UNHIDE_LAUNCHPADS),iT=b(Je.HIDE_LAUNCHPADS),au="EVENTS_TRIGGERED",oT=b(au),us=b(yt.SET_SESSION),ds=b(yt.START_SESSION),sT=b(yt.SESSION_STARTED);function*uu(){let e=null;try{const t=yield v(ut);e=yield E(RS,t)}catch(t){const n=yield v(Lt);yield E(n,t,{extra:t.extra})}e&&(yield g(oS(e.journeys)))}function*du(){let e=null;try{const t=yield v(ut);e=yield E(LS,t)}catch(t){const n=yield v(Lt);yield E(n,t,{extra:t.extra})}e&&(yield g(sS(e.contents)))}function*cT(){yield F(te,bt.LOADED_LAUNCHPAD,uu),yield F(te,bt.LOADED_LAUNCHPAD,du)}function He(e,t,n){try{window[e].setItem(t,n)}catch{}}function ke(e,t){try{return window[e].getItem(t)}catch{return null}}function Me(e,t){try{window[e].removeItem(t)}catch{}}function lT(e,t){try{Object.keys(window[e]).forEach(r=>{r.startsWith(t)&&window[e].removeItem(r)})}catch{}}function aT(e){return z.ANNOTATION.includes(e)}function*Oi(){const e=yield E(ke,Fe,Hr);try{return JSON.parse(e)}catch{return null}}function uT(e,t,n,r){let i=e;return(i/=r/2)<1?n/2*i*i+t:-n/2*(--i*(i-2)-1)+t}function*dT(e,t){if(window.document?.documentMode){const n=e,r=n.scrollTop;if(r!==t){const i=yield E(Yp,t,r);let o=0;for(;o<i;)o+=Hs,n.scrollTop=uT(Math.min(o,i),r,t-r,i),yield E(ve,Hs)}return!0}return e.scroll({top:t,behavior:"smooth"}),!0}function*fT(e,t,n,r){for(;;){const i=fl(e,t,n);if(i.some((s,c)=>s.scrollTop!==r[c].scrollTop))return i;yield E(ve,200)}}function*pT(e,t,n,r){const i=[];if(r.every(s=>s.visibleInContainer))return{doneScrolling:r.map(()=>!0)};for(const{el:s,scrollTop:c}of r)i.push(E(dT,s,c));return yield Ge({doneScrolling:i,scrollTargetsChanged:E(fT,e,t,n,r)})}function*hT({payload:e}){yield g(Ny(e)),yield E(ve,Ki),yield g(wy(e))}function*mT(e){const t=yield*Oi();yield E(He,Fe,Hr,JSON.stringify({...t,...e}))}function*fu(e,t,n){if(Object.keys(e).length>0){const r=yield v(Xr),i=Object.keys(e).filter(o=>!r[o]||!r[o].errorReported);if(i.length>0){const o={};i.forEach(s=>{o[s]=e[s]}),yield g(ce(Te(q.CHILDREN_ERRORED,t,{errors:o}),n)),yield g(xy(i)),yield E(mT,i.reduce((s,c)=>({...s,[c]:{ts:Date.now()}}),{}))}}}function*ET(e){const t=yield*Oi();t&&Object.keys(t).length>0&&(e.forEach(n=>{delete t[n]}),yield E(He,Fe,Hr,JSON.stringify(t)))}function*gT(e){const t=yield v(Xr),r=Object.keys(t).filter(i=>t[i].errorReported||t[i].existingError).filter(i=>e[i]&&!e[i].error&&t[i]&&!t[i].recoveryReported);if(r.length>0){const i=yield v(se);yield g(ce(Te(q.CHILDREN_RECOVERED,i,{children:r}))),yield g(Py(r)),yield E(ET,r)}}function*yT(){let e,t=Ir();for(;(e=yield v(Be))&&e!==Q.ERROR;){const n=yield v(Xe),r=yield v(At),o=(yield n.map(c=>E(ul,(r[c.id]||{}).element||null,co(c)))).reduce((c,l,u)=>(c[n[u].id]=l,c),{});let s=!1;if(Object.keys(o).forEach(c=>{const l=o[c],{_prevPosition:u}=r[c]||{};Qp(l,u||{})||(s=!0)}),s){yield g($a(o)),yield g(Ly(o)),t=Ir();const c=Object.keys(o).filter(u=>o[u].error).reduce((u,d)=>Object.assign(u,{[d]:o[d].errorMessage}),{}),l=yield v(se);yield E(fu,c,l),yield E(gT,o)}else{const c=Ir();c-t>1e3&&(yield g($a(o)),t=c);for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const u=r[l];if(u.isBeaconSettled||c-u.lastRepositionedTs>Zt&&(yield g(vy(l,!0))),u.expanded&&!u.isTooltipSettled){const d=c-u.lastResizeTs>Zt,f=c-u.lastExpandedTs>_d;(d||f)&&(yield g(Fy(l,!0)))}}}yield E(ve,Zt)}}function*ST(){const e=yield v(Be);ne.inArray([Q.READY,Q.WILL_SHOW,Q.SHOWING,Q.WILL_CLOSE],e)||(yield g(Ry()))}function*TT(){const e=yield*Oi();if(e){const t=Date.now(),n=Object.keys(e).reduce((r,i)=>(e[i].ts+md>t&&(r[i]=e[i]),r),{});yield E(He,Fe,Hr,JSON.stringify(n))}}function*CT(e){let t=yield v(At);const n=yield v(Xe);let r=t[e]||{};const i=it(n,y=>y.id===e);let{element:o,error:s}=r;const{offset_y_percentage:c}=i,l=1-Number.parseFloat(c);for(;!o||s;)yield V(he.SET_ANNOTATIONS_POSITIONS),t=yield v(At),r=t[e]||{},o=r.element,s=r.error;const u=yield E(Jp,o);if(ri(o)){if(window.document?.documentMode)return;setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"center"})},0);return}let f=yield E(fl,o,l,u),p={};for(;!p.doneScrolling;)p=yield E(pT,o,l,u,f),f=p.scrollTargetsChanged}function*_T({payload:e}){aT(e.type)&&(yield g(rm(jl(Ms.CALCULATE,e.id))))}function*IT(){const e=(yield E(Oi))||{};Object.keys(e).length>0&&(yield g(Dy(e)))}function*AT({payload:e}){let t=yield v($n);const{annotationId:n,isScrolling:r}=e;if(r)yield g({type:he.CONFIRM_SCROLLING,payload:r});else{for(;t.length>1&&t[0]!==n;)yield E(ve,200),t=yield v($n);yield E(ve,Ki),yield g({type:he.CONFIRM_SCROLLING,payload:!1})}}function*vT(){yield[F(te,$.CLEANUP_STEP,_T),F(ql,he.START_CALCULATE_POSITIONS,yT,function*(){const e=yield v(se);return jl(Ms.CALCULATE,e)}),F(te,he.SET_IS_SCROLLING_TO_ANNOTATION,AT),F(te,he.HIDE_AND_REMOVE_ACTIVE_ANNOTATIONS,hT),F(TT),F(IT)]}function pu(e){const t={};if(e){const n=e.replace(/^\?/,"").split("&");for(let r=0,i=n.length;r<i;r++){const o=n[r].split("=");try{t[o[0]]=decodeURIComponent(o[1])}catch{const[,s]=o;t[o[0]]=s}}}return t}function hu(e){return pu(e.location.search).appcuesTestContentId||null}function Pr(e,t="appcue"){return pu(e.location.search)[t]||null}function _n(e,t="appcue"){if(!e)return e;const n=new RegExp(`(\\?)?(&)?((?:${t})=[^&#]+)(&)?`);return e.replace(n,(r,i,o,s,c)=>i&&c?"?":o&&c?"&":"")}const bT=e=>["Enter"," "].includes(e.key);function*mu(e){const t=yield e.map(r=>E(ul,null,r)),n=t.filter(r=>r.error);return n.length===t.length?{result:!1,failures:n.map(r=>r.errorMessage)}:{result:!0}}function*wT(e){for(;!(yield E(mu,e)).result;)yield E(ve,Zt);return{result:!0}}function*NT(e,t,n=null){const{promise:r,listener:i}=yield E(ch,e,t,n);let o,s;try{o=yield E(()=>r),s=!0}finally{return!s&&i&&(yield Vr())&&(yield E([e,e.removeEventListener],t,i)),o}}function ki(e,t=null,n=null){return{result:e,task:t,failures:n}}function*OT(e){const{result:t,failures:n}=yield E(mu,e);if(t)return ki(!0);const r=yield _t(wT,e);return ki(!1,r,n)}function*Eu(e,t,n){let r,i;for(;;)try{const o=yield E(bo,t);if(o.error)yield E(ve,Zt);else{if((r!==o||!i)&&(i&&(yield rt(i)),r=o,i=yield F(NT,r,e,n)),i&&i.result())return{result:!0};const{eventOccurred:s}=yield Ge({timeout:E(ve,Zt),eventOccurred:tn(i)});if(s)return{result:!0}}}catch{yield E(ve,Zt)}}function*kT(e){return(yield Ge([E(Eu,e.params.event,e.params.selector),E(Eu,"keydown",e.params.selector,bT)])).find(n=>n&&n.result)}function*gu(e){switch(e?e.type:null){case Rn.WAIT_FOR_ONE_ELEMENT:return yield E(OT,e.params.selectors);case Rn.WAIT_FOR_MOUSE_EVENT:{const n=yield _t(kT,e);return ki(!1,n)}default:return ki(!0)}}function*RT(e,t,...n){const{result:r,task:i}=yield E(gu,e);let o=r;if(!r&&i)try{o=(yield tn(i)).result}finally{i.isRunning()&&(yield Vr())&&(yield rt(i))}o&&(yield _t(t,...n))}function LT(e,t,n){return{type:e,params:t,context:n}}function fs(e,t){return LT(Rn.WAIT_FOR_ONE_ELEMENT,{selectors:e},t)}function xT(e){let t="unknown",n={};switch(e.type){case Rn.WAIT_FOR_MOUSE_EVENT:t=e.params.event,n={category:"element",element:e.params.selector};break;case Rn.WAIT_FOR_ONE_ELEMENT:t="ui_modified",n={category:"insertion",elements:e.params.selectors};break}return{interactionType:t,interaction:n}}function*ht(e,t){for(const n of t)yield g(Ue(e,n));yield g(we({},t.map(n=>Ve(n))))}function*yu(e,t,n){const r=yield*qt();yield*Mt({...r,flowId:e.id,stepId:t.id,status:n})}function*PT(...e){for(const t of e)yield g(ce(t))}function*DT(e,t,n){(yield V(({type:i,payload:o})=>i===ae.ACTIVATED_STEP_CHILD&&o.stepChildId===n.id||i===ae.CLOSE_FLOW&&o.flowId===e.id)).type===ae.ACTIVATED_STEP_CHILD&&(yield Ge({wait:E(RT,n.ui_conditions.next,PT,pt(q.STEP_INTERACTED,t.id,n.id,xT(n.ui_conditions.next)),pt(q.CHILD_NEXT,t.id,n.id)),cancel:V(({type:i,payload:o})=>i===ae.CLOSE_FLOW&&o.flowId===e.id)}))}function Su(e,t){return t?{...e,_sdkMetrics:t}:e}function*FT(e,t,n){const r=yield v(It);for(;;){const i=yield V(t),o=i.params||{},s=o.stepId?ot(e,o.stepId):null;let c,l;const u=s?(c=Rt(e,0))&&c.id===s.id:!1,f=(s?(l=Rt(e,Ic(e)-1))&&l.id===s.id:!1)||o.shouldEndFlow;switch(i.type){case q.STEP_ATTEMPTED:if(s&&Fn(s)){if(on(s)){const y=[];u&&y.push(Yl(e,r)),y.push(zl(e,s,r)),yield*ht(e.id,y);const{page_check_limit:h}=s.attributes.params,m=yield*qt(),{remainingPagesToCheck:T}=m||{};yield*Mt({...m,remainingPagesToCheck:typeof T=="number"?T:typeof h=="number"?h:Gi})}const p=[];u&&p.push(nE(e,r)),p.push(cE(e,s,r)),yield*ht(e.id,p),yield*yu(e,s,q.STEP_ATTEMPTED)}break;case q.STEP_SHOWN:if(s){if(Fn(s)){const p=yield*qt(),y=u||!p?vi():p.submissionId,h=u||!p?yield E(Pr,window,"appcue"):p.fromPermalink;yield*Mt({...p,submissionId:y,status:q.STEP_SHOWN,fromPermalink:!!h})}u&&!tf(s)&&n&&(yield E(VS,n))}break;case q.STEP_COMPLETED:if(s){const p=[lE(e,s,r)];f&&p.push(iE(e,r)),yield*ht(e.id,p),yield*yu(e,s,q.STEP_COMPLETED)}break;case q.STEP_SKIPPED:s&&(yield*ht(e.id,[aE(e,s,o.stepChildId,r),oE(e,o.stepId,r)]),yield*Kt(e,s),yield g(En(e.id,kt.SKIPPED)),yield g(Ci()),yield g(Ni()));break;case q.STEP_END:if(s){const p=yield v(se);if(p===s.id&&(yield*Kt(e,s)),f)yield g(En(e.id,kt.COMPLETED));else{const y=Rt(e,Un(e,s.id)+1);y.type===z.HOTSPOTS&&(yield g(Ci()),yield g(Ni())),p===s.id&&(yield g(t,Te(q.STEP_ATTEMPTED,y.id)),yield g(Ol(y,document.location.href)))}}break;case q.STEP_INTERACTED:if(s){const p=[],y=o.interaction||{};if(o.interactionType==="submit"&&y.category==="form"){const h={category:y.category,formId:y.formId};p.push(Xl(e,s,o.stepChildId,"submit",{...h,response:y.fields},r),gE(e,s,o.stepChildId,{...h,submissionId:y.submissionId,response:y.fields},r),...y.fields.map(m=>yE(e,s,o.stepChildId,{...h,submissionId:y.submissionId,...m},r)))}else p.push(Xl(e,s,o.stepChildId,o.interactionType,y,r));yield*ht(e.id,p)}break;case q.STEP_ERRORED:if(s){const p=[hE(e,s,o.error,o.details,r),uE(e,s,r),sE(e,r)];u&&p.splice(1,0,pE(e,o.error,o.details,r)),yield*ht(e.id,p)}break;case q.CHILD_ACTIVATED:yield g(cy(o.stepChildId,o.ts)),s&&Fn(s)&&(yield*ht(e.id,[dE(e,s,o.stepChildId,r)]));break;case q.CHILD_DEACTIVATED:{const{stepChildId:p}=o,y=yield v(Rc,p);yield g(ly(p)),s&&Fn(s)&&(yield*ht(e.id,[fE(e,s,p,o.ts-y,r)]));break}case q.CHILDREN_ERRORED:{const p=Object.keys(o.errors||{});p.length>0&&(yield*ht(e.id,p.map(y=>mE(e,s,y,o.errors[y],r))));break}case q.CHILDREN_RECOVERED:{const p=o.children||[];p.length>0&&(yield*ht(e.id,p.map(y=>EE(e,s,y,r))));break}case q.CHILD_NEXT:if(s){const p=rn(s,o.stepChildId);let y=null;p>-1&&(y=(so(s,p+1)||{}).id||null);let h=s.type;h===z.HOTSPOTS&&Dn(s)&&(h=z.SEQUENTIAL_HOTSPOTS,yield g(Ba(y,!0))),yield g(Da(h,s,o.stepChildId,y))}break;case q.CHILD_RUN:{const p=so(s,rn(s,o.stepChildId));yield g(mn(o.stepChildId)),p&&p.ui_conditions&&p.ui_conditions.next&&(yield _t(DT,e,s,p));break}case q.CSS_LOADED:{u&&n&&GS(n);break}case q.STEP_REVEALED:{if(s){let p=null;u&&n&&(yield E(jS,n),p=yield E(YS,n,s.type));const y=[];Fn(s)?(u&&y.push(Su(Yl(e,r),p)),y.push(zl(e,s,r)),yield*ht(e.id,y)):u&&(y.push(Su(rE(e,r),p)),yield*ht(e.id,y))}break}}}}function ps(e){Me("localStorage",e),Me("localStorage",`${e}_timeout`)}function Tu(e){if(!e)return!1;const t=ke("localStorage",e),n=JSON.parse(ke("localStorage",`${e}_timeout`))??0;return Date.now()>n||!t?(ps(e),!1):!0}function UT(e){return!e||!Tu(e)?null:ke("localStorage",e)}function Cu(e,t,n){He("localStorage",e,t),He("localStorage",`${e}_timeout`,Date.now()+n)}function*HT(e,t){yield V(n=>n.type===ae.CANCEL_STEP&&n.payload.flowId===e),yield rt(t)}function*_u(e,t){const n=yield E(Ln.expanding,5),r=yield E(Cc,n),i=yield _t(FT,e,r,t);return yield _t(HT,e.id,i),r}function MT(e){if(e.uiConditions&&e.uiConditions.start)return e.uiConditions;let t;switch(e.type){case z.HOTSPOTS:{const n=nn(e);if(Dn(e)){const[r]=n;if(r){const i=[r.id],o=[co(r)];t=fs(o,{stepChildIds:i})}else t=fs([],{stepChildIds:[]})}else{const r=n.reduce((i,o)=>[...i,co(o)],[]);t=fs(r,{stepChildIds:n.map(i=>i.id)})}break}case z.MODAL:default:t=null}return{...e.uiConditions,start:t}}function*$T(e,t,n,r,i){let o=!1;try{o=(yield tn(e)).result,o&&(yield g(pi(n,tt.FLOWS)),yield g(Uo(n,r,i,t)))}finally{(yield Vr())&&(yield rt(e)),o||(yield g(t,cr))}}function*Ri(e){for(;(yield v(pf,e)).length>0;)yield V($.FINISHED_EVENT)}function*Iu(e,t,n,r,i=!0){const o=yield E(_u,e,r),s=t?ot(e,t):Rt(e,0);Fn(s)&&s.attributes.action_type!==mt.WAIT_FOR_PAGE&&(yield g(o,Te(q.STEP_ATTEMPTED,s.id)));const l=MT(s).start,{result:u,task:d,failures:f}=yield E(gu,l);if(u)return yield g(Cm(e.id)),yield g(pi(e.id,tt.FLOWS)),yield g(Uo(e.id,s.id,n,o)),!0;const p=(l.context||{}).stepChildIds||[];if(f&&f.length>0&&p.length===f.length){const h=f.reduce((m,T,_)=>T?Object.assign(m,{[l.context.stepChildIds[_]]:T}):m,{});yield E(fu,h,s.id,o)}const y=[$.START_FLOW];return i!==!1&&y.push($.CANCEL_ATTEMPTS),yield _t(Qm,{wait:E($T,d,o,e.id,s.id,n),cancel:V(y)}),!1}function*Au(e,t,n,r){const i=yield E(_u,e,null);yield g(Uo(e.id,t,n,i,r))}function*BT(e){const{flowId:t,stepId:n,url:r,eventChannel:i,status:o}=e.payload,s=yield v(ao,t),c=ot(s,n);c&&(c.type===z.HOTSPOTS&&(yield g(Ci()),yield g(Ni())),yield g(Ol(c,r,o)));const{payload:l}=yield V(u=>u.type===ae.CLOSE_FLOW&&u.payload.flowId===t);yield E(Me,Ie,Jt),yield g(im(i)),yield Ge({wait:E(Ri,t),cancel:E(ve,Yi)}),!s.redirect_url&&!s.next_content_id&&(yield g(Ci()),yield g(Ni())),l.type===kt.COMPLETED&&(s.redirect_url?(s.next_content_id&&(yield E(Cu,Nn,s.next_content_id,$s)),yield E(Gt,window,s.redirect_url,s.redirect_new_tab)):s.next_content_id&&(yield g(yr(s.next_content_id))))}function*qt(){try{return JSON.parse(yield E(ke,Ie,Jt))}catch{return{}}}function*Mt(e){yield E(He,Ie,Jt,JSON.stringify(e))}function*hs(e,t){const n=yield v(se);yield g(Zn(e)),yield g(ce(Te(q.STEP_ERRORED,n,{error:e.message,details:t})))}function*WT(e){const{step:t,status:n}=e.payload;switch(t.type){case z.MODAL:case z.HOTSPOTS:case z.SATISFACTION_SURVEY:yield g(n?ce(Te(q.STEP_END,t.id)):uy(t.id));break;case z.ACTION:if(n)yield g(Fl(t,n));else if(t.attributes.action_type===mt.WAIT_FOR_PAGE){const r=yield*qt(),i=n||r&&r.status||q.STEP_ATTEMPTED;yield g(Fl(t,i))}else yield g(Sm(t));break;default:yield E(hs,new Error("Unknown step type."),JSON.stringify({type:t.type}))}}function*Kt(e,t){if(!t)return;(yield v(Be))===Q.SHOWING&&(yield g(dm()),yield E(ve,Id)),yield g(Qh(t)),yield g(fy(e.id,t.id))}function*VT({payload:e}){const t=e.eventChannel||(yield v(gf));t&&(yield g(t,e.event))}function*GT({payload:e}){yield E([e,e.close])}function*jT(){yield[F(et,$.START_FLOW,BT),F(et,$.START_STEP,WT),F(te,$.SEND_LIFECYCLE_EVENT,VT),F(te,$.CLOSE_CHANNEL,GT)]}function qT(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return null}}function KT(e,t,n={}){let r=n;r=r===null?{}:r;const i=e.location.href;let o=r._sessionPageviews||0;(r._currentPageUrl!==i||t)&&(o+=1);const s=hu(e),c=e.navigator,l=c.languages?c.languages[0]:c.language||c.userLanguage;let{referrer:u}=e.document,d=Math.floor(Math.random()*100);t?u||(u=r._currentPageUrl):(u=r._currentPageUrl===i?r._lastPageUrl:r._currentPageUrl,r._sessionRandomizer&&(d=r._sessionRandomizer));const f={_hostname:e.location.hostname,_lastBrowserLanguage:l,_lastPageTitle:r._currentPageTitle||"",_lastPageUrl:u||"",_updatedAt:Date.now(),_lastSeenAt:Date.now(),_userAgent:e.navigator.userAgent,_currentPageTitle:e.document.title,_currentPageUrl:i,_sessionRandomizer:d,_sessionPageviews:o,_timezoneCode:qT(),_timezoneOffset:new Date().getTimezoneOffset(),_appId:e.AppcuesBundleSettings?.defaultAppId||null};return s?(f._testContentId=s,f._testContentUrl=i,He(Ie,Wi,!0)):r._testContentId&&r._testContentUrl&&(f._testContentId=r._testContentId,f._testContentUrl=r._testContentUrl),ke(Ie,Wi)||(f._testContentId=null,f._testContentUrl=null),f}function vu(){return{_lastSeenAt:Date.now()}}function YT(e){return Object.keys(e).reduce((t,n)=>(fd.includes(n)&&(t[n]=e[n]),t),{})}const Ct={OVERLAY:"overlay",BACKGROUND:"background",FLOATING:"floating"};function zT(e){const{type:t,attributes:n}=e;return n&&n.steps||t==="nps"||t==="flow"?Ct.OVERLAY:t==="banner"||t==="persistent"?Ct.BACKGROUND:t==="launchpad"?Ct.FLOATING:Ct.OVERLAY}function XT(e){return e.reduce((t,n)=>{const r=zT(n);return t[r]||(t[r]=[]),t[r].push(n),t},{[Ct.OVERLAY]:[],[Ct.BACKGROUND]:[],[Ct.FLOATING]:[]})}function ms(e){const t=XT(e);return Object.keys(t).reduce((n,r)=>{const i=t[r]||[];if(i.length===0)return n;switch(r){case Ct.OVERLAY:{const{attributes:o}=i[0];o&&o.steps?n.contents=i.filter(s=>s.attributes&&s.attributes.steps):n.experiences=[...n.experiences,i[0]];break}case Ct.BACKGROUND:n.experiences=[...n.experiences,...i];break;case Ct.FLOATING:n.experiences=[...n.experiences,...i];break}return n},{contents:[],experiences:[]})}const JT=Vn([Kn,qn,Gn,jn,Yn],ei.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy})),QT=e=>{if(Mp(e)){if(!Ne(e,"autoplay"))return;const{autoplay:n,...r}=e.data.attrs;e.data.attrs=r}};function*bu(e){const t=[];let n,r;const i=new Error("Invalid HTML.");i.extra={};const o="";for(const[s,c]of e.entries()){r=c;try{JT(document.createElement("div"),Dt(`<div>${r.html}</div>`,{hooks:{create:QT}}))}catch(l){n||(n=yield v(se)),t.push({childNumber:s,stepChildId:r.id,error:l})}}return t.length===0?!0:(yield E(hs,Object.assign(i,{extra:{stepId:n,errors:t}}),o),!1)}function*ZT({payload:{nextContentId:e}}){yield E(Cu,Nn,e,$s)}const eC=()=>{const{sessionDuration:e=vd}=window.AppcuesSettings||{};return{id:vi(),timestamp:Date.now(),duration:e*6e4}};function*tC(){try{const e=yield E(ke,Fe,$r),t=JSON.parse(e);if(!t.id||!t.timestamp)throw yield E(Me,Fe,$r),new Error("Invalid session");return t}catch{return{}}}function*nC(){const e=eC();yield g(us(e)),yield g(sT())}function*rC(){const e=yield v(be);(!e||!e.userId)&&(yield V(U.IDENTIFY));const t=yield E(tC);if(!t.id||t?.id?.includes("NaN")){yield g(ds());return}yield g(us(t))}function*iC(){const e=yield v(Hn);yield E(He,Fe,$r,JSON.stringify(e))}function*wu(){const e=yield v(Hn);return!e.id||Date.now()-e.duration>e.lastEventTimestamp}function*oC(){if(yield E(wu)){yield g(ds()),yield V(({type:n})=>n===yt.SESSION_STARTED);const e=yield v(Hn);return Ve(bE(e))}return null}function*sC({payload:e}){(yield v(Nc))||(yield V(U.COMPLETED_IDENTIFY)),(yield v(Hn)).id||(yield V(yt.SET_SESSION));const{userId:r}=e,i=yield v(be),s=(i&&i.userId&&i.userId.toString())!==r.toString(),c=yield E(wu);(s||c)&&(yield g(ds()))}function*cC(){return yield[F(et,U.INITIALIZE,rC),F(et,yt.SET_SESSION,iC),F(et,yt.START_SESSION,nC),F(te,$.START_IDENTIFY,sC)]}function*Li(){return yield v(Lc)}function*Es(e=!1){if(yield v(af))return null;let n=yield E(ke,Ie,Xt);try{n=JSON.parse(n)}catch{n=null}const r=yield E(KT,window,e,n);if(yield E(He,Ie,Xt,JSON.stringify(r)),(yield E(hu,window))&&window.history&&window.location){const l=yield E(_n,window.location.href,"appcuesTestContentId");yield E([window.history,window.history.replaceState],window.history.state,"",l),window.location.reload()}let o=yield E(ke,Fe,Mi);o||(o=yield E(vi),yield E(He,Fe,Mi,o));const s=yield v(sf),c=YT({_localId:o,_appcuesId:s,...r});return yield g(Sr(c,!0)),c}function*Nu(){yield g(lm()),yield E(Me,Ie,Xt),yield E(Me,Fe,Mi),yield E(Me,Fe,Hi),yield E(Me,Fe,Ur),yield E(ps,Nn),yield E(Me,Ie,Jt),yield E(Me,Fe,$r),yield E(lT,Ie,Bi),yield E(Es,!0)}function*Ou(e){const{properties:t,events:n}=e.payload,{_isAnonymous:r}=t,{userId:i}=e.payload,o=yield v(be),s=o&&o.userId&&o.userId.toString(),c=s!==i.toString();s&&c&&!r&&(yield E(Nu)),yield g(cm(i)),ne.defined(i)&&(yield E(He,Fe,Hi,i)),yield g(Sr({_doNotTrack:`${window.navigator&&window.navigator.doNotTrack}`[0]==="1",...t},!0));const l=yield v(be);yield g(we(l,n,!0))}function*ku(){const e=yield v(ut);try{const t=yield E(vS,e);yield g(Rl(t))}catch(t){yield g(Rl(t))}}function*lC(){const e=yield V($.START_IDENTIFY);yield F(te,$.START_IDENTIFY,Ou),yield E(Ou,e),yield g(mm())}function*Ru(){yield F(ku);let e=yield V(U.CONFIGURE_TRANSPORT),t=0;for(;e.error&&t<5;)yield E(ve,100),yield F(ku),e=yield V(({type:n})=>n===U.CONFIGURE_TRANSPORT),t+=1}function*aC(e){const t=e.filter(n=>n?.attributes?._builderButtonEvent);yield at(t.map(n=>g(Ue(n.id,n))))}function*gs({properties:e,events:t,trigger:n,groupId:r=null,groupProperties:i=null}){let o=yield v(ut);(yield E(tu,o))||(yield E(Ru),o=yield v(ut));const c=yield v(be),{id:l}=yield v(Hn),u={url:window.location.href,sdk_version:window.AppcuesBundleSettings&&window.AppcuesBundleSettings.VERSION},d=t.map(p=>({...p,context:u,attributes:{...p.attributes,sessionId:l,_identity:c}})),f=t.find(p=>p.name===Qt.PAGE_VIEW);try{const p=yield E(wS,o,e,d,n,r,l,i,u);p&&(yield g(kl(p,f)),$S(p)),yield g(us({lastEventTimestamp:t[t.length-1].timestamp})),yield g(Tm())}catch(p){yield g(kl(p))}}function ys(e){for(const t of e)if(t.name===Qt.PAGE_VIEW)try{if(ne.string(t.attributes.url)&&t.attributes.url.length>0)return t}catch{}return null}function Lu(e){return on(e)&&Tt(e.attributes.params.url,window.location.href)}function*xu(e){let t=e,n=null,r=null,i=null,o=null,s=null;const c=yield v(ze);if(t&&(!c||c.id!==t&&(!c.migrated_from_step_id||c.migrated_from_step_id!==t))){if(r=window.location.href,yield g(fi()),c&&ne.defined(c.id)){const u=yield v(se),d=ot(c,u);d&&(yield*Kt(c,d)),yield g(En(c.id,kt.SHOWING_OTHER_CONTENT))}const l=yield v(dr);if(l&&l[t])n=l[t];else{yield g(fm(t,r));const u=yield v(ut),d=yield v(Lt);try{n=yield E(iu,u,t)}catch(f){yield E(d,f,{extra:f.extra}),n=null}if(!n)try{i=yield E(OS,u,t),o=i?i.checklist:null}catch(f){yield E(d,f,{extra:f.extra}),i=null}if(!n&&!o)try{s=yield E(NS,u,t)}catch(f){yield E(d,f,{extra:f.extra}),s=null}}n&&(t=n.id),yield g(Ho([t],{[t]:n})),!n&&!o&&!s?yield g(Zn(new Error("No content returned."))):n&&(n=yield v(ao,t))}return{shownUrl:r,content:n,checklistContent:o,experience:s}}function uC(e){return ur(e)&&Tt(e.attributes.params.url,window.location.href)}function dC(e,t){return!ur(e)&&t===q.STEP_COMPLETED}function*fC(){const e=JSON.parse(yield E(ke,Ie,Jt));if(e){const t=yield v(ze),n=t&&t.id===e.flowId,r=ot(t,e.stepId);let i=window.location.href;if(on(r)){if(yield E(Lu,r))return yield dt(Au,t,r.id,i,null),!0;const l=e.remainingPagesToCheck;return l===1?(yield g(fi()),yield E(Kt,t,r),yield g(En(t.id,kt.CLEAR)),!1):(yield E(Mt,{...e,remainingPagesToCheck:l-1}),!0)}e.fromPermalink||(yield E(Me,Ie,Jt));let s;if(n)s=t,i=window.location.href;else{const c=yield E(xu,e.flowId);s=c.content,i=c.shownUrl,s&&(yield g(Dl()))}if(s){const c=ot(s,e.stepId),l=e.status,u=uC(c),d=on(c),f=e.navByADTT;if(u||f||d){let p=c,y=l;if(dC(c,l)&&(p=Rt(s,Un(s,e.stepId)+1),y=q.STEP_ATTEMPTED),ur(p)||on(p)){if(y===q.STEP_COMPLETED&&(p=Rt(s,Un(s,p.id)+1),y=null),on(p)){const{flowId:T,remainingPagesToCheck:_}=e,{page_check_limit:S}=p.attributes.params,A=typeof _=="number"?_:typeof S=="number"?S:Gi;yield E(Mt,{...e,flowId:T,stepId:p.id,status:q.STEP_ATTEMPTED,remainingPagesToCheck:A-1})}n&&(yield g(py(s.id,c.id)),yield E(Kt,s,c));const{flowId:h,submissionId:m}=e;return yield E(Mt,{...e,flowId:h,submissionId:m}),yield dt(Au,s,p.id,i,y),!0}}}}return!1}function*Pu(){yield g(Ul(window.location.href,!1));const e=yield v(ze);if(e){const r=JSON.parse(yield E(ke,Ie,Jt)),i=r?ot(e,r.stepId):null;i&&Lu(i)&&(yield E(Mt,{...r,status:q.STEP_SHOWN}))}const t=yield E(fC);let n=t;if(!t){let r;if(yield E(Pr,window,"showappcue")){if(r=yield E(Pr,window,"showappcue"),window.history){const i=yield E(_n,window.location.href,"showappcue");yield E([window.history,window.history.replaceState],window.history.state,"",i)}}else(yield E(Pr,window,"appcue"))&&(r=yield E(Pr,window,"appcue"));(yield E(Tu,Nn))&&(r||(r=yield E(UT,Nn)),yield E(ps,Nn)),r&&(yield g(yr(r)),n=!0)}return yield g(Ul(window.location.href,!0)),n}function*pC(e){const t=yield v(ze),n=yield v(se),r=ot(t,n),i=ys(e);if(i&&i.attributes.url&&t!==null){const o=yield v(Ef);_n(i.attributes.url)!==_n(o)&&(r&&(yield*Kt(t,r)),yield g(En(t.id,kt.CLEAR)))}}function*hC({properties:e,events:t,groupProperties:n,groupId:r}){let i=e,o=n;if(ys(t)){const s=yield E(Es);i={...i,...s},r!=null&&(o={...o,...vu()});const c=yield v(lo);if(!Tt(c.url,window.location.href)){(yield v(Be))===Q.WILL_CLOSE&&(yield V(ae.CLOSE_STEP)),yield g(fi());const d=yield v(Eo);d&&d.stopAll(),(yield E(Pu))||(yield E(pC,t)),(yield v(Fc))&&(yield at([E(uu),E(du)]))}}return[i,o]}function*mC({properties:e,events:t,trigger:n,groupId:r,groupProperties:i}){(yield E(Li))||(yield V(U.INITIALIZE),yield V(yt.SET_SESSION),yield V(U.CHECKED_FOR_INITIAL_CONTENT));const s=yield E(ke,Fe,Ur),[c,l]=yield*hC({properties:e,events:t,groupProperties:i,groupId:r??s});let u=t;const d=yield E(oC);if(d){const f=t[0];f&&(d.timestamp=f.timestamp),u=[d,...t]}yield E(gs,{properties:c,events:u,trigger:n,groupId:r??s,groupProperties:l})}function*EC(){const e=yield E(Ln.expanding,10),t=yield Hd([$.START_ACTIVITY,$.START_GROUP_ACTIVITY],e),n=yield v(be);(!n||!n.userId)&&(yield V(U.IDENTIFY));let r=[];yield F(function*(){for(;;){const{payload:o}=yield V($.START_IDENTIFY),s=yield v(be);o.userId!==s?.userId&&r.length>0&&(yield rt(...r),r=[])}});let i;for(;;){i=yield V(t),yield E(ve,Ad);const o=yield Md(t);let s=i.payload.properties||{},c=i.payload.events||[],l=i.payload.trigger||!1,u=i.payload.groupId||null,d=i.payload.groupProperties||null;o.forEach(y=>{const{payload:h}=y;s={...s,...h.properties},h.events&&(c=[...c,...h.events]),h.trigger&&(l=!0),h.groupId!=null&&(u=h.groupId),h.groupProperties&&(d={...d,...h.groupProperties})});let f=!1,p=!1;if(c=c.filter(y=>ys([y])?_n(y.attributes.url)!==_n(window.location.href)||f?!1:(f=!0,!0):(p=l,!0)),l=f||p,Object.keys(s).length>0||c.length>0||Object.keys(d??{}).length>0||u!=null){const y=yield F(mC,{properties:s,events:c,trigger:l,groupId:u,groupProperties:d}),h=yield F(aC,c);r.push(y,h)}}}function*Du(e,t){const n=yield v(cf,e);if(n&&n.length>0)for(const r of n){let i=[t];e==="all"&&(i=[t.id,...i]),yield E([r.context||window,r.callback],...i)}}function*gC({payload:e}){const{flowId:t,event:n}=e,r=yield dt(Du,n.id,n),i=yield dt(Du,"all",n);yield tn(r,i),yield g(Yh(t,n))}function*yC({payload:e}){const t=yield E(Ma,e.fields);if(t.result||e.ignoreValidation){if(!e.fields.some(c=>c.value)){yield E(e.onSuccess);return}const r=yield v(se),i=yield v(st),{submissionId:o}=yield*qt();yield g(ce(pt(q.STEP_INTERACTED,r,i,{interactionType:"submit",interaction:{category:"form",formId:e.formId,submissionId:o,fields:e.fields.map(c=>({fieldId:c.fieldId,fieldType:c.validation,fieldRequired:c.required,label:c.label,value:c.value,formFieldIndex:c.formFieldIndex,customReportingLabel:c.customReportingLabel}))}}))),yield E(e.onSuccess);const s=e.fields.reduce((c,l)=>{if(l.label){const u=hd+eE(l.label);return Object.assign(c,{[u]:l.value})}return c},{});Object.keys(s).length>0&&(yield g(we(s,[],!1)))}else yield g(iy(t.errors))}function*SC({payload:e}){const{shownUrl:t,content:n,checklistContent:r,experience:i}=yield E(xu,e);if(i&&(yield g(as([i]))),n&&(yield E(Iu,n,null,t,null,!1)),r&&!(yield v(ho,Q.SHOWING)).map(c=>c.id).includes(r.id)){const{userId:c}=yield v(be);yield E(Me,Ie,`${Bi}${r.id}`),yield g(Qn(c,{_showChecklist:r.id}))}}function*TC(){const e=yield v(Be);if(ne.inArray([Q.READY,Q.WILL_SHOW],e)){if(e!==Q.WILL_SHOW&&(yield V(U.WILL_SHOW_CONTENT)).error)return;yield E(ve,Ki),yield g(um());const t=yield v(se);yield g(ce(Te(q.STEP_REVEALED,t)))}}function*CC(){const e=yield Ge({cancel:V($.CANCEL_ATTEMPTS),result:E(TC)}),t=yield v(Be);if(e.cancel&&t===Q.WILL_SHOW){const n=yield v(ze);if(n&&ne.defined(n.id)){const r=yield v(se),i=ot(n,r);i&&(yield*Kt(n,i)),yield g(En(n.id,kt.SHOWING_OTHER_CONTENT))}}}function*_C(){if(yield v(sn)){(yield v(ye)).type===z.HOTSPOTS||(yield g(Ya()),yield g(iT()));const r=yield v(uo),i=yield v(mf);if(r&&!i[r]){let o;try{const s=yield v(ut);o=yield E(kS,s,r)}catch(s){const c=yield v(Lt);yield E(c,s.message,{extra:s.extra})}o&&(yield g(am({[r]:o})))}yield g(Zh())}}function*IC(){let e=yield v(be);const{_localId:t}=e;t||(yield V(({type:r,payload:i})=>r===U.UPDATE_USER&&ne.defined(i.profile._localId)),e=yield v(be));const{_localId:n}=e;yield g(Qn(`anon:${n}`,{_isAnonymous:!0},[Vt(Qt.PAGE_VIEW,{url:window.location.href})]))}function*AC({payload:e}){(yield v(Nc))||(yield V(U.COMPLETED_IDENTIFY));let n=yield v(be),{_appcuesId:r}=n;for(;!r;)yield V(U.UPDATE_USER),n=yield v(be),{_appcuesId:r}=n;try{n=JSON.parse(JSON.stringify(n))}catch{}yield E(e,n)}function*vC({payload:e}){const t=yield v(Yr,e);t&&t.length>0&&(yield g(gm(e)),yield t.map(n=>rt(n)))}function bC(e){return e===null||e===Q.ERROR}function wC(e,t){return!!(e&&t)}function*NC(){const e=yield v(ze),t=yield v(se),n=ot(e,t);yield g(fi()),yield E(Kt,e,n),yield g(En(e.id,kt.CLEAR))}function*OC(e){const{currentUrl:t,shouldOverrideCurrentFlow:n,requestId:r}=e.payload,i=yield v(hf),o=yield v(Be),s=yield v(sn);if(!(!i||i.length===0)&&(bC(o)||wC(o,n))){let c=!0;const l=yield v(dr);for(const u of i){const d=l[u];if(s===d.id)return;const f=yield E(Ql,d.id,tt.FLOWS);if(f&&(yield g(pi(d.id,tt.FLOWS))),o&&n&&(yield E(NC)),!f){if(yield E(Iu,d,null,t,r)){c&&(yield E(WS,r));return}c=!1}}}}function*Fu(e,t,n,r){const i=yield v(ut),o=e.getEntriesByType("resource").filter(s=>s.name.match(/fast\.appcues\./)).map(s=>s.toJSON());yield E(ru,i,{api_request_start:Math.round(n-t),api_response_duration:Math.round(r-n),timing:o,sdk_version:window.AppcuesBundleSettings.VERSION})}function*kC(){try{yield V(yt.SET_SESSION);const e=window.performance,n=(yield v(Hn)).timestamp%100===0;if(e.getEntriesByName){const r=e.getEntriesByName("apc-init","mark")[0].startTime,{payload:{requestId:i}}=yield V(u=>u.type===U.SENT_REQUEST&&u.payload),o=e.now(),{payload:s}=yield V(u=>u.type===$.START_HANDLE_MESSAGE&&u.payload.request_id===i),c=e.now();(s.contents&&s.contents.length>0||(s.content&&s.content.length>0?ms(s.content).contents.length>0:!1))&&document.visibilityState==="visible"&&(yield V($.START_CHECK),yield dt(function*(){const d=yield Ge({imm:V(U.STARTED_FLOW_IMM),show:V(U.SHOW_CONTENT),start:V($.START_FLOW),check:V($.START_CHECK)});if(!d.imm)return;const f=yield v(ao,d.imm.payload),p=Rt(f,0);if(on(p)||ur(p)||(yield V(U.WILL_SHOW_CONTENT)).error)return;const m=e.now();yield V(ae.LOADED_CSS);const T=e.now();yield V(U.SHOW_CONTENT);const _=yield v(Mn),S=yield v(ut);yield E(ru,S,{render_time:Math.round(m-c),css_load_time:Math.round(T-m),time_to_show:Math.round(e.now()-r),content_type:_,sdk_version:window.AppcuesBundleSettings.VERSION}),n||(yield*Fu(e,r,o,c))})),n&&(yield*Fu(e,r,o,c))}}catch{}}function*RC(){const e=JSON.parse(yield E(ke,Ie,Mr));if(e){const{checklistId:t,itemId:n,actionIndex:r,checklist:i}=e;yield E(Me,Ie,Mr),yield g(Qa(t,n,r+1,i))}return!1}function*LC(){const e=yield V($.START_INITIALIZE);if(!(yield E(Li))){const n=yield E(ke,Fe,Hi);n!==null&&(yield g(Qn(n,{},[Vt(Qt.PAGE_VIEW,{url:window.location.href})])));const r=yield E(AS,e.payload.dispatchMessage.onMessage,e.payload.dispatchMessage.onTimeout,e.payload.transportModule);yield E(Es,!0),yield g(sm({type:r.type,module:e.payload.transportModule,details:r.details})),yield E(Pu),yield E(RC)}}function*xC({payload:{groupId:e,groupProperties:t}}){const n={...t,...vu()};yield g(zh(e,n)),yield E(He,Fe,Ur,e),yield g(bm({groupId:e,groupProps:n}))}function*PC({payload:e}){const t=yield v(dr);if(Object.prototype.hasOwnProperty.call(t,e))return;const n=yield v(ut),r=yield E(iu,n,e);yield g(Ho([e],{[e]:r}))}function*DC(){yield[dt(LC),dt(lC),dt(kC),F(te,$.START_EVENT,gC),F(EC),F(te,$.START_ANONYMOUS,IC),F(te,$.START_FORM_SUBMISSION,yC),F(et,$.START_SHOW,SC),F(et,ae.LOADED_CSS,CC),F(te,$.PREPARE_CONTENT,_C),F(te,$.START_RESET,Nu),F(te,U.WAIT_IDENTIFY,AC),F(te,$.STOP_TASKS,vC),F(et,$.START_CHECK,OC),F(te,ae.SET_NEXT_CONTENT_ID_COOKIE,ZT),F(te,$.START_IDENTIFY_GROUP,xC),F(te,U.PREFETCH_FLOWS,PC)]}function Uu(e,t){return e.innerText==null?!1:t?e.innerText.replace(/\r\n|\r|\n/g," ").toLowerCase().trim()===t.toLowerCase().trim():!0}function Hu(e,t){if(Object.prototype.hasOwnProperty.call(t,"order_filter")){const n=bo(t);return e===n}return!0}function FC(e,t){try{return!e.includes("|shadow-root|")&&!e.includes("|iframe|")&&(t.matches?t.matches(e):t.msMatchesSelector(e))?t:it(ti(e),n=>n.contains(t))}catch{return null}}function Ss({events:e,$element:t,eventType:n}){return e.map(r=>{const{targets:i}=r;for(const{event:o,selector:s}of i)if(o===n){const{selector:c,text_filter:l}=s,u=FC(c,t);if(u&&Uu(u,l)&&Hu(u,s))return[r,u]}return null}).filter(r=>r)}function Ts({events:e,matchSelector:t}){try{return e.flatMap(n=>n.targets).filter(({selector:n})=>t(n.selector)).flatMap(({selector:n})=>{const{selector:r,text_filter:i}=n;return ti(r).filter(o=>Uu(o,i)&&Hu(o,n))})}catch{return[]}}function xi(e){return e.composedPath?e.composedPath():[e.target]}function UC({events:e,onEventsTriggered:t,stopPropagation:n}){const r=e.filter(({targets:s})=>s.some(({event:c})=>c==="click")),i=s=>{const[c]=xi(s),l=Ss({events:r,$element:c,eventType:"click"}).map(([u])=>u);n&&l.length>0&&(s.preventDefault(),s.stopImmediatePropagation()),t(l)},o=s=>{(s.key===" "||s.key==="Enter")&&i(s)};try{const s=Ts({events:r,matchSelector:c=>c.includes("|iframe|")});return s.forEach(c=>{c.addEventListener("click",i,!0),c.addEventListener("keyup",o,!0)}),document.addEventListener("click",i,!0),document.addEventListener("keyup",o,!0),()=>{s.forEach(c=>{c.removeEventListener("click",i,!0),c.removeEventListener("keyup",o,!0)}),document.removeEventListener("click",i,!0),document.removeEventListener("keyup",o,!0)}}catch{return null}}const HC=(e,t)=>e.includes(t);function MC({events:e,onEventsTriggered:t}){const n=e.filter(({targets:s})=>s.some(({event:c})=>c==="input"));let r=[];const i=s=>{const[c]=xi(s),u=Ss({events:n,$element:c,eventType:"input"}).map(([d])=>d).filter(d=>!HC(r,d));r=[...r,...u],t(u)},o=()=>{r=[]};try{const s=Ts({events:n,matchSelector:c=>c.includes("|iframe|")});return s.forEach(c=>{c.addEventListener("input",i),c.addEventListener("blur",o,!0)}),document.addEventListener("input",i),document.addEventListener("blur",o,!0),()=>{s.forEach(c=>{c.removeEventListener("input",i),c.removeEventListener("blur",o,!0)}),document.removeEventListener("input",i),document.removeEventListener("blur",o,!0)}}catch{return null}}function Mu(e,t){let n;const r=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,i=>i.shadowRoot&&i.nodeName!=="APPCUES-EXPERIENCE-CONTAINER"&&i.nodeName!=="APPCUES-EXPERIENCE-CONTAINER-BUILDER"&&i.nodeName!=="APPCUES-BUILDER"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT);for(;(n=r.nextNode())!==null;)t(n.shadowRoot)}function $C({events:e,onEventsTriggered:t}){const n=e.filter(({targets:o})=>o.some(({event:s})=>s==="hover")),r=new Set,i=o=>{const[s]=xi(o),c=Ss({events:n,$element:s,eventType:"hover"});c.length>0&&c.reduce((u,[d,f])=>(u.has(f)?u.set(f,[...u.get(f),d]):u.set(f,[d]),u),new Map).forEach((u,d)=>{if(r.has(d))return;r.add(d);const f=window.setTimeout(()=>{t(u)},500),p=y=>{const[h]=xi(y);h===d&&(window.clearTimeout(f),r.delete(d),d.removeEventListener("mouseleave",p))};d.addEventListener("mouseleave",p)})};if(n.length>0)try{document.addEventListener("mouseover",i);const o=Ts({events:n,matchSelector:s=>s.includes("|iframe|")});return o.forEach(s=>{s.addEventListener("mouseover",i)}),Mu(document.body,s=>s.addEventListener("mouseover",i)),()=>{document.removeEventListener("mouseover",i),o.forEach(s=>{s.removeEventListener("mouseover",i)}),Mu(document.body,s=>s.removeEventListener("mouseover",i))}}catch{return null}return()=>{}}const $u="appcues/click-to-track";function BC({name:e,timestamp:t,attributes:{url:n,interaction:r,selector:i}}){return{source:$u,id:e,name:e,timestamp:t,url:n,interaction:r,...Object.keys(i).reduce((o,s)=>({...o,[`selector.${s}`]:i[s]}),{})}}const Bu=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function*WC(e=[],t=!1){const n=sg(),r=e.filter(({urls:o})=>o.some(s=>s==="*"||Tt(s,n))),i=lr(o=>{const s=UC({events:r,onEventsTriggered:o,stopPropagation:t}),c=MC({events:r,onEventsTriggered:o}),l=$C({events:r,onEventsTriggered:o});return()=>{s(),c(),l()}},Ln.expanding(5));try{for(;;){const o=yield V(i);o.length>0&&(yield g(oT(o.map(({name:s,targets:[{event:c,selector:l}]})=>Vt(s,{url:n,interaction:c,selector:{css:l.selector,...Bu(l,"text_filter")?{textFilter:l.text_filter}:{},...Bu(l,"order_filter")?{orderFilter:l.order_filter}:{}}})))))}}finally{(yield Vr())&&i.close()}}function*VC(e=[]){const[t,n]=yield[F(function*(){try{if(!e||e.length===0)return;for(;;){const i=yield F(WC,e);yield V(({type:o,payload:s})=>o===$.START_ACTIVITY&&s.events.some(c=>c.name===Qt.PAGE_VIEW)),yield rt(i)}}catch{}}),F(ar,au,function*({payload:i}){try{(yield E(Li))||(yield V(U.INITIALIZE));const s=yield E(ke,Fe,Ur);yield E(gs,{properties:{},events:i,trigger:!0,groupId:s??null}),(yield v(uf))&&(yield i.map(l=>{const u=BC({...l,name:l.name.replace("appcues_custom:","")});return g(Ue(u.id,u))}))}catch{}})];t.isRunning()||n.cancel()}function Wu({attributes:e}){return e?!!e._builderButtonEvent:!1}function GC(e){const t=Wu(e),n=pd.some(i=>e?.id?.startsWith(i)),r=e?.source===$u;return!t&&!n&&!r}function jC(e){return`${e.name} (Appcues)`}function qC(e,t){return{...e,user:t}}function Cs(e,t,n,r,i){e(t,"event",n,r,i,{nonInteraction:!0})}function KC(e,t={}){switch(e){case"Form Field Submitted (Appcues)":{const{user:n,interaction:r,interaction:{category:i,destination:o,formId:s,fieldId:c,label:l,value:u}={},...d}=t;return{...d,category:i,destination:o,formId:s,fieldId:c,label:l,value:u}}case"Form Submitted (Appcues)":case"Step Interacted (Appcues)":default:return t}}function YC(e){if(!e.user)return e;const t=Object.entries(e.user).reduce((n,[r,i])=>{if(r.startsWith("_")){const o=r.slice(1);n[o]=i}else n[r]=i;return n},{});return{...e,user:t}}const Vu=e=>{const t=new Set(["string","boolean","number"]);return Array.isArray(e)?e.every(n=>t.has(typeof n)):t.has(typeof e)};function zC(e){const{user:t,...n}=e,r=Object.entries(n).reduce((o,[s,c])=>(Vu(c)&&(o[s]=c),o),{});if(!t)return r;const i=Object.entries(t).reduce((o,[s,c])=>(Vu(c)&&(o[`user.${s}`]=c),o),{});return{...r,...i}}function XC(e,t){const{settings:n}=t(),r=i=>()=>{e.on("all",(o,s)=>{if(GC(s))return;const c=jC(s),l=Wu(s)?s.name:o;try{if(l&&c){const u=qC(s,t().user);i(l,c,u)}}catch{}})};return{initMixpanel:r((i,o,s)=>{window.mixpanel.track(o,s)}),initHeap:r((i,o,s)=>{const c=KC(o,s);window.heap.addUserProperties({appcuesUserID:be(t()).userId}),window.heap.track(o,c,"appcues")}),initIntercom:r((i,o,s)=>{window.Intercom("trackEvent",o,s)}),initCIO:r((i,o,s)=>{window._cio.track(o,s)}),initVero:r((i,o,s)=>{window._veroq.push(["track",o,s])}),initWoopra:r((i,o,s)=>{window.woopra.track(o,s)}),initAmplitude:r((i,o,s)=>{window.amplitude.logEvent(o,s)}),initKlaviyo:r((i,o,s)=>{window._learnq.push(["track",o,s])}),initTD:r((i,o,s)=>{window.td.trackEvent(o,s)}),initLl:r((i,o,s)=>{window.ll("tagEvent",o,s)}),initCalq:r((i,o,s)=>{window.calq.action.track(o,s)}),initKM:r((i,o,s)=>{window._kmq.push(["record",o,s])}),initGA:r((i,o,s)=>{const{flowId:c,checklistId:l,name:u}=s,d=c||l||u,f="appcues";let p="";try{p=n.integrations.ga.trackerName||""}catch{}if(d){const y=window[window.GoogleAnalyticsObject];ne.function(y)?y(h=>{if(p)Cs(y,`${p}.send`,f,i,d);else if(h)Cs(y,"send",f,i,d);else{const m=y.getAll().reduce((T,_)=>({...T,[_.get("trackingId")]:_.get("name")}),{});Object.keys(m).forEach(T=>{Cs(y,`${m[T]}.send`,f,i,d)})}}):window._gaq?window._gaq.push(["_trackEvent",f,i,d,void 0,!0]):window.gtag&&(s.checklistName?window.gtag("event",o,{appcues_event_id:i,appcues_checklist_id:s.checklistId,appcues_checklist_name:s.checklistName}):window.gtag("event",o,{appcues_event_id:i,appcues_flow_id:d,appcues_flow_name:s.flowName}))}}),initGTM:r((i,o,s)=>{window.dataLayer.push({event:o,appcues_event_id:i,appcues_flow_id:s.flowId,appcues_flow_name:s.flowName})}),initSegment:r((i,o,s)=>{window.analytics.track(o,s,{integrations:{Appcues:!1}})}),initRudderstack:r((i,o,{id:s,timestamp:c,...l})=>{window.rudderanalytics.track(o,l,{integrations:{Appcues:!1}})}),initBraze:r((i,o,s)=>{window.braze.logCustomEvent(o,s)}),initFullStory:r((i,o,s)=>{const c=YC(s);window.FS.event(o,c)}),initHotjar:r((i,o)=>{window.hj("event",o)}),initLogRocket:r((i,o,s)=>{const c=zC(s);window.LogRocket.track(o,c)})}}function Gu(e,t){const n={...t,url:e};return Vt(Qt.PAGE_VIEW,n)}function JC({dispatch:e,getState:t}){const n={identify(i,o={}){let s=i,c=o;if(!ne.object(c)){c={};try{Lt(t())(new Error("Appcues.identify() called with invalid user properties"))}catch{}}ne.object(s)?(c=s,s=c.userId||be(t()).userId||null):(ne.undefined(s)||s===null)&&(s=c.userId||be(t()).userId||null),delete c.userId,ne.defined(s)?e(Qn(s,c,[Gu(window.location.href)])):e(Sr(c,!0))},track(i,o={}){i&&e(we({},[Vt(i,o)],!0))},page(i,o={}){let s=o;ne.object(i)?s=i:ne.string(i)&&(s={...s,name:i}),e(we({},[Gu(window.location.href,s)],!0))},anonymous(){e(Xh())},show(i){e(yr(i))},clearShow(){e(tS())},on(i,o,s){e(xl(i,o,s))},off(i,o,s){e(Pl(i,o,s))},once(i,o,s){const c=function(...u){o.apply(this,u),e(Pl(i,c,s))};e(xl(i,c,s))},reset(){e(em())},debug(i=!0){e(i?tm():lu())},loadLaunchpad(i,o){e(iS({selector:i,...o}))},group(i,o){let s=i,c=o;if(!ne.object(c)){c={};try{Lt(t())(new Error("Appcues.group() called with invalid group properties"))}catch{}}ne.object(s)&&(c=s),(ne.object(s)||s==null||s==="")&&(s=c.groupId||be(t()).groupId||null),delete c.groupId,s==null&&(c={}),e(om(s,c))}};Object.assign(n,{user(i=!0){if(i)return new Promise(s=>{e(hm(s))});const o=be(t());try{return JSON.parse(JSON.stringify(o))}catch{return o}},settings(){return{...t().settings}},content(){const i=t();return{content:{...i.content},orderedContent:[...i.orderedContent],currentContent:{...i.currentContent,...ye(i)}}}});const r=XC(n,t);return Object.assign(n,r),Object.assign(n,{start(){n.page()},experience:{pause:i=>e(nT(i)),resume:i=>e(rT(i)),show:i=>e(as([i]))}}),n}const ju="https://studio.appcues.com",QC=e=>{switch(e.type){case z.MODAL:switch(e.attributes.pattern_type){case"shorty":return"Slideout Group";case"fullscreen":return"Full Screen Modal Group";case"left":return"Sidebar Group";case"flow":default:return"Modal Group"}case z.HOTSPOTS:return e.attributes.sequential?"Tooltip Group":"Hotspot Group";case z.ACTION:return e.attributes.action_type===mt.WAIT_FOR_PAGE?"Wait For Matching Page":null;default:return null}};function ZC(e){return!!(e&&e.attributes&&e.attributes.params&&e.attributes.params.url)}function e_(e){return!!(e&&e.type===z.ACTION&&e.attributes.action_type===mt.WAIT_FOR_PAGE)}const qu=(e,t,n)=>{const r=ot(e||{},t),i=rn(r,n);return a.html("div",null,a.html("div",null,`${(e||{}).name}, Step ${Un(e,t)+1} (${QC(r||{})})${i>-1?`, Part ${i+1}`:""}`),e_(r)&&ZC(r)?a.html("div",null,`Page to match: ${r.attributes.params.url}`):"")};function t_(e){const{lastTrackedPage:t,currentPage:n,currentContent:r,currentFlow:i,currentContentStatus:o,currentStepId:s,currentStepChildId:c,stepChildErrors:l,user:u,group:d,settings:f,isTransportInitialized:p,rowState:y,onToggleRowDetails:h,onToggleCollapsed:m,onCloseDebugger:T}=e,_=t&&n,S=t===n,A=u&&ne.defined(u.userId),I=d&&ne.defined(d.groupId),C=Object.keys(l||{}).reduce((L,H)=>{const R=l[H];return R.errorReported&&!R.recoveryReported?[...L,{...R,stepChildId:H}]:L},[]),O=f.accountId&&u.userId;return a.html("debugger",null,a.html("div",{"class-header":!0,"on-click":m},a.html("div",{"class-logo":!0},a.html("a",{"attrs-href":ju,"attrs-target":"_blank"},a.html(ra,{width:"20px",height:"20px"}))),a.html("div",{"class-title":!0},"Appcues Status"),a.html("div",{"class-version":!0},f.VERSION?`SDK Version: ${f.VERSION}`:"SDK Version Pending"),a.html("div",{"class-close-button":!0},a.html("a",{"on-click":T,role:"button","aria-label":"Close debugger"},""))),a.html("div",{"class-panel":!0},a.html(In,{status:f&&f.accountId?"check":"alert",category:"Installed",description:`Account ID: ${f&&f.accountId?f.accountId:"Unknown"}`}),a.html(In,{status:p?"check":"alert",category:`${p?"":"Not "}Connected to Appcues`}),a.html(In,{status:_?S?"check":"alert":"pending",category:"Tracking Pages",description:_?S?"Current URL matches last tracked":"URL has changed since last tracked":"Navigate to another page to test",showDetails:(y||{})["track-data"],onToggleRowDetails:()=>h("track-data"),details:a.html("span",null,a.html("b",null,"Last Tracked URL:"),a.html("br",null),t,a.html("br",null),a.html("br",null),a.html("b",null,"Current URL:"),a.html("br",null),n)}),a.html(In,{status:A?"check":"alert",category:`User ${A?"":"Not "}Identified`,description:A?u._isAnonymous?"Anonymous User":`User ID: ${u.userId}`:"Have you called `identify`?",showDetails:(y||{})["user-data"],onToggleRowDetails:()=>h("user-data"),details:A?a.html(Ku,{user:u}):a.html("span",null,"Please identify the current user by providing a userId and tracked properties")}),I?a.html(In,{status:"check",category:"Group Identified",description:`Group ID: ${d.groupId}`,showDetails:(y||{})["group-data"],onToggleRowDetails:()=>h("group-data"),details:a.html(Ku,{user:d.groupProps})}):a.html(le,null),r?a.html(In,{status:o==="SHOWING"?"check":"pending",category:"Showing Flow",description:i.name,showDetails:(y||{})["flow-details"],onToggleRowDetails:()=>h("flow-details"),details:qu(i,s,c)}):a.html(le,null),C.length>0?a.html(In,{status:"warn",category:"Content Omitted",description:"Some content isn't showing",showDetails:(y||{})["omit-content"],onToggleRowDetails:()=>h("omit-content"),details:a.html("div",null,"Some of the content this user is eligible for isn't showing. If there are dynamic elements on your page, this may be expected. Otherwise, please double-check your selectors.",a.html("ul",null,C.map(L=>{const{stepChildId:H,flow:R}=L,j=bc(Pn(R),H)||{};return a.html("li",null,qu(R,j.id,H))})))}):a.html(le,null)),a.html("div",{"class-footer":!0},a.html("a",{href:`${ju}/diagnostics?view_as=${f.accountId}&context=${window.btoa(JSON.stringify({userId:u.userId,url:t}))}`,classNames:O?"":"disabled",target:"_blank",rel:"noreferrer"},a.html("div",{"class-launch-diagnostics":!0},O?"View Flow Eligibility for User":"Identify User to View Flow Eligibility"))))}function In({status:e,active:t,category:n,description:r,details:i,showDetails:o,onToggleRowDetails:s}){return a.html("div",{classNames:`row ${t?"active":""}`},a.html("div",{classNames:`category-container ${e}`},a.html("div",{"class-icon":!0}),a.html("div",{"class-name":!0},n),r?a.html("div",{"class-description":!0},r):a.html(le,null),i?a.html("div",{classNames:`toggle-details ${o?"open":"closed"}`,"on-click":s},"DETAILS"):a.html(le,null)),o?a.html("div",{"class-details":!0},i):a.html(le,null))}function Ku({user:e}){const t=/^_.*/,n=Object.keys(e).map(i=>({name:i,value:e[i]})),r=(i,o)=>{if(!t.test(i.name)||!t.test(o.name)){if(t.test(i.name))return-1;if(t.test(o.name))return 1}else return i.name.toLowerCase()<o.name.toLowerCase()?-1:1;return 0};return a.html("table",null,a.html("thead",null,a.html("tr",null,a.html("th",null,"Property"),a.html("th",null,"Value"))),a.html("tbody",null,n.sort(r).map(i=>a.html("tr",null,a.html("td",null,i.name),a.html("td",null,JSON.stringify(i.value))))))}const n_="/generic/main/7.7.0/debugger.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",r_="ahFr2ozGgr3TQI5KHlN9wZPypwaSYoQUyVsCyMv8vgg=",i_=Pt(n_),_s=Vn([Kn,qn,Gn,jn,Yn],ei.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let An=null;const o_=e=>{const t=dr(e)||{},n=Xr(e);return Object.keys(n||{}).reduce((r,i)=>{const o=nf(t,i);return o?{...r,[i]:{...n[i],flow:o}}:r},{})},s_=(e,t)=>a.html(t_,{lastTrackedPage:Dc(e),currentPage:Pc(e),currentContent:ye(e),currentFlow:ze(e),currentStepId:se(e),currentStepChildId:st(e),currentContentStatus:Be(e),stepChildErrors:o_(e),user:be(e),group:lf(e),settings:ff(e),isTransportInitialized:Lc(e),rowState:_f(e),onToggleRowDetails:t.onToggleRowDetails,onToggleCollapsed:t.onToggleCollapsed,onCloseDebugger:t.onCloseDebugger});function c_(e){if(mr(document)){const t=e.views.callbacks[z.DEBUGGER],n=xc(e),r=n&&n.isCollapsed;if(!An){const i=document.createElement("appcues-debugger");document.body.appendChild(i),An=_s(i,a.html("appcues-debugger",null))}Bn(e)&&t?An=_s(An,a.html("appcues-debugger",{classNames:r?"collapsed":"expanded"},a.html("iframe",{"style-border":"none","style-height":"450px","style-width":"600px",scrolling:"no","style-color-scheme":"none"},a.html("link",{"attrs-href":i_,"attrs-type":"text/css","attrs-rel":"stylesheet","attrs-integrity":r_,"attrs-crossorigin":"anonymous"}),s_(e,t)))):An&&(An=_s(An,a.html("div",null)))}}const l_="https://docs.appcues.com/user-experiences-faq/faq-test-mode",a_=e=>{const{testModeCallbacks:t}=e;return a.html("div",{"class-banner-wrapper":!0},a.html("div",{"class-banner-background":!0},a.html("div",{"class-banner-content":!0},a.html("span",{"class-banner-header":!0},"Appcues Test Mode"),a.html("a",{href:l_,"class-clickable":!0,"class-doc-link":!0,target:"_blank",rel:"noreferrer"},"Learn More")),a.html("div",{"class-banner-content":!0},a.html("div",{"class-restart":!0,"class-clickable":!0,"on-click":t.onResetClicked},"Restart"),a.html("div",{"class-clickable":!0,"on-click":t.onCancelClicked},"End Test"))))},u_="/generic/main/7.7.0/test-mode.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",d_="royxrv5ISPWNXk8sIb8ykOuJZkg3+vchIFFlvBuV/2Y=",f_=Pt(u_),Is=Vn([Kn,qn,Gn,jn,Yn],ei.createApi({clean:!0,trustedTypesPolicy:window.trustedTypes?.defaultPolicy}));let vn=null;function p_(e){if(mr(document)){const t=e.views&&e.views.callbacks&&e.views.callbacks[z.TEST_MODE],{_testContentId:n}=e.user||{},r=n,i=e.test&&e.test.cssLoaded;if(!vn){const o=document.createElement("appcues-test-banner");document.body.appendChild(o),vn=Is(o,a.html("appcues-test-banner",null))}r&&t?vn=Is(vn,a.html("div",{"class-appcues":!0},a.html("appcues-test-banner",{style:{display:"flex",justifyContent:"center"}},a.html("iframe",{style:{height:"50px",width:"595px",position:"fixed",bottom:"0",border:"0"}},a.html("link",{"attrs-href":f_,"attrs-integrity":d_,"attrs-crossorigin":"anonymous","attrs-type":"text/css","attrs-rel":"stylesheet","on-load":t.onCssLoaded}),i?a.html(a_,{testModeCallbacks:t}):a.html(le,null))))):vn&&(vn=Is(vn,a.html("div",null)))}}function h_(e){return{onToggleRowDetails(t){e(JS(t))},onToggleCollapsed(){e(QS())},onCloseDebugger(){e(lu())}}}function*m_(){if((yield v(Mn))===z.MODAL&&(yield v(Be))===Q.STARTED){const e=yield v(Xe);(yield E(bu,e))&&(yield g(Fa(document.activeElement)),yield g(my()))}}function*E_(){yield F(te,$.START_CONTENT,m_)}function*As(e,t){yield E(CT,t),yield g(ce(pt(q.CHILD_RUN,e,t))),yield g(by([t]))}function*g_(){if((yield v(Mn))===z.HOTSPOTS&&(yield v(Be))===Q.STARTED){const e=yield v(ye),t=nn(e);t.length>0?(yield E(bu,t))&&(yield g(Fa(document.activeElement)),yield g(Ay()),yield g(Oy()),Dn(e)&&(yield*As(e.id,t[0].id))):yield E(hs,new Error("Trying to show an empty list of hotspots."))}}function*y_({payload:e}){if((yield v(Mn))===z.HOTSPOTS){const n=(yield v(Xe)).reduce((r,i)=>{let o=e[i.id];if(!o.error){const{viewport:s,fixed:c,zIndex:l,element:u,boundingRect:d,relativeBoundingRect:f,padding:p,iframeParent:y}=o,{left:h,top:m,right:T,bottom:_}=d,S=f.left,A=f.top,I=i.offset_x_percentage*(T-h),C=i.offset_y_percentage*(_-m),{scrollX:O,scrollY:L}=y?window:{scrollX:0,scrollY:0};o={x:h+I+(p?.left||0)+O,y:m+C+(p?.top||0)+L,fixed:c,zIndex:l,element:u,boundingRect:d,elementBoundingRect:u.getBoundingClientRect(),isElementVisible:rh({xOffset:i.offset_x_percentage,yOffset:i.offset_y_percentage,element:u}),...Kp(S+I,A+C,s.width,s.height)}}return r[i.id]=o,r},{});yield g(ky(n)),yield E(ST)}}function*S_(){yield E(ve,1e4);const e=yield*qt();e&&(delete e.navByADTT,yield*Mt(e))}function*Yu({payload:e}){(yield v($n)).length>0&&(yield Ge({continue:V(r=>r.type===he.REMOVE_ACTIVE_ANNOTATIONS&&r.payload[0]===e.childId),cancel:V(r=>r.type===ae.CANCEL_STEP&&r.payload.stepId===e.stepId)})).cancel||(yield g(ce(Te(q.STEP_END,e.stepId,e.params))))}function*T_(e){const{contentType:t,step:n,childId:r,nextChildId:i,shouldEndFlow:o}=e.payload;if(t===z.SEQUENTIAL_HOTSPOTS)if(yield g(rs([r])),yield g(ce(pt(q.CHILD_DEACTIVATED,n.id,r,{ts:Date.now()}))),i)yield*As(n.id,i);else{if(yield g(ce(Te(q.STEP_COMPLETED,n.id,{shouldEndFlow:o}))),vc(n,rn(n,r))){const s=yield*qt();yield*Mt({...s,navByADTT:!0}),yield F(S_)}yield E(Yu,Ti(n.id,r,{shouldEndFlow:o}))}}function*zu({stepId:e,currentStepChildId:t,nextStepChildId:n}){yield g(rs([t])),yield g(ce(pt(q.CHILD_DEACTIVATED,e,t,{ts:Date.now()}))),yield g(ts({stepChildId:t})),yield g(ts({stepChildId:n})),yield g(ce(pt(q.CHILD_ACTIVATED,e,n,{ts:Date.now()}))),yield*As(e,n)}function*C_(e){const{step:t,stepChildId:n}=e.payload,r=yield v(fo,n);r&&(yield E(zu,{stepId:t,currentStepChildId:n,nextStepChildId:r}))}function*__(e){const{stepId:t,currentStepChildId:n,nextStepChildIndex:r}=e.payload,i=yield v(zr,r);if(!i||n===i)return;yield(yield v(Tf,n,i)).map(s=>g(ts({stepChildId:s}))),yield E(zu,{stepId:t,currentStepChildId:n,nextStepChildId:i})}function*I_(){yield[F(te,$.START_CONTENT,g_),F(te,he.START_HANDLE_POSITION_UPDATES,y_),F(te,ae.ADVANCE_STEP_CHILD,T_),F(te,Wt.CLOSE_LAST_HOTSPOT,Yu),F(te,ae.RUN_PREV_STEP_CHILD,C_),F(te,he.GO_TO_STEP,__)]}function*A_(){for(;;){const e=window.location.href;(yield v(Pc))!==e&&(yield g(ZS(e))),yield E(eo,1e3)}}function*v_(e){let t=null;if(e.payload.events.forEach(n=>{n.name===Qt.PAGE_VIEW&&(t=n)}),t){const n=t.attributes.url,r=yield v(Dc);n!==r&&(yield g(cu(n)),yield E(He,"localStorage",Fs,n))}}function*b_(e){if(e.error){const n=(e.payload&&e.payload.extra?e.payload.extra.id:null)||(yield v(se));yield g(eT(n,e.payload.message))}}function*w_(e){const t=Object.keys(e.payload).filter(n=>e.payload[n].error);if(t.length>0){const n=yield v(se);for(const r of t)yield g(tT(n,r,e.payload[r].errorMessage))}}function*N_(){for(;;){(yield E(ke,"localStorage",$i))||(yield V($.START_DEBUG)),yield E(He,"localStorage",$i,!0);const t=yield E(ke,"localStorage",Fs);yield g(cu(t));const n=yield dt(A_),r=yield F(te,[$.START_ACTIVITY,$.START_IDENTIFY],v_),i=yield F(te,U.WILL_SHOW_CONTENT,b_),o=yield F(te,he.SET_ANNOTATIONS_POSITIONS,w_);yield V(qe.CLOSE_DEBUGGER),yield rt(n),yield rt(r),yield rt(i),yield rt(o),yield E(Me,"localStorage",$i)}}function*O_(){yield F(N_)}function*k_({payload:e}){switch(yield g(ce(Te(q.STEP_SHOWN,e.id))),e.attributes.action_type){case mt.REDIRECT:{const t=window.location.href,{url:n,new_tab:r,initiated_by_user:i}=e.attributes.params;if(i)return;if(Tt(n,t))yield g(ce(Te(q.STEP_COMPLETED,e.id))),yield g(ce(Te(q.STEP_END,e.id)));else{yield Ge({wait:V(U.SENT_ACTIVITY_UPDATE),cancel:E(ve,1500)});const o=yield v(sn);yield Ge({wait:E(Ri,o),cancel:E(ve,Yi)}),yield E(Gt,window,n,r)}break}default:yield g(Zn(new Error("Unknown step type.")))}}function*R_({payload:{action:e,status:t}}){switch(e.attributes.action_type){case mt.WAIT_FOR_PAGE:{const n=window.location.href,{url:r}=e.attributes.params,i=yield*qt(),o=yield v(lo),s=Tt(r,o.url),c=Tt(o.url,n),l=t===q.STEP_SHOWN||s&&c,u=t===q.STEP_ATTEMPTED&&i&&i.remainingPagesToCheck!==Gi;l||u&&Tt(r,n)?(yield g(ce(Te(q.STEP_COMPLETED,e.id))),yield g(ce(Te(q.STEP_END,e.id)))):yield g(ce(Te(q.STEP_ATTEMPTED,e.id)));break}case mt.REDIRECT:{let n=[Te(q.STEP_SHOWN,e.id),Te(q.STEP_COMPLETED,e.id),Te(q.STEP_END,e.id)].filter(r=>t!==r.type);t===q.STEP_ATTEMPTED&&(n=[Te(q.STEP_ATTEMPTED,e.id),...n]);for(const r of n)yield g(ce(r));break}default:yield g(Zn(new Error("Unknown step type.")))}}function*Xu(e,t){const n=window.location.href;Tt(e,n)?t&&(yield E(t)):(yield E(ve,500),yield E(Xu,e,t))}function*L_({payload:{action:e,checklistId:t,itemId:n,actionIndex:r}}){switch(e.attributes.action_type){case mt.REDIRECT:{const i=window.location.href,{url:o,new_tab:s}=e.attributes.params;if(Tt(o,i))yield g(is(t,n,r));else{const c=yield v(sn);yield Ge({wait:at([E(Ri,c),E(Ri,t)]),cancel:E(ve,Yi)});const l=yield v(ln,t);yield E(He,Ie,Mr,JSON.stringify({checklistId:t,itemId:n,actionIndex:r,checklist:l})),yield E(Gt,window,o,s),yield E(Xu,o,function*(){yield g(is(t,n,r)),yield E(Me,Ie,Mr)})}break}case mt.SHOW_FLOW:{const{flowId:i}=e.attributes.params;i&&(yield g(yr(i))),yield g(is(t,n,r));break}default:{const i=new Error("Checklist action has an invalid action_type.");i.extra={action:e,checklistId:t,itemId:n,actionIndex:r},yield g(Ja(i))}}}function*x_(){yield[F(te,U.RUN_ACTION,k_),F(te,U.RESUME_ACTION,R_),F(te,re.START_CHECKLIST_ACTION,L_)]}const P_=500,D_=5e3;function*F_(){(yield v(Mn))===z.SATISFACTION_SURVEY&&(yield v(Be))===Q.STARTED&&(yield g(My()))}function*U_(e){const{score:t}=e.payload,n=yield v(ze),r=yield v(It),o=ft(n,r,{score:t,name:"NPS Score",id:"nps_score"});yield g(Ue(o.flowId,o)),yield g(we({[`${wn}MostRecentNPSScore`]:t,[`${wn}NPSLastCollectedAt`]:Date.now()},[Ve(o)],!1))}function*H_(e){const{feedback:t}=e.payload,n=yield v(ze),r=yield v(It),i=ft(n,r,{feedback:t,name:"NPS Feedback",id:"nps_feedback"});yield g(Ue(i.flowId,i)),yield g(we({[`${wn}MostRecentFeedback`]:t,[`${wn}NPSFeedbackLastCollectedAt`]:Date.now()},[Ve(i)],!1))}function*M_(){const e={},t=`${wn}ClickedUpdateNPSScore`;e[t]=Date.now();const n=yield v(ze),r=yield v(It),i=ft(n,r,{clickedUpdateNPSScore:e[t],name:"NPS Clicked Update NPS Score",id:"nps_clicked_update_nps_score"});yield g(Ue(i.flowId,i)),yield g(we(e,[Ve(i)],!1))}function*$_(){const e={},t=`${wn}AskMeLaterSelectedAt`;e[t]=Date.now();const n=yield v(ze),r=yield v(It),i=ft(n,r,{askMeLaterSelectedAt:e[t],name:"NPS Ask Me Later Selected At",id:"nps_ask_me_later_selected_at"});yield g(Ue(i.flowId,i)),yield g(we(e,[Ve(i)],!1))}function*B_(){yield g(Va()),yield eo(P_),yield g(Ga()),yield eo(D_),yield g(ja())}function*W_(){yield[F(te,Ae.QUANTITATIVE_QUESTION_SUBMITTED,U_),F(te,Ae.QUALITATIVE_QUESTION_SUBMITTED,H_),F(te,Ae.ASK_ME_LATER_SELECTED,$_),F(te,Ae.CLICKED_UPDATE_NPS_SCORE,M_),F(te,Ae.START_COLLAPSING_SATISFACTION_SURVEY,B_),F(te,$.START_CONTENT,F_)]}function*vs(e){yield g(gn(e.id,Q.READY)),yield V(r=>r.type===re.LOADED_CHECKLIST_CSS&&e.id);const t=yield v(ye);yield t&&t.type!==z.HOTSPOTS?g(Ya()):g(gn(e.id,Q.SHOWING)),(e.attributes&&e.attributes.progress_state)!==On.COMPLETED&&(yield g(yn(e.id)))}function*V_({payload:e}){const{open_behavior:t}=e;switch(t){case ji.CLOSED:{yield E(vs,e);break}case ji.OPENED:{yield g(za(e));break}case ji.OPEN_ONCE:default:{const n=`${Bi}${e.id}`;ke(Ie,n)?yield E(vs,e):(He(Ie,n,"1"),yield g(za(e)));break}}}function*G_({payload:e}){yield E(vs,e),yield E(ve,1e3),yield g(wr(e.id)),yield g(Za(e))}function*j_(e){const{checklist:t}=e.payload,n=yield v(It),r=SE(t,n);yield g(Ue(t.id,r)),yield g(we(null,[Ve(r)],!1))}function*q_(e){const{checklistId:t,didCompleteChecklist:n}=e.payload,r=yield v(It),i=yield v(ln,t);yield g(gn(i.id,Q.DISMISSED));const o=n?_E(i,r):CE(i,r);yield g(Ue(o.checklistId,o)),yield g(we({},[Ve(o)],!1))}function*K_(){const{userId:e}=yield v(be);yield g(Qn(e,{_showChecklist:null}))}function*Y_(e){const{checklistId:t,itemId:n,actionIndex:r}=e.payload;yield g(yn(t));const i=yield v(It);let o,s;if(o=yield v(ln,t),s=yield v(vf,t,n),s||(o=e.payload.checklist,s=yield E(it,o.attributes.items,({id:c})=>c===n)),r===0){try{const l=s.conditions?.and[0]?.properties,u=`_checklist_item_${n}_completed`;s.state==="incomplete"&&l?.property===u&&l?.value==="true"&&(yield g(we({[`_checklist_item_${n}_completed`]:!0},[],!0)))}catch{}const c=AE(o,s,i);yield g(Ue(c.checklistId,c)),yield g(we({},[Ve(c)],!1))}for(let c=r;c<s.actions.length;c++)yield g(Qy(s.actions[c],t,n,c)),yield V(({type:l,payload:u})=>l===re.COMPLETED_CHECKLIST_ACTION&&u.itemId===n)}function*z_(){const e=yield v(cn);e.length>0&&(yield at(e.filter(t=>Vi.includes(t.status)).map(t=>g(gn(t.id,Q.HIDING)))))}function*X_(){const e=yield v(ho,Q.HIDING);e.length>0&&(yield at(e.map(t=>g(gn(t.id,Q.READY)))),yield g(gn(e[0].id,Q.SHOWING)),e[0].shouldTryExpandChecklist&&(yield g(wr(e[0].id)),yield g(Xa(e[0].id,!1))))}function*J_(){yield[F(te,re.START_CHECKLIST,V_),F(te,re.HIDE_CHECKLISTS,z_),F(te,re.UNHIDE_CHECKLISTS,X_),F(te,re.ANIMATE_IN_CHECKLIST,G_),F(te,re.CONFIRM_DISMISS_CHECKLIST,q_),F(et,re.START_CHECKLIST_ITEM,Y_),F(et,re.CLEAR_FORCE_SHOWN_CHECKLIST,K_),F(te,re.SEND_CHECKLIST_SHOWN_EVENT,j_)]}function*Q_({payload:e}){const{type:t,event:n}=e,r=yield v(It),i={...n,sessionId:r};yield g(Ue(t,i))}function*Z_(){yield[F(te,$.START_OPEN_BUILDER_EVENT,Q_)]}function eI(){const e=ke(Ie,Xt);let t;if(e)try{t=JSON.parse(e)}catch{return{}}if(t){const{_testContentId:n,_testContentUrl:r,...i}=t;return Me(Ie,Xt),Me(Ie,Wi),He(Ie,Xt,JSON.stringify(i)),{_testContentId:null}}return{}}function tI(){const e=ke(Ie,Xt);let t;if(e)try{t=JSON.parse(e)}catch{return window.location.href}if(t){const{_testContentUrl:n}=t;return n}return window.location.href}function*nI(){const e=eI();yield g(Sr(e,!0)),yield E(gs,e,[],!1);const t=_n(window.location.href,"appcuesTestContentId");yield E(Gt,window,t)}function*rI(){const e=tI();yield E(Gt,window,e)}function*iI(){yield[F(te,Jn.CANCEL_TEST,nI),F(te,Jn.RESET_TEST,rI)]}function*oI(e){if(e.checklists&&e.checklists.length>0){const t=yield v(It),n=[],i=((yield v(cn))||[]).reduce((d,f)=>({...d,[f.id]:f}),{}),o=e.checklists.map(({checklist:d,state:f})=>{if(f.status===On.DISMISSED)return{checklist:d};const p=i[d.id];if(f.changed&&(f.status===On.COMPLETED||f.status===On.SHOWN_MANUALLY&&f.items.every(T=>T.is_completed))){const T=TE(d,t);n.push({checklistId:d.id,event:T})}const y=p&&p.attributes&&p.attributes.progress_state;let h=p&&p.status;if(f.status===On.SHOWN_MANUALLY&&y!==On.SHOWN_MANUALLY){const T=IE(d,t);n.push({checklistId:d.id,event:T}),h=null}const m=(d.items||[]).map((T,_)=>{const S=f.items[_];if(S.is_completed&&S.changed){const C=vE(d,T,t);n.push({checklistId:d.id,event:C})}const A=S.is_completed?"complete":"incomplete",I=S.changed?S.is_completed?"incomplete":"complete":A;return{...T,prev_state:I,state:A}});return{...d,status:h,progress_state:f.status,items:m}});for(const d of n)yield(yield v(bf,d.checklistId))===Q.HIDING?g(Xa(d.checklistId,!0)):g(wr(d.checklistId)),yield g(Ue(d.checklistId,d.event)),yield g(we({},[Ve(d.event)],!1));yield g(Ka(o));let s=e.contents;if(e.content&&e.content.length>0){const{contents:d}=ms(e.content);s=d}if(s&&s.length>0){const d=s[0].attributes&&s[0].attributes.steps,f=it(Object.keys(d||{}),p=>d[p].index===0);d&&d[f]&&d[f].step_type&&d[f].step_type!==z.HOTSPOTS&&(yield V(re.HIDE_CHECKLISTS))}const c=yield v(cn),l=yield v(ho,Q.SHOWING),u=l[0]&&l[0].attributes&&l[0].attributes.id;if(c.every(d=>d.status===Q.HIDING))return;c.every(d=>!d.status)&&(yield g(qa(o[0]))),u&&u!==o[0].id&&(yield g(gn(u,Q.READY)),o[0]&&o[0].status!==Q.SHOWING&&(yield g(qa(o[0]))))}else yield g(Ka([]))}function*sI(){let e=[],t={};const n=new Map;yield ar(U.SENT_REQUEST,({payload:{requestId:r,pageViewEvent:i}})=>{e=[r,...e],i&&(t={...t,[r]:i?.attributes?.url})}),yield ar([$.START_HANDLE_MESSAGE,$.MESSAGE_TIMEOUT],function*({type:i,payload:o}){const s=i===$.MESSAGE_TIMEOUT?{request_id:o}:o;if(s.type===Xi){const{type:d,status:f="success",...p}=s;yield g(f==="error"?{type:di.LAUNCHPAD_SEARCH_ERROR}:{type:di.LAUNCHPAD_SEARCH_RESPONSE,payload:p})}else i===$.START_HANDLE_MESSAGE&&(yield F(oI,s));const c=yield v(lo),l=s.qualification_reason===Us.EVENT_TRIGGER;(c.url!==window.location.href||!c.complete)&&!l&&(yield V(d=>d.type===U.CHECKED_FOR_INITIAL_CONTENT&&d.payload.url===window.location.href&&d.payload.complete));const u=s.request_id;u&&(n.set(u,s),yield Ge({cancel:V([$.START_HANDLE_MESSAGE,$.MESSAGE_TIMEOUT]),handleMessage:E(function*(){if(e[0]===u)for(;e.length>0;){const[f,...p]=e;e=p;const y=n.get(f)||{};n.delete(f);const{experiences:h=[],experiments:m=[],profile:T,contents:_,content:S,performed_qualification:A}=y;yield g(vm(m)),T&&Object.keys(T).length>0&&(yield g(Sr(T,!0)));let I=_,C=h;if(S&&S.length>0){const{contents:H,experiences:R}=ms(S);I=H,C=R}C.length>0&&window.location.href===t[f]&&!window.document?.documentMode&&(yield g(as(C)));const O=y.qualification_reason===Us.PAGE_VIEW,L=A&&I&&I.length>0;if(O&&L&&window.location.href===t[f]||!O&&L){e=[],n.clear();const H=I.map(j=>j.id),R=I.reduce((j,K)=>(j[K.id]=K,j),{});return yield g(Ho(H,R)),yield g(Nl(window.location.href,l,f))}}})}))})}function cI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){cI(e,i,n[i])})}return e}var aI="appcues:checklist_ready",uI="appcues:checklist_close",bs="appcues:toggle_checklist",ws="appcues:confirm_checklist_ready",dI="appcues:launchpad_close",fI="appcues:launchpad_search",pI="appcues:launchpad_search_error",hI="appcues:launchpad_search_response",Ns=function(e,t){return window.addEventListener(e,t),function(){return window.removeEventListener(e,t)}},mI=function(e){var t=e.name,n=e.id,r=e.totalItems,i=e.completedItems,o=new CustomEvent(aI,{detail:{name:t,id:n,totalItems:r,completedItems:i}});window.dispatchEvent(o)},EI=function(){var e=new CustomEvent(uI);window.dispatchEvent(e)},gI=function(e){return Ns(bs,e)},yI=function(e){return Ns(ws,e)},SI=function(){var e=new CustomEvent(dI);window.dispatchEvent(e)},TI=function(e){return Ns(fI,e)},CI=function(e,t){var n=new CustomEvent("".concat(hI,":").concat(e),{detail:lI({},t)});window.dispatchEvent(n)},Ju=function(e){var t=new CustomEvent("".concat(pI,":").concat(e));window.dispatchEvent(t)};function*Qu(){let e=yield v(ut);return(yield E(tu,e))||(yield E(Ru),e=yield v(ut)),e}let Os=[];const ks=()=>{const[e,...t]=Os;return Os=t,e};function*_I(){(yield E(Li))||(yield V(U.INITIALIZE));const t=yield v(be);ne.defined(t.userId)||(yield V(U.COMPLETED_IDENTIFY));let n=yield E(Qu);const r=lr(i=>(TI(o=>{const{experienceId:s,integrationId:c,query:l}=o.detail;Os.push(s),i({type:Xi,data:{integration_id:c,query:l,experience_id:s}})}),()=>{}));for(n.transport.module.subscribeToError(()=>{const i=ks();Ju(i)},n,xr.UserActivity);;){const{data:i}=yield V(r);n=yield E(Qu),yield E(bS,n,Xi,i)}}function II({payload:e}){const t=ks();CI(t,e)}function AI(){const e=ks();Ju(e)}function*vI(){yield[dt(_I),F(et,di.LAUNCHPAD_SEARCH_RESPONSE,II),F(et,di.LAUNCHPAD_SEARCH_ERROR,AI)]}const Rs={},Zu={},bI=e=>{const{GENERIC_BUNDLE_DOMAIN:t,VERSION:n,RELEASE_ID:r}=window?.AppcuesBundleSettings??{};return`${t}/generic/main/${n}/${e}.${r}.js`},ed=e=>new Promise(t=>{const n=`appcues-${e}`;function r(){Zu[n]=!0,t()}if(Rs[n]){if(Zu[n]){r();return}Rs[n].addEventListener("load",r);return}const i=bI(e),o=window.document.createElement("script");o.type="text/javascript",o.src=i,o.async=!0,o.addEventListener("load",r),o.id=`appcues-${e}`,o.crossOrigin="anonymous",Rs[n]=o,window.document.body.append(o)}),wI="v2",NI=e=>{const t={sendEvent:(n,r)=>{const i=`${wI}:${n}`,o={...r,id:i};e(Kh(i,o)),e(we({},[Ve(o)]))},sendCustomEvent:(n,r)=>{const i={...r,id:n};e(we({},[Vt(n,i)],!0))},updateUserProfile:(n={})=>{Object.keys(n).length!==0&&e(we(n,[],!0))},showFlow({flowId:n,url:r,prefetch:i}){if(i){e({type:U.PREFETCH_FLOWS,payload:n});return}if(!r||Tt(window.location.href,r)){e(yr(n));return}e(Ua(n)),Gt(window,r)}};return window.createAppcues(t)},OI=async()=>(await ed("open-builder"),NI);function*kI(){const e=yield $d("dispatch"),n=(yield E(OI))(e);yield g(_m(n)),yield g(Am())}function*Yt(){const e=yield v(Eo),t=yield v(Pf);return t&&(yield V(({type:n})=>n===U.OPEN_BUILDER_INITIALIZED)),!e&&!t&&(yield g(Im()),yield V(({type:n})=>n===U.OPEN_BUILDER_INITIALIZED)),yield v(Eo)}function*Ls({payload:e}){const t=yield E(Yt);t&&(yield E(t.pause,e))}function*td({payload:e}){const t=yield E(Yt);t&&(yield E(t.resume,e))}function*nd(e,t){yield g(pi(e.id,tt.EXPERIENCES)),!(yield E(Ql,e.id,tt.EXPERIENCES))&&t.show(e)}function xs(e){const t={experiences:[],launchpads:[]};return e.forEach(n=>{const r=n.type==="launchpad"?"launchpads":"experiences";t[r].push(n)}),t}function*RI({payload:e}){const t=yield E(Yt);let n=e;if(n.some(i=>i.type==="launchpad")){yield E(ed,"open-builder-components");const i=yield v(ye);if(!(i?.type===z.HOTSPOTS)&&i){const{experiences:s,launchpads:c}=xs(n);n=s,yield g(wi(c))}}yield at(n.map(i=>E(nd,i,t)))}function*LI(){const e=yield E(Yt);e&&e.stopAll()}function*xI(){const e=yield v(Ff);if(e.length<=0)return;const t=yield E(Yt);yield at(e.map(n=>t.isExperiencePaused(n.id)?E(td,{payload:n.id}):E(nd,n,t))),yield g(wi([]))}function*PI(){const e=yield E(Yt),t=yield E(e.getRunningExperiences),{launchpads:n}=xs(t);n.length<=0||(yield at(n.map(r=>E(Ls,{payload:r.id}))),yield g(wi(n)))}function*DI(){if((yield v(ye)).type===z.HOTSPOTS)return;const n=yield E(Yt),r=yield E(n.getRunningExperiences),{launchpads:i}=xs(r);i.length<=0||(yield at(i.map(o=>E(Ls,{payload:o.id}))),yield g(wi(i)))}function*FI(){yield[F(et,U.INITIALIZE_OPEN_BUILDER,kI),F(te,Je.PAUSE_EXPERIENCE,Ls),F(te,Je.RESUME_EXPERIENCE,td),F(et,Je.SHOW_EXPERIENCES,RI),F(te,$.START_RESET,LI),F(te,Je.UNHIDE_LAUNCHPADS,xI),F(te,Je.HIDE_LAUNCHPADS,PI),F(te,$.PREPARE_CONTENT,DI)]}function*UI(){if(window.AppcuesSettings){let e=window.location.href;const{enableURLDetection:t}=window.AppcuesSettings;for(;t;)window.location.href!==e&&(window.Appcues.page(),e=window.location.href),yield E(ve,500)}}function*HI(){yield[F(UI)]}const rd=b(ui.SET_COLLISION_MODE),MI="launchpad-button-wrapper",$I=(e,t)=>e.checklist?e.checklist.payload[0]:t.payload[0],BI=(e,t)=>(e.experiences?e.experiences.payload:t.payload).find(i=>i.type==="launchpad"),WI=e=>{const n=e.steps[0].traits.filter(c=>c.type==="@appcues/floating").find(c=>c.config?.target?.selector===MI),{xPosition:r,yPosition:i,xOffset:o,yOffset:s}=n.config;return{position:`${i} ${r}`,xOffset:o,yOffset:s}};function*id(e,t){if(!e||!t){yield g(rd({collisionMode:!1,checklist:null}));return}const n=e.styles.position.toLowerCase(),{position:r,xOffset:i,yOffset:o}=WI(t);yield g(rd({collisionMode:n===r,checklist:e,collisionCoordinates:{x:i,y:o}}))}function*VI(){const e=yield Ge({checklist:V(re.UPDATE_CHECKLISTS),experiences:V(Je.SHOW_EXPERIENCES)}),t=yield e.checklist?V(Je.SHOW_EXPERIENCES):V(re.UPDATE_CHECKLISTS),n=$I(e,t),r=BI(e,t);yield E(id,n,r)}function*GI({payload:{checklistId:e,forceClose:t}}){const n=yield v(ln,e);if(t){yield g(yn(e));return}const r=n.viewState===$t.EXPANDED;r||(yield E(SI)),yield g(r?yn(e):wr(e))}function*od({payload:{collisionMode:e,checklist:t}}){if(!e){yield E(EI);return}const n=t.items.filter(i=>i.state==="complete").length,r=yield Ge({received:at([V(ws),E(mI,{name:t.text_tokens.beacon_text,id:t.id,totalItems:t.items.length,completedItems:n})]),cancel:E(ve,100)});Object.prototype.hasOwnProperty.call(r,"cancel")&&(yield E(od,{payload:{collisionMode:e,checklist:t}}))}function*jI(){const e=lr(t=>(gI(n=>{t({type:bs,payload:{checklistId:n.detail.checklistId,forceClose:n.detail.forceClose}})}),yI(()=>{t({type:ws})}),()=>{}));for(;;){const t=yield V(e);yield g(t)}}function*qI(){for(yield V(ui.SET_COLLISION_MODE);;){const{payload:[e]}=yield V(re.UPDATE_CHECKLISTS),t=yield E(Yt);if(!t)return;let n=null,r=0;const i=10;for(;!n&&r<=i;)yield ve(100),n=t.getRunningExperiences().find(s=>s.type==="launchpad"),r+=1;n&&(yield E(id,e,n))}}function*KI(){yield[F(jI),F(qI),F(VI),F(ar,bs,GI),F(ar,ui.SET_COLLISION_MODE,od)]}const YI="/generic/main/7.7.0/container.76c21c6d771fd87653c0857b9e3a27556fd516e7.css",zI="oAzWkIGu2eINiA7AHWZtghnvS5DuvILEICBpL1HdPkY=";window.performance&&window.performance.mark&&window.performance.mark("apc-init"),MS();const Nt=window.AppcuesBundleSettings;[...document.documentElement.querySelectorAll("link")].forEach(e=>{/\/appcues(\.min|\.debug)?\.css$/.test(e.href)&&e.parentElement&&e.parentElement.removeChild(e)});const nr=document.createElement("link");nr.setAttribute("rel","stylesheet"),nr.setAttribute("type","text/css"),nr.setAttribute("integrity",zI),nr.setAttribute("crossorigin","anonymous"),nr.setAttribute("href",Pt(YI)),document.head.appendChild(nr);const Ps=window[Ui];ne.object(Ps)&&ne.defined(Ps.gaTracker)&&Nt.integrations.ga&&(Nt.integrations.ga.trackerName=Ps.gaTracker);let Ds=null;const sd=document.documentElement.querySelector('script[src*="fast.appcues"]');sd&&(Ds=sd.getAttribute("data-user-id"));const bn=lS({settings:Nt,sagas:[DC,jT,E_,vT,I_,W_,x_,J_,Z_,iI,O_,sI,cT,vI,FI,OE,HI,cC,KI,function*(){yield F(VC,Nt.events)}],onStateChange:e=>{c_(e),p_(e)}});bn.dispatch(Ll({[z.DEBUGGER]:h_(bn.dispatch,bn.getState)})),bn.dispatch(Gh(Nt,zS(bn),HS,XS(Nt,bn.getState)));const Pi=JC(bn);Nt&&Nt.integrations&&Object.keys(Nt.integrations).forEach(e=>{if(Nt.integrations[e].isEnabled){const t=Pi[`init${{mixpanel:"Mixpanel",heap:"Heap",intercom:"Intercom",customerio:"CIO",vero:"Vero",woopra:"Woopra",amplitude:"Amplitude",klaviyo:"Klaviyo",calq:"Calq",localytics:"Ll",segment:"Segment",rudderstack:"Rudderstack",braze:"Braze",treasuredata:"TD",kissmetrics:"KM",ga:"GA",gtm:"GTM",fullstory:"FullStory",hotjar:"Hotjar",logrocket:"LogRocket"}[e]}`];t&&t()}}),/hey_appcues/i.test(window.location.search)&&Pi.debug(),Ds!==null&&Pi.identify(Ds);const cd=window.AppcuesBundleSettings;let Dr;if(window.Appcues&&!window.Appcues.SNIPPET_VERSION)Dr=window.Appcues;else if(window.requestAnimationFrame&&window.WebSocket&&cd.accountId&&/^\d+$/.test(cd.accountId))window.Appcues=Pi,Dr=window.Appcues;else{const e=()=>{};Dr={},Ed.forEach(t=>{Dr[t]=e})}return Dr})();
