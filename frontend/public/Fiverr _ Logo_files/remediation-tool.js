var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__pow=Math.pow,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__spreadValues=(e,t)=>{for(var r in t||(t={}))__hasOwnProp.call(t,r)&&__defNormalProp(e,r,t[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(t))__propIsEnum.call(t,r)&&__defNormalProp(e,r,t[r]);return e},__spreadProps=(e,t)=>__defProps(e,__getOwnPropDescs(t)),__objRest=(e,t)=>{var r={};for(var n in e)__hasOwnProp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&__getOwnPropSymbols)for(var n of __getOwnPropSymbols(e))t.indexOf(n)<0&&__propIsEnum.call(e,n)&&(r[n]=e[n]);return r},__async=(e,t,r)=>new Promise(((n,o)=>{var i=e=>{try{l(r.next(e))}catch(t){o(t)}},a=e=>{try{l(r.throw(e))}catch(t){o(t)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,a);l((r=r.apply(e,t)).next())}));!function(){"use strict";const e=[{src:"wave.min.js",name:"Wave"},{src:"axe.min.js",name:"BrowserStack"}],t=[{url:"wave.webaim.org",name:"Wave"}],r=(t,r)=>{try{const n=[];return"childList"===r&&t.addedNodes.length&&t.addedNodes.forEach((t=>{const r=(t=>{if("script"===t.nodeName.toLowerCase()){const r=e.find((e=>t.src.includes(e.src)));if(r)return r}return"iframe"===t.nodeName.toLowerCase()&&t.title.toLowerCase().includes("equalweb")?{name:"EqualWeb"}:null})(t);r&&n.push(r)})),n}catch(n){return[]}},n="https://api.userway.org/api/",o="https://cdn77.api.userway.org/";var i=(e=>(e.Remediation="remediation",e.AriaEditor="aria-editor",e))(i||{}),a=(e=>(e.KeyboardNavEnabled="app-key-nav-enabled",e))(a||{});const l=(e,t)=>__async(this,null,(function*(){const{account:r}=UserWayWidgetApp.ContextHolder.config,o={date:(new Date).toISOString(),url:window.location.href,scannerName:e,a11yScore:t};yield fetch(`${n}scaner-activity/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).catch((e=>{console.log(e)}))})),s=e=>{try{UserWayWidgetApp.getLib("scan_manager").accessibilityScore().then((t=>{l(e,t)}))}catch(t){console.log(t)}},u=document.documentElement,c={childList:!0,subtree:!0},d=new MutationObserver((e=>{const t=(e=>{const t=[];for(const n of e)t.push(...r(n,n.type));return t})(e)[0];t&&s(t.name)})),p=(e,t=["userway"])=>{const r=__spreadProps(__spreadValues({},e),{isUserWay:!0});t.forEach((e=>{let t=window.frames[e];if(!t||"function"!=typeof t.postMessage)try{t=document.querySelector(`iframe[name=${e}]`),t=t?t.contentWindow:null}catch(n){console.error(n)}t&&t.postMessage(r,"*")}))},m=(e,t,r={})=>{t||(t=window.getComputedStyle(e)),r=__spreadValues({skipStyleProperty:[]},r);return[{property:"display",hiddenValues:["none"]},{property:"visibility",hiddenValues:["hidden","collapse"]},{property:"opacity",hiddenValues:["0"]},{property:"filter",hiddenValues:["opacity(0)"]}].some((({property:e,hiddenValues:n})=>{var o;if(!t||!(e in t)||(null==(o=r.skipStyleProperty)?void 0:o.includes(e)))return!1;const i=t[e];return"string"==typeof i&&n.includes(i)}))},f="script, style, template, link, noscript, meta, iframe, base, area, br, col, colgroup, param, source, track, wbr, hr, path, circle, rect, ellipse, line, polygon, polyline, g",g=f+',[hidden], input[type="hidden"]';function h(e){return null==e?void 0:e.matches(g)}const b='\n  a[href]:not([hidden]):not([inert]), \n  area[href]:not([hidden]):not([inert]), \n  audio[controls]:not([hidden]):not([inert]), \n  button:not([disabled]):not([hidden]):not([inert]), \n  details summary:not([hidden]):not([inert]), \n  embed:not([hidden]):not([inert]),\n  iframe:not([hidden]):not([inert]), \n  img[usemap]:not([hidden]):not([inert]),\n  input:not([disabled]):not([type="hidden"]):not([hidden]):not([inert]), \n  label:not([hidden]):not([inert]),\n  select:not([disabled]):not([hidden]):not([inert]), \n  textarea:not([disabled]):not([hidden]):not([inert]), \n  video[controls]:not([hidden]):not([inert]), \n  [contenteditable]:not([disabled]):not([hidden]):not([inert])\n'.trim().replace(/\s+/g," "),A=b+", [tabindex]:not([disabled]):not([hidden]):not([inert])";function y(e){return(null==e?void 0:e.matches(A))&&!(null==e?void 0:e.closest("[inert], [hidden]"))}function E(e,t={}){let r=!1;const n=(e,n)=>{if(r)return!0;if((e=>{var t;for(let r=0;r<e.childNodes.length;++r){const n=e.childNodes[r];if(n instanceof Text&&""!==(null==(t=n.textContent)?void 0:t.trim()))return!0}return!1})(e))return!1;const o="fixed"===n.position||"absolute"===n.position||"left"===n.float||"right"===n.float||"visible"!==n.overflowX||"visible"!==n.overflowY;for(let r=0;r<e.children.length;++r){const n=e.children[r];if(h(n))continue;const i=window.getComputedStyle(n);if(!m(n,i,t)&&("fixed"!==i.position&&"absolute"!==i.position&&"left"!==i.float&&"right"!==i.float||("left"===i.float||"right"===i.float)&&o))return!1}return r=!0,!0},o=r=>{if(r instanceof Document||r instanceof Text)return!0;if(!(r instanceof Element))return!1;if(h(r)&&!y(r))return!1;const o=window.getComputedStyle(r);if(m(r,o,t))return!1;if("contents"===o.display){if(!(e instanceof Element)||r!==e)return!0;for(let t=0;t<e.children.length;++t)if(E(e.children[t],{skipCheckingAncestors:!0}))return!0;return!1}const i=r.getBoundingClientRect();return!!(n(r,o)||0!==i.width&&0!==i.height)&&(!(!t.skipCheckingOutOfView&&((e,t,r)=>{if(!(e instanceof Element))return!1;t||(t=e.getBoundingClientRect());let n=0,o=0;const i="fixed"===window.getComputedStyle(e).position,a=r||i;a?(n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth):(n=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),o=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth));const l=a?0:window.scrollY,s=a?0:window.scrollX,u=t.top+l,c=t.bottom+l,d=t.left+s,p=t.right+s;return c<1||u>n||p<1||d>o})(r,i,t.checkOutOfWindow))&&(r.getClientRects().length>0||r instanceof HTMLElement&&(r.offsetWidth>0||r.offsetHeight>0)))};if(t.skipCheckingAncestors)return o(e);{let t=!0,r=e;for(;r&&r!==document.body&&t;)t=o(r),r=r.parentNode;return t}}function v(e,t){return!e.closest('[aria-hidden="true"], [hidden]')&&!(e=>null!==e.closest("[inert]"))(e)&&E(e,t)}const w=(e,t,r={includeTextFromVisuallyHiddenElements:!1})=>{var n;const{includeTextFromVisuallyHiddenElements:o}=r;for(let i=0;i<e.length;i++){let a=e[i];switch(a.nodeType){case Node.TEXT_NODE:t+=" "+(null==(n=a.textContent)?void 0:n.trim().replace(/(\n|\r\n)/g,""));break;case Node.ELEMENT_NODE:if(!(a instanceof Element)||h(a)||v(a)||o&&!E(a))break;const e=a.getAttribute("aria-hidden"),i=a.getAttribute("alt"),l=a.getAttribute("aria-label");if(!e||"false"===e){if(l){t+=" "+l;break}i&&(t+=i+" "),"IMG"!==a.tagName&&(t=w(a.childNodes,t,r))}}}return t},_=(e,t="",r={includeTextFromVisuallyHiddenElements:!1})=>{let n=t;return(t=w(e.childNodes,n,r)).replace(/\s+/g," ").trim()},N=e=>{let t=e.split(" "),r="";for(let n=0;n<t.length;n++){let e=document.getElementById(t[n]);e&&(r=_(e,r))}return r},T=e=>e?e.replace(/\s|\u200B|&nbsp;|&ZeroWidthSpace;|&#8203;|&#x200B;/g,""):"",x=e=>e.split(" ").reduce(((e,t)=>{const r=document.getElementById(t.trim());if(!r)return e;if(h(r)||"img"===r.tagName.toLowerCase())return e;const n=_(r);return n?e+" "+n:e}),"").trim(),I=(e,t={})=>{var r,n,o;let i=null!=(n=null==(r=e.getAttribute("aria-label"))?void 0:r.trim())?n:"";const a=!(null==(o=null==t?void 0:t.excludeAttribute)?void 0:o.includes("aria-describedby"))&&e.getAttribute("aria-describedby");if(i+=a?x(a):"",i)return i.toLowerCase();const l=e.getAttribute("aria-labelledby");if(l&&(i+=x(l)),i.trim())return i.toLowerCase();if(i=_(e),i.trim())return i.toLowerCase();if("INPUT"===e.tagName){const t=e;if(i=t.value||"",i.trim()&&t.type&&["button","submit","reset"].includes(t.type.toLowerCase()))return i.toLowerCase()}if(!e.hasChildNodes())return null;let s=e.querySelector('img, *[role="img"]');return s&&(i=L(s)||"",i.trim())?i.toLowerCase():null},L=e=>{const t=e.getAttribute("role");if("role"===t||"presentation"===t)return null;const r=e.alt;if(r&&r.trim())return r.trim();const n=e.getAttribute("aria-label");if(n&&n.trim())return n.trim();const o=e.getAttribute("aria-describedby");if(o){const e=x(o);if(e)return e}const i=e.getAttribute("aria-labelledby");if(i){let e=x(i);if(e)return e}return null},S=()=>"uw"+(~~(1e8*Math.random())).toString(16),C=(e,t="")=>{const r=document.createElement("span");return r.textContent=e,r.style="color: #ffffff!important;background: #000000!important;clip: rect(1px, 1px, 1px, 1px)!important;clip-path: inset(50%)!important;height: 1px!important;width: 1px!important;margin: -1px!important;overflow: hidden!important;padding: 0!important;position: absolute!important;",r.setAttribute("class",t),r.setAttribute("data-uw-reader-element",""),r.setAttribute("data-uw-rm-ignore",""),r},O=(e,t=0)=>{let r=3735928559^t,n=1103547991^t;for(let o,i=0;i<e.length;i++)o=e.charCodeAt(i),r=Math.imul(r^o,2654435761),n=Math.imul(n^o,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&n)+(r>>>0)},R=(e,t=!1)=>{var r;if("html"===e.nodeName.toLowerCase())return"/HTML";if("body"===e.nodeName.toLowerCase())return"/HTML/BODY";if("head"===e.nodeName.toLowerCase())return"/HTML/HEAD";let n=0;const o=null==(r=e.parentElement)?void 0:r.children;if(!o)return"";for(let i=0;i<o.length;i++){let r=o[i];if(r===e)return R(e.parentElement,!0)+`/${e.tagName}[${n+1}]`+(t?"":k(e));r.tagName===e.tagName&&n++}return""};function k(e){const t={s:"src",h:"href"},r=e.innerText?O(e.innerText):"";return Object.keys(t).reduce(((r,n)=>{const o=t[n],i=e.getAttribute(o)||"";return e.hasAttribute&&e.hasAttribute(o)&&""!==i?r+";"+n+":"+O(i):r}),"|"+r)}const D=new RegExp("^(data:)"),M=new RegExp("(.)(gif|jpe?g|tiff?|png|webp|bmp)","i"),P=e=>{if(D.test(e))return e;e&&(e=e.replace(/^(http|https)(:\/\/)/,"").replace(/^(www\.)/,""));const t=e.match(M);return(null==t?void 0:t.index)&&(null==t?void 0:t.length)?e.substring(0,t.index+t[0].length):e.split("?")[0]},U=e=>[].slice.call(document.querySelectorAll(e)),F=(e,t,r=!1)=>e.reduce(((e,n)=>{const o=r&&n.position?":nth-of-type("+n.position+")":"";return e+=n.tag+o+(n.idx>=t?">":" ")}),"").slice(0,-1),W=(e,t)=>{if(null===t)return!0;const r=e.innerText?O(e.innerText).toString():"";if(t.innerText.toString()!==r)return!1;const n=e.hasAttribute("href")?O(e.getAttribute("href")).toString():"";if(t.href&&t.href!==n)return!1;const o=e.hasAttribute("src")?O(e.getAttribute("src")).toString():"";return!t.src||t.src===o},$=(e,t=null,r)=>{const n=U(e);if(1===n.length){if(null==r.params)return n[0];if(W(n[0],t))return n[0]}if(n.length>1){if(null==r.params)return null;const e=n.filter((e=>W(e,t)));if(1===e.length)return e[0]}return null};var B=(e=>(e[e.Strict=0]="Strict",e[e.Medium=1]="Medium",e[e.Loose=2]="Loose",e))(B||{});const H={i:"innerText",s:"src",h:"href"},j=e=>{const[t,r]=e.split("|");let n={innerText:""};if(r){const[e,...t]=r.split(";");n.innerText=e,t.forEach((e=>{const[t,r]=e.split(":");n[H[t]]=r}))}return{xpath:t,params:n}},V=e=>{if("/HTML/BODY"===e)return U("html>body")[0];const{xpath:t,params:r}=j(e),n=((e,t)=>{const r=("/"===e[0]?e.slice(1):e).split("/");return r.map(((e,n)=>{const o=e.toLowerCase(),[,i,a]=o.match(/(\S+)\[(\S+)?\]/)||[,o],l=r.length-1===n,s={idx:n,tag:i};return a&&(s.position=+a),l&&t&&(s.params=t),s}))})(t,r);return((e,t=4)=>{let r=e.length-2-t;const n=e[e.length-1];let o;const i=n.params;if(r<0){o=F(e,0,!0);return $(o,i,n)||(o=F(e,0),$(o,i,n))}const a=a=>{for(r=e.length-2-t;r>=0;r--){o=a===B.Loose?F(e.slice(0,2).concat(...e.slice(-r-t)),e.length-t):F(e,e.length-t-r-1,a===B.Strict);const l=$(o,i,n);if(l)return l}},l=[B.Strict,B.Medium,B.Loose];for(let s=0;s<l.length;s++){const e=a(l[s]);if(e)return e}return null})(n)},q=e=>{const{xpath:t,params:r}=j(e),n=document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return n&&W(n,r)?n:null},X=(e,t)=>{new IntersectionObserver(((r,n)=>{for(const o of r)o.intersectionRatio>0&&(t(e),n.disconnect())})).observe(e)},G=e=>{let t=e.closest("label"),r="";if(t){for(let e of t.childNodes)e.nodeType===Node.TEXT_NODE&&(r+=e.textContent);if(r.trim())return r.trim()}if(e.id){let t=(e=>{for(const t of document.querySelectorAll("label"))if(t.htmlFor===e)return t;return null})(e.id);if(t)return _(t,"")}const n=e.getAttribute("aria-label"),o=e.getAttribute("aria-labelledby");if(n)return n;if(o)return N(o);const i=e.getAttribute("title");if(i)return i;return _(e,"")||""},K=[".uwy",".uwy *",".uw-sl *"],z=["data-uw-ignore","data-uw-rm-ignore"],Y=(e,t=3)=>{const r=(e,t)=>{if(t<1)return"";const n=e.childElementCount;let o="";return n||(o+=e.textContent),!o&&e.length&&(o+=e.nodeValue),n&&e.childNodes.length&&(o+=[...e.childNodes].map((e=>r(e,t-1))).join(" ")),o};return r(e,t)},Z=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),J=e=>{try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch(t){return!1}},Q=e=>{if((e=e.trim().toLowerCase()).length<3||/^[\d\s]+$/.test(e)||/^[!"#$%&'()*+,\-./:;<=>?@\[\\\]^_`{|}~\s]+$/.test(e)||/^(((todo|untitled|new|default|test)(\s+page)?)|title|page)$/.test(e))return!1;if(!e.includes(" ")){if(new RegExp("(.)\\1{3,}").test(e))return!1}return!0},ee=e=>{const t=null==e?void 0:e.getAttribute("tabindex");if(null==t)return null;const r=parseInt(t,10);return Number.isNaN(r)?null:r};function te(e){return e instanceof HTMLElement&&y(e)&&!function(e){return-1===ee(e)}(e)}function re(e){te(e)||e.setAttribute("tabindex","0")}const ne=e=>{if(e.disabled)return!1;const t=e.getAttribute("contenteditable");if(null!==t&&"false"!==t.toLowerCase())return!0;const r=e.nodeName.toLowerCase();return"textarea"===r||"input"===r&&e instanceof HTMLInputElement&&/^(?:text|email|number|search|tel|url|password|week|month|date)$/i.test(e.type)},oe=e=>{if(e.nodeType!==Node.ELEMENT_NODE)return!1;if(ne(e))return!0;for(const t of e.querySelectorAll("*"))if(ne(t))return!0;return!1};var ie=(e=>(e.enter="enter",e.space="space",e.tab="tab",e["tab-shift"]="tab-shift",e["tab+shift"]="tab+shift",e.esc="esc",e.home="home",e.end="end",e.pageUp="pageUp",e.pageDown="pageDown",e.arrowUp="arrowUp",e.arrowDown="arrowDown",e.arrowLeft="arrowLeft",e.arrowRight="arrowRight",e.printableChar="printableChar",e))(ie||{});const ae=(e,t)=>e.key===t.key||e.code===t.code,le=e=>ae(e,{key:" ",code:"Space"}),se=e=>ae(e,{key:"Enter",code:"Enter"}),ue=e=>ae(e,{key:"Escape",code:"Escape"}),ce=e=>ae(e,{key:"Tab",code:"Tab"}),de=e=>ae(e,{key:"Home",code:"Home"}),pe=e=>ae(e,{key:"End",code:"End"}),me=e=>ae(e,{key:"PageUp",code:"PageUp"}),fe=e=>ae(e,{key:"PageDown",code:"PageDown"}),ge=e=>ae(e,{key:"ArrowLeft",code:"ArrowLeft"}),he=e=>ae(e,{key:"ArrowUp",code:"ArrowUp"}),be=e=>ae(e,{key:"ArrowRight",code:"ArrowRight"}),Ae=e=>ae(e,{key:"ArrowDown",code:"ArrowDown"}),ye=e=>1===e.key.length&&/\S/.test(e.key);function Ee(e,t){let r;if(t.endsWith("+shift")?(r=!0,t=t.replace("+shift","")):t.endsWith("-shift")&&(r=!1,t=t.replace("-shift","")),void 0!==r&&r!==e.shiftKey)return!1;switch(t){case"enter":return se(e);case"space":return le(e);case"esc":return ue(e);case"home":return de(e);case"end":return pe(e);case"pageUp":return me(e);case"pageDown":return fe(e);case"arrowUp":return he(e);case"arrowDown":return Ae(e);case"arrowLeft":return ge(e);case"arrowRight":return be(e);case"tab":return ce(e);case"printableChar":return ye(e);default:return!1}}const ve=e=>{e&&"function"==typeof e.click&&!oe(e)&&e.addEventListener("keydown",(t=>{se(t)&&(t.preventDefault(),e.click())}))};function we(e,t){if(0===e.length)return;const r=[];if("string"==typeof e[0]){for(const i of e)if("string"==typeof i){const e=Array.from((t||document).querySelectorAll(i));r.push(...e.filter((e=>e instanceof HTMLElement)))}}else t?r.push(...e.filter((e=>t.contains(e)))):r.push(...e);if(0===r.length)return;const n=(e,t)=>r=>{if(r instanceof KeyboardEvent){if(Ee(r,ie["tab+shift"])&&t instanceof HTMLElement)null==t||t.focus();else{if(!(Ee(r,ie["tab-shift"])&&e instanceof HTMLElement))return;null==e||e.focus()}return r.preventDefault()}},o=[];for(let i=0;i<r.length;++i){const e=r[i];re(e);const t=n(r[i+1]||r[0],r[i-1]||r[r.length-1]);o.push(t),e.addEventListener("keydown",t,!1)}return!r[0]||document.activeElement&&(null==t?void 0:t.contains(document.activeElement))||setTimeout((()=>{r[0].focus()}),100),{terminate:()=>{for(let e=0;e<r.length;e++)r[e].removeEventListener("keydown",o[e])}}}const _e=e=>{let t=e.parentElement;for(;t;){if(te(t))return!0;t=t.parentElement}return!1},Ne=()=>__async(this,null,(function*(){return new Promise((e=>{const t=()=>{"complete"===document.readyState&&(document.removeEventListener("readystatechange",t),e())};document.addEventListener("readystatechange",t),t()}))}));function Te(e){return __async(this,null,(function*(){return new Promise((t=>{window.setTimeout((()=>{t()}),e)}))}))}const xe="REMEDIATION_KEYBOARD_NAVIGATION",Ie="data-uw-rm-kbnav",Le=["link","button","menuitem","checkbox"],Se="role",Ce="click",Oe="anohref",Re=["onclick"],ke=["onkeydown","onkeyup","onkeypress"],De="REMEDIATION_POPUP",Me=["DIV","SECTION","DIALOG","ASIDE","FORM","ARTICLE"],Pe="data-uw-cer-popup-wrapper",Ue="REMEDIATION_ELEMENT_FOCUS",Fe="data-uw-rm-outline",We=["data-uw-rm-ignore-focus-rule"],$e="2px",Be="solid",He={AriaEditorValues:[],BrokenLink:[],Contrast:[],EmptyControls:[],ExternalLink:[],Forms:[],Headings:[],Language:[],MissingAlts:[],Pdfs:[],VagueLinks:[]},je=e=>__async(this,null,(function*(){const t=yield fetch(e),r=yield t.json();return __spreadValues(__spreadValues({},He),r)})),Ve=UserWayWidgetApp.ContextHolder.config.remediation,qe=UserWayWidgetApp.ContextHolder.config.tunings,Xe=UserWayWidgetApp.ContextHolder.config.services,Ge=UserWayWidgetApp.ContextHolder.config.imageAlt,Ke=UserWayWidgetApp.ContextHolder.config.settings,{isMobile:ze,language:Ye}=UserWayWidgetApp.ContextHolder.config;let Ze={};function Je(e){Ze=__spreadValues({},e)}function Qe(){return Ze}const et=()=>__async(this,null,(function*(){if(null==Ve?void 0:Ve.consolidated){const e=yield je(Ve.consolidated);return e.MissingAlts.reverse(),void Je(e)}Je(He)})),tt=(e,t)=>{if(!t)return e;try{return parseInt(t,10)}catch(r){return e}};tt(300,qe.REMEDIATION_THROTTLE_DELAY),tt(500,qe.REMEDIATION_DEBOUNCE_DELAY),tt(2e3,qe.REMEDIATION_DEBOUNCE_MAX_WAIT);const rt="AUTO";var nt=(e=>(e.TABINDEX="tabindex",e.ROLE="role",e.TYPE="type",e.SRC="src",e.ARIA_LEVEL="ariaLevel",e.ORIGINAL_ALT="originalAlt",e))(nt||{}),ot=(e=>(e.UNKNOWN="UNKNOWN",e.NOT_ALLOWED="NOT_ALLOWED",e.TEXT_NODE="TEXT_NODE",e.LANDMARK="LANDMARK",e.CONTROL="CONTROL",e.HEADING="HEADING",e.HAS_ALT_DESCRIPTION="HAS_ALT_DESCRIPTION",e.COMPOSED_TEXT_NODES="COMPOSED_TEXT_NODES",e.IFRAME="IFRAME",e.HIDDEN_FOR_READER="HIDDEN_FOR_READER",e))(ot||{}),it=(e=>(e.UNKNOWN="unknown",e.TEXT="text",e.IMAGE="image",e.HEADING="heading",e.FOOTER="footer",e.HEADER="header",e.NAV="nav",e.MAIN="main",e.FORM="form",e.LANDMARK="landmark",e.LINK="link",e.BUTTON="button",e.CHECKBOX="checkbox",e.RADIOBUTTON="radiobutton",e.INPUT="input",e.TEXTAREA="textarea",e.SELECT="select",e.ABBR="abbr",e.LIST_ITEM="list item",e))(it||{});const at="accessibility-tree-observer",lt=["uw-sl","uwy","uw-s10-reading-guide","uw-s12-tooltip"],st=(e,t)=>t.ariaLabel?t.ariaLabel:t.ariaLabelledBy?N(t.ariaLabelledBy):_(e,""),ut={},ct=UserWayWidgetApp.getLib("accessibility_tree_walker");let dt,pt=[],mt=1;const ft=(e,t)=>{var r;if(pt=[],(e=>{const t=3===e.nodeType;return lt.some((t=>!!e.closest&&e.closest(`.${t}`)))||!t&&e.hasAttribute("data-uw-rm-ignore")})(e)&&!t)return null;const n={node:e,type:ct.identifyElementType(e)},o=(e=>{if(!e||!e.type)return{};const{node:t}=e;return[ot.UNKNOWN,ot.NOT_ALLOWED,ot.TEXT_NODE].includes(e.type)?{uwAtoId:t.uwAtoId}:{tagName:t.tagName,tabindex:t.getAttribute("tabindex")||"",role:t.getAttribute("role")||"",ariaLevel:t.getAttribute("aria-level")||"",ariaLabel:t.getAttribute("aria-label")||"",ariaLabelledBy:t.getAttribute("aria-labelledby")||"",type:t.getAttribute("type")||"",uwAtoId:t.uwAtoId}})(n);dt=ct.identifyElementType(e);const i=dt===ot.HIDDEN_FOR_READER;let a,l;switch(pt=(e=>(e.tabindex&&pt.push({name:nt.TABINDEX,value:e.tabindex}),e.role&&pt.push({name:nt.ROLE,value:e.role}),e.type&&pt.push({name:nt.TYPE,value:e.type}),e.ariaLevel&&pt.push({name:nt.ARIA_LEVEL,value:e.ariaLevel}),pt))(o),i&&((e,t)=>{const r=e.cloneNode(!0);r.removeAttribute("aria-hidden"),dt=ct.identifyElementType(r),dt!==ot.UNKNOWN||"IMG"!==t.tagName&&"img"!==t.role||(dt=ot.HAS_ALT_DESCRIPTION)})(e,o),dt){case ot.TEXT_NODE:a=(e=>{const t=it.TEXT;let r="";e.textContent&&(r=e.textContent.trim().replace(/(\n|\r\n)/g,"").replace(/\s+/g," "));const n={};return e.parentElement&&(n.parentXpath=R(e.parentElement)),{semanticType:t,textToRead:r,additionalParams:n}})(e),ut.parentXpath=null==(r=a.additionalParams)?void 0:r.parentXpath;break;case ot.COMPOSED_TEXT_NODES:a=((e,t)=>({semanticType:"LI"===t.tagName?it.LIST_ITEM:it.TEXT,textToRead:t.ariaLabel||_(e,"")}))(e,o);break;case ot.HIDDEN_FOR_READER:a={semanticType:it.UNKNOWN,textToRead:""};break;case ot.HEADING:a=((e,t)=>({semanticType:it.HEADING,textToRead:t.ariaLabel||_(e,"")}))(e,o);break;case ot.LANDMARK:a=(e=>{let t,r="";e.ariaLabel?r=e.ariaLabel:e.ariaLabelledBy&&(r=N(e.ariaLabelledBy));const{tagName:n}=e,{role:o}=e;return t="FOOTER"===n||"contentinfo"===o?it.FOOTER:"HEADER"===n||"banner"===o?it.HEADER:"FORM"===n||"form"===o?it.FORM:"MAIN"===n||"main"===o?it.MAIN:"NAV"===n||"navigation"===o?it.NAV:it.LANDMARK,{semanticType:t,textToRead:r}})(o);break;case ot.CONTROL:a=((e,t)=>{const{tagName:r,role:n,type:o,ariaLabel:i,ariaLabelledBy:a}=t;let l=!1,s="",u=it.TEXT;return"menuitem"===n||"option"===n?(s=st(e,t),l=!0):"link"===n||"A"===r&&!n?(u=it.LINK,s=st(e,t),l=!0):"button"===n||"BUTTON"===r?(u=it.BUTTON,s=st(e,t),l=!0):"INPUT"!==r||"button"!==o&&"submit"!==o&&"reset"!==o||(u=it.BUTTON,i?s=i:a&&(s=N(a)),l=!0),l||(s=G(e),"checkbox"===n||"INPUT"===r&&"checkbox"===o?u=it.CHECKBOX:"radio"===n||"INPUT"===r&&"radio"===o?u=it.RADIOBUTTON:"INPUT"===r&&(u=it.INPUT),"TEXTAREA"===r&&(u=it.TEXTAREA),"SELECT"===r&&(u=it.SELECT)),{semanticType:u,textToRead:s}})(e,o);break;case ot.HAS_ALT_DESCRIPTION:a=((e,t,r)=>{const{tagName:n,role:o,ariaLabel:i}=t,a=e.getAttribute("alt")||"",l=e.getAttribute("title")||"",s=e.getAttribute("data-uw-rm-ima-original")||"";let u="",c=it.TEXT;const d=r;return"IMG"!==n&&"img"!==o||(c=it.IMAGE,d.push({name:nt.SRC,value:e.src}),d.push({name:nt.ORIGINAL_ALT,value:s}),u=i||a||s||u),"ABBR"===n&&(c=it.ABBR,u=l),{semanticType:c,textToRead:u,attributesToReturn:d}})(e,o,pt),a.attributesToReturn&&(pt=a.attributesToReturn);break;case ot.UNKNOWN:a=((e,t)=>{let r=it.TEXT;return"DIV"!==t.tagName||e.innerHTML||(r=it.LANDMARK),{semanticType:r,textToRead:""}})(e,o);break;default:a={textToRead:"",semanticType:it.TEXT}}return o.uwAtoId?l=o.uwAtoId:(l=mt,mt+=1,n.node.uwAtoId=l),__spreadValues({id:l,xpath:R(e),label:a.textToRead.replace(/\|/g,"").trim(),tagName:o.tagName||"",type:a.semanticType,hidden:i,attributes:pt,el:n.node},ut)},gt=UserWayWidgetApp.getLib("accessibility_tree_walker");let ht=[];const bt=()=>{let e=null;ht=[];do{const t=gt.getNextAccessibilityTreeNode(e);if(!t)break;const r=ft(t.node);r&&ht.push(r),e=t.node}while(e);ht=ht.map((e=>{const t=e,{el:r}=t;return __objRest(t,["el"])})),p({action:at,type:"userway:ato-output:get",data:{nodes:ht,version:Date.now()}},["uwAccessibilityEditor"])},At=()=>ht;var yt="object"==typeof global&&global&&global.Object===Object&&global,Et="object"==typeof self&&self&&self.Object===Object&&self,vt=yt||Et||Function("return this")(),wt=vt.Symbol,_t=Object.prototype,Nt=_t.hasOwnProperty,Tt=_t.toString,xt=wt?wt.toStringTag:void 0;var It=Object.prototype.toString;var Lt=wt?wt.toStringTag:void 0;function St(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Lt&&Lt in Object(e)?function(e){var t=Nt.call(e,xt),r=e[xt];try{e[xt]=void 0;var n=!0}catch(i){}var o=Tt.call(e);return n&&(t?e[xt]=r:delete e[xt]),o}(e):function(e){return It.call(e)}(e)}var Ct=/\s/;var Ot=/^\s+/;function Rt(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Ct.test(e.charAt(t)););return t}(e)+1).replace(Ot,""):e}function kt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Dt=/^[-+]0x[0-9a-f]+$/i,Mt=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,Ut=parseInt;function Ft(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==St(e)}(e))return NaN;if(kt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=kt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Rt(e);var r=Mt.test(e);return r||Pt.test(e)?Ut(e.slice(2),r?2:8):Dt.test(e)?NaN:+e}var Wt=function(){return vt.Date.now()},$t=Math.max,Bt=Math.min;function Ht(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function f(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=Wt();if(f(e))return h(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?Bt(r,i-(e-u)):r}(e))}function h(e){return l=void 0,p&&n?m(e):(n=o=void 0,a)}function b(){var e=Wt(),r=f(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?m(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),m(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=Ft(t)||0,kt(r)&&(c=!!r.leading,i=(d="maxWait"in r)?$t(Ft(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),b.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},b.flush=function(){return void 0===l?a:h(Wt())},b}const jt=new Set,Vt="REMEDIATION_BROKEN_LINK",qt="data-uw-rm-brl",Xt="data-uw-original-href";var Gt=(e=>(e.Processed="PR",e.BackEndContributed="BE",e.Fixed="FX",e.FixedByCorrection="CR",e))(Gt||{});const Kt=["localhost","userway.dev","linkedin.com","youtube.com"],zt=e=>{if("a"!==e.tagName.toLowerCase())return!1;const{href:t,hostname:r}=e,n=e.hasAttribute(qt),o=e.hasAttribute("href");if(n||!o)return!1;const i=new URL(t);if(!["http:","https:"].includes(i.protocol))return!1;return![/\.pdf/,/wp-admin/,/javascript:void/,/^(tel:|mailto:|sms:|ftp:|file:|geo:|news:|irc:|skype:|spotify:|whatsapp:|market:|steam:|git:|svn:|ed2k:|magnet:|gopher:|dict:)/].some((e=>e.test(t)))&&!Kt.some((e=>null==r?void 0:r.includes(e)))},Yt="REMEDIATION_PDF_DOCUMENTS",Zt="data-uw-pdf-doc",Jt="data-uw-pdf-rem",Qt="data-uw-pdf-doc-original",er="data-uw-pdf-br",tr="https://cdn.userway.org/";var rr=(e=>(e.INVALID_LINK="0",e.VALID_LINK="1",e.IN_PROCESSING_OR_QUOTA_EXCEEDED="2",e))(rr||{});const nr=e=>{var t,r;if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=e.nodeName;if("A"!==n&&"IFRAME"!==n)return!1;if(e.hasAttribute(Zt))return!1;if(e.hasAttribute(Qt))return!1;let o=null;if("A"===n?o=null!=(t=e.href)?t:null:"IFRAME"===n&&(o=null!=(r=e.src)?r:null),!o)return!1;if(o.split("?")[0].match(/\.pdf($|\?)/i))return!0;let i=!1;const a=new URLSearchParams(o);for(const[,l]of a.entries())(null==l?void 0:l.match(/\.pdf($|\?)/i))&&(i=!0);return!!i},or={automaticcoupons:/automaticcoupons/,"shopping.yahoo":/shopping\.yahoo/,shopperapproved:/shopperapproved/,rakuten:/rakuten/,"translate.google":/translate\.google/,"maps.googleapis.com":/maps\.googleapis\.com/,"s.w.org":/s\.w\.org/,avatar:/avatar/,companylogos:/companylogos/,favicon:/favicon/,activecampaign:/lt\.php(.*)?l=open/,aweber:/openrate\.aweber\.com/,bananatag:/bl-1\.com/,boomerang:/mailstat\.us\/tr/,"campaign monitor":/cmail(\d+)\.com\/t\//,"cirrus insight":/tracking\.cirrusinsight\.com/,close:/close\.com\/email_opened/,"constant contact":/rs6\.net\/on\.jsp/,contactmonkey:/contactmonkey\.com\/api\/v1\/tracker/,convertkit:/convertkit-mail\.com\/o/,"critical impact":/portal\.criticalimpact\.com\/c2\//,emarsys:/emarsys\.com\/e2t\/o/,gem:/zen\.sr\/o/,getnotify:/email81\.com\/case/,getresponse:/getresponse\.com\/open\.html/,growthdot:/growthdot\.com\/api\/mail-tracking/,front:/app\.frontapp\.com\/(.*)?\/seen/,hubspot:/t\.(hubspotemail|hubspotfree|signaux|senal|sidekickopen|sigopn)/,icontact:/click\.icptrack\.com\/icp/,intercom:/(via\.intercom\.io\/o)|(intercom-mail\.com\/via\/o)/,litmus:/emltrk\.com/,mailchimp:/list-manage\.com\/track/,mailgun:/email\.(mailgun|mg)(.*)?\/o/,mailjet:/mjt\.lu\/oo/,mailspring:/getmailspring\.com\/open/,mailtrack:/(mailtrack\.io\/trace)|(mltrk\.io\/pixel)/,mandrill:/mandrillapp\.com\/track/,marketo:/resources\.marketo\.com\/trk/,mixmax:/(email|track)\.mixmax\.com/,mixpanel:/api\.mixpanel\.com\/track/,nethunt:/nethunt\.co(.*)?\/pixel\.gif/,newton:/tr\.cloudmagic\.com/,outreach:/api\/mailings\/opened/,phplist:/phplist\.com\/lists\/ut\.php/,polymail:/polymail\.io/,postmark:/pstmrk\.it\/open/,"return path":/returnpath\.net\/pixel\.gif/,sailthru:/sailthru\.com\/trk/,salesforce:/nova\.collect\.igodigital\.com/,sendgrid:/wf\/open\?upn/,sendy:/sendy\/t\//,streak:/mailfoogae\.appspot\.com/,superhuman:/r\.superhuman\.com/,thunderhead:/na5\.thunderhead\.com/,tinyletter:/tinyletterapp\.com.*open\.gif/,yamm:/yamm-track\.appspot/,yesware:/t\.yesware\.com/,"zendesk sell":/futuresimple\.com\/api\/v1\/sprite\.png/,bing:/bat\.bing\.com/,teads:/cm\.teads\.tv/},ir=["icon","cart","logo"],ar=["h1","h2","h3","h4","h5","h6","span","a","p","figcaption","caption","div"],lr=["heading"];var sr=(e=>(e.EXCLUDED_SRC="EXCLUDED_SRC",e.HIDDEN_FROM_SCREEN_READER="HIDDEN_FROM_SCREEN_READER",e.BASE64="BASE64",e.SVG="SVG",e.SMALL_SIZE="SMALL_SIZE",e.MICRO_SIZE="MICRO_SIZE",e.WRONG_SRC="WRONG_SRC",e.ASPECT_RATIO="ASPECT_RATIO",e.CUSTOM_CONFIG="CUSTOM_CONFIG",e.NOT_LOADED="NOT_LOADED",e.ALPINEJS="ALPINEJS",e))(sr||{});const ur=["SVG","SMALL_SIZE","HIDDEN_FROM_SCREEN_READER"],cr="data-uw-rm-alt-original",dr="REMEDIATION_IMAGE_MISSING_ALT",pr="data-uw-rm-alt",mr=["jpg","jpeg","png","gif","bmp","tiff","tif","svg","webp","ico","apng","heif","heic","avif","eps","raw","cr2","nef","orf","sr2"];var fr=(e=>(e.CorrectAlt="ALT",e.Reverted="RT",e.Backend="BE",e.Excluded="EX",e.Hidden="HD",e.Base64="BS64",e.Svg="SVG",e.Small="SM",e.Micro="MC",e.InvalidSrc="SRC",e.AspectRatio="AR",e.AI="AI",e.AIQuotaExceed="QU",e.ClosestText="CT",e.CustomConfig="CC",e.NotLoaded="NL",e.ThirdParty="TP",e.Alpinejs="ALPINEJS",e))(fr||{});const gr="data-uw-rm-heading",hr=["Nkr","Php","Pts","Skr","Ar","Bs","Ft","Kr","Kč","Ls","Lt","Lv","Mk","Mt","R\\$","Rm","Rp","Rs","Zł","\\$","€","£","¥","₹","₽","₺","₩","₪","₴","₫","₡","₢","₣","₤","₥","₦","₧","₨","₭","₮","₯","₰","₱","₲","₳","₵","₶","₷","₸","₼","₾","₿","Ƀ","Ł","৳","฿","៛","₠","₸"],br=new RegExp(`^(?:${hr.join("|")})\\s*\\d+(?:\\.\\d{2})?|\\d+(?:\\.\\d{2})?\\s*(?:${hr.join("|")})$`,"i"),Ar=new RegExp(`\\.(${mr.join("|")})$`,"i"),yr=/^(data:)/,Er=/\.svg(\?.*)?$/i,vr=/^[!@#$%^&*()_+{}[\]`:;<>,.?~\\|\-="'/]+$/,wr=/[0-9]{5,}/,_r=e=>{const t="img"===e.tagName.toLowerCase(),r=e.hasAttribute(pr);return!(!t||r)},Nr=new Set,Tr=new Set,xr=new Set;let Ir=!1,Lr=!1,Sr=!1;let Cr;const Or=(e,...t)=>__async(this,[e,...t],(function*(e,t={}){if(Ir)Lr=!0;else{Ir=!0;try{const n=(null!=e?e:Array.from(Nr)).filter((e=>e.isConnected)),o=Array.from(Tr).filter((e=>e.isConnected));Nr.clear(),Tr.clear();if(0===n.length+o.length)return;for(;n.length>0||o.length>0;){const e=[...n];n.length=0;const i=200-e.length;i>0&&e.push(...o.splice(0,i));for(const n of xr)try{yield n(e,t)}catch(r){}yield Te(0)}}finally{Ir=!1,Lr&&(Lr=!1,Cr())}}}));Cr=Ht((()=>{setTimeout(Or,0)}),500,{maxWait:2e3,leading:!1,trailing:!0});const Rr=e=>{xr.add(e)},kr=(e,t)=>__async(this,null,(function*(){yield new Promise((r=>{setTimeout((()=>__async(this,null,(function*(){yield Or(e,t),r()}))),0)}))}));var Dr;Dr=e=>{for(const r of e)_r(t=r)||zt(t)||nr(t)?Nr.add(r):Tr.add(r);var t;Sr||Cr()},jt.add(Dr);const Mr={enabled:!1},Pr=e=>{const t=UserWayWidgetApp.getLib("util"),{registerPostMessageListener:r}=t;return r((t=>{var r;(null==(r=null==t?void 0:t.data)?void 0:r.isUserWay)&&e(t)}))},Ur={"userway:ato-input:enable":()=>{Mr.enabled||(Mr.enabled=!0,Rr(bt),bt())},"userway:ato-input:disable":()=>{var e;Mr.enabled&&(Mr.enabled=!1,e=bt,xr.delete(e))},"userway:ato-input:get":bt},Fr="REMEDIATION_SCREEN_READER_BASIC",Wr="data-uw-rm-sr",$r="REMEDIATION_EXTERNAL_LINK_TARGETS",Br="data-uw-rm-ext-link",Hr="REMEDIATION_SKIP_NAVIGATION_LINK",jr=["skip","pass","jump"],Vr="REMEDIATION_VAGUE_LINK",qr="data-uw-rm-vglnk",Xr=["here","click here","clicking","clicking here","download","download now","click","click this","this","link","more","read more","please click here","continue reading","learn more","more details"],Gr="uwAccessibilityEditor",Kr=Xe.editorBuildUrl,zr="aria-editor",Yr="data-uw-rm-ae",Zr="aria-editor",Jr="REMEDIATION_EMPTY_CONTROLS",Qr="data-uw-rm-empty-ctrl",en=["facebook","youtube","whatsapp","instagram","twitter","reddit","linkedin","viber","pinterest","telegram","search","cart","home"],tn={prev:"Get previous item",next:"Get next item",scroll:"Activate for scroll",top:"Move to top",bottom:"Move to bottom",expand:"Expand this block",collapse:"Collapse this block",close:"Close this option"},rn=[{re:/(fa-)(.+)/,replacer:"$2"}],nn=["a","summary","button"],on="REMEDIATION_FORM_LABEL",an="data-uw-rm-form",ln=["INPUT","TEXTAREA","SELECT"],sn="data-uw-hidden-control",un="hidden-control-element",cn={text:"Text field",radio:"Radio button",checkbox:"Checkbox field",email:"Please enter email address",url:"Please enter url",tel:"Please enter a phone number",password:"Password field",search:"Search field",date:"Date field",time:"Time field",image:"Image field",file:"File field",number:"Number",range:"Select range",submit:"Submit button",color:"Select color",datetime_local:"Date and time field",month:"Month field",week:"Week field",button:"Button",reset:"Reset button"},dn=new Map([["Name",/(name)/],["Age",/(age)/],["Search",/(search|srch)/],["Quantity",/(qua|qty|quantity)/],["Count",/(count|cnt)/]]),pn=new Map([["Search",/(search|srch)/],["Select name",/(name)/]]),mn="REMEDIATION_META_VIEWPORT",fn="uw-rm-meta-viewport",gn='meta[name="viewport"][content*="maximum-scale"], meta[name="viewport"][content*="user-scalable=0"], meta[name="viewport"][content*="user-scalable=no"]',hn="REMEDIATION_HEADING",bn="data-uw-rm-heading",An="Empty heading",yn="data-uw-rm-title",En="REMEDIATION_HEADER_TITLE",vn="un",wn="gn",_n=[xe],Nn=e=>e.filter((e=>{var t,r;if(ze&&_n.includes(e.ruleId))return!1;const n=(e=>{switch(e){case dr:return"alt";case zr:return"ariaEditor";case Jr:return"emptyControls";case on:return"forms";case Vt:return"brokenLinks";case mn:return"metaViewport";case $r:return"externalLinks";case Hr:return"skipLinks";case Vr:return"vagueLinks";case hn:return"headings";case Yt:return"pdf";case En:return"title";case Fr:return"screenReader";case Ue:return"customFocus";case xe:return"keyboardNavigation";default:return null}})(e.ruleId);if(!n||!Xe.paidAi)return!0;const o=Ve[n];if(!o)return!0;const i=!1!==(null==(r=null==(t=o.config)?void 0:t.mobile)?void 0:r.enabled);return o.enabled&&(!ze||i)})),Tn=(e,t)=>__async(this,null,(function*(){for(const r of e)for(const e of r)yield e(t),yield Te(0)})),xn="REMEDIATION_PER_SITE",In=()=>{var e,t;try{const r=UserWayWidgetApp.getLib("util");(null==(e=null==Ve?void 0:Ve.perSiteRemediation)?void 0:e.enabled)&&(null==(t=null==Ve?void 0:Ve.perSiteRemediation)?void 0:t.resources)&&r.execJs(Ve.perSiteRemediation.resources).finally((()=>{r.fireUserWayLifeCycleEvent("userway:remediation_csr_loaded")}))}catch(r){console.info("CSR",r)}};In.id=xn;const Ln=[In],Sn=e=>e.filter((e=>{var t,r;const n=(e=>{switch(e){case"REMEDIATION_LABS":return"labs";case xn:return"perSiteRemediation";default:return null}})(e.id);if(!n||!Xe.paidAi)return!1;const o=null==Ve?void 0:Ve[n];if(!o)return!0;const i=!1!==(null==(r=null==(t=o.config)?void 0:t.mobile)?void 0:r.enabled);return o.enabled&&(!ze||i)})),Cn=e=>!(e instanceof HTMLElement)||z.some((t=>e.hasAttribute(t)))||K.some((t=>e.classList.contains(t)))||h(e),On=(e,t)=>{try{if("childList"===t){const t=[...e.addedNodes].reduce(((e,t)=>{if(t instanceof HTMLElement){const r=[...t.getElementsByTagName("*")];return[...e,...r]}return e}),[]);return[].filter.call([...e.addedNodes,...t],(e=>!Cn(e)))}return"attributes"===t?Cn(e.target)?[]:[e.target]:[]}catch(r){return[]}},Rn=document.documentElement,kn={attributes:!0,attributeFilter:["aria-label","alt"],childList:!0,subtree:!0},Dn=new MutationObserver((e=>{(e=>{for(const r of jt)try{r(e)}catch(t){}})((e=>{const t=[];for(const r of e)t.push(...On(r,r.type));return t})(e))})),Mn=Object.freeze({isInitialRun:!1}),Pn=(()=>{let e,t,r=!1;const n=(r,...n)=>__async(this,[r,...n],(function*(r,n=Mn){const{isInitialRun:o}=n,i=o?[...e,...t]:e;try{yield((e,t)=>{const r=e.map((e=>e.map((e=>e.run))));return Tn(r,t)})(i,r)}catch(a){}finally{o&&Sn(Ln).forEach((e=>e()))}})),o=()=>__async(this,null,(function*(){if(r)return;r=!0,Rr(n),((e=Rn,t=kn)=>{qe.tech_rem_on_tab||Dn.observe(e,t);const r=Pr((n=>{var o;(null==(o=null==n?void 0:n.data)?void 0:o.type)===a.KeyboardNavEnabled&&(Dn.observe(e,t),r())}))})(),Sr=!0;const e=(()=>{try{const e=z.map((e=>`[${e}]`)).join(","),t=z.map((e=>`[${e}] *`)).join(","),r=`iframe,*:not(${f}, ${e}, ${t})`;return[...Array.from(document.body.querySelectorAll(r)),document.documentElement]}catch(e){return console.error(e),[]}})();yield kr([...e],{isInitialRun:!0}),Sr=!1,(Nr.size>0||Tr.size>0)&&Cr(),Pr((e=>{if(!e.data)return;const{data:{action:t,type:r}}=e;t===at&&Ur[r]&&Ur[r]()}))})),i=()=>__async(this,null,(function*(){const e=qe.tech_rem_in_throttle_ms,t=null==e||Number.isNaN(Number(e))?500:Number(e);yield Te(t)})),l=()=>__async(this,null,(function*(){yield Ne(),yield i(),yield o()}));return{run:n,init:()=>__async(this,null,(function*(){if((()=>{var e;if((null==(e=window.location)?void 0:e.pathname.indexOf("wp-admin"))>-1)return!0;if(!(null==Ve?void 0:Ve.commonSettings))return!1;const{mobile:t,disabledPages:r}=Ve.commonSettings.config;return!(!ze||!t||t.enabled)||!!(null==r?void 0:r.some((e=>{var t;return(null==(t=window.location)?void 0:t.href.indexOf(e))>-1})))})())return;let r;r=yield Promise.resolve().then((()=>Ks)),e=r.RulesGroups.map((e=>Nn(e).filter((e=>!(!qe.new_keyboard_nav&&e.ruleId===xe)&&!(!qe.new_popup_helper&&e.ruleId===De))))),t=r.RulesGroupsOnce.map((e=>{const t=Nn(e),r=[];return qe.new_screen_reader_rem||r.push(Fr),qe.new_focus_rule||r.push(Ue),r.length?t.filter((e=>!r.includes(e.ruleId))):t})),qe.tech_rem_on_tab||l();const n=Pr((e=>{var t;(null==(t=null==e?void 0:e.data)?void 0:t.type)===a.KeyboardNavEnabled&&(o(),n())}))}))}})();(()=>{__async(this,null,(function*(){yield et(),Pn.init()}))})(),d.observe(u,c),(()=>{const e=t.find((e=>e.url.includes(window.location.origin)));e&&s(e.name)})();const Un=({ruleId:e,isTargetElement:t,rule:r,postMessageApi:n,forceRun:o})=>(n&&Pr((e=>{const t=null==e?void 0:e.data;if(!t)return;const{type:r,action:o}=t;o!==i.Remediation&&o!==i.AriaEditor||n[r]&&n[r](t.data?t.data:t)})),{run:n=>__async(this,null,(function*(){try{if(!t)return void(yield r({context:{elements:n}}));const i=n.filter((r=>!r.hasAttribute(`uw-ignore-${e}`)&&t(r)));if(!i.length)return void(o&&(yield r({context:{elements:[]}})));yield r({context:{elements:i}})}catch(i){console.warn(i)}})),stop:()=>{},rerun:()=>{},ruleId:e}),Fn=e=>{if(!e)return null;const t=e.split("|")[0];return document.evaluate(t,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},Wn=e=>!!["input","select","button","textarea","a"].includes(e.tagName.toLowerCase())||["button","checkbox","link","option"].includes((e.getAttribute("role")||"").toLowerCase()),$n=e=>f.split(",").map((e=>e.trim())).some((t=>t===e.toLowerCase())),Bn=(e,t)=>("img"===e?t.getAttribute("alt"):t.getAttribute("aria-label"))||null,Hn=e=>e.getAttribute("role")||null,jn=e=>e.getAttribute("aria-level")||null,Vn=(e,t)=>"img"===e?t.getAttribute("src"):null,qn=e=>{if(null==e?void 0:e.nextElementSibling){const t=e.nextElementSibling;return $n(t.tagName)?qn(t):t}return null},Xn=e=>{if(null==e?void 0:e.previousElementSibling){const t=e.previousElementSibling;return $n(t.tagName)?Xn(t):t}return null},Gn=e=>{var t;return null!=(t=e.uwAtoId)?t:null},Kn=e=>{if(!e.parentElement)return null;const{parentElement:t}=e,r=R(t);return At().find((e=>e.xpath===r))?r:Kn(t)},zn=e=>{const t=Array.from(e.childNodes).find((e=>e.uwAtoId));if(t){const e=R(t);return At().find((t=>t.xpath===e))?e:null}return null},Yn=(e,t)=>{if(!e)return;const r=e,{tabindex:n,el:o}=r,i=__objRest(r,["tabindex","el"]),a=e.el?[...e.el.children]:[],l=t.filter((e=>a.includes(e.el)));if(l.length){const e=l.map((e=>Yn(e,t)));return __spreadProps(__spreadValues({},i),{children:e})}return i},Zn=(e,t="")=>{const r=[e];e.parentElement&&r.push(e.parentElement);let n=0;const o=(null==e?void 0:e.children)?[...e.children].filter((e=>!$n(e.tagName))).reverse():[];o.length&&(r.unshift(...o),n+=o.length);const i=qn(e);i&&!r.includes(i)&&(r.splice(n,0,i),n+=1);const a=Xn(e);a&&!r.includes(a)&&r.splice(n+1,0,a);const l=r.map((t=>{const r=t.tagName.toLowerCase(),n=ft(t,!0);if(!n)return null;const{type:o,label:i,id:a}=n,l="function"==typeof t.getAttribute?{label:Bn(r,t),isHidden:(s=t,"true"===s.getAttribute("aria-hidden")||"presentation"===s.getAttribute("role")),role:Hn(t),ariaLevel:jn(t),src:Vn(r,t),isControl:Wn(t),focusable:y(t),tabindex:ee(t)}:{};var s;return __spreadValues({tagName:r,text:[...t.childNodes].filter((e=>e.nodeType===Node.TEXT_NODE)).map((e=>{var t;return null==(t=e.textContent)?void 0:t.trim()})).join(" ").trim(),id:a,xpath:R(t),selected:t===e,el:t,semanticType:o,textToRead:i,uwAtoId:Gn(t),accessibleParentXpath:Kn(t),accessibleChildXpath:zn(t)},l)})).filter(Boolean).reverse();if(l){const e=Yn(l[0],l);e&&p({action:Zr,type:"elements-selected",data:{tree:e,source:t}},[Gr])}};let Jn,Qn;const eo=(e,t)=>{const r="img"===(null==e?void 0:e.tagName.toLowerCase());t&&!r&&e.setAttribute("aria-label",t)},to=(e,t)=>{const{tabindex:r,role:n,ariaLevel:o}=t;r&&e.setAttribute("tabindex",r),n&&"no role"!==n?e.setAttribute("role",n):n&&"no role"!==n||e.removeAttribute("role"),o&&e.setAttribute("aria-level",o)},ro=Un({ruleId:zr,rule:()=>{if(!Ve.ariaEditor.enabled)return;const e=(()=>{let e=Qe().AriaEditorValues;const t=`${O(window.location.pathname)}`;return e=e.filter((e=>!e.page||e.page===t)),e})();if(e)for(const t of e){const e=Fn(t.xpath);if(!e)continue;const r=e.nodeType===Node.ELEMENT_NODE,n=e.hasAttribute(Yr)&&t.processed;if(!r||n)continue;const{hidden:o,correction:i}=t;o?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden"),eo(e,i),to(e,t),e.setAttribute(Yr,""),t.processed=!0}},postMessageApi:{"add-aria-editor":()=>{Qn=document.querySelector(`iframe[name=${Gr}]`),Qn||(Jn=new Promise((e=>{const t={class:"userway_iframe_aria_editor",name:"uwAccessibilityEditor",title:"Accessibility Editor",src:Kr};Qn=document.createElement("iframe"),Object.entries(t).forEach((([e,t])=>{null==Qn||Qn.setAttribute(e,t)})),Qn.style="\n            z-index: 2147483647;\n            position: fixed;\n            left: 0;\n            top: 0;\n            width: 100%!important;\n            max-width: 100%!important;\n            height: 100%!important;\n            max-height: 100%!important;\n            visibility: hidden;\n            opacity: 0!important;\n            border: none;\n            display: block;\n          ",Qn.onload=()=>{e()},Qn&&document.body.appendChild(Qn)})))},"open-aria-editor":()=>{Jn.then((()=>{window.parent.postMessage({action:"close",isUserWay:!0}),window.parent.postMessage({action:"manageIconVisibility",isUserWay:!0,type:"hidden"}),Qn&&(Qn.style.visibility="visible",Qn.style.opacity="1"),p({action:Zr,type:"aria-editor-open-request"},[Gr])}))},"close-aria-editor":()=>{window.parent.postMessage({action:"open",isUserWay:!0}),window.parent.postMessage({action:"manageIconVisibility",isUserWay:!0,type:"visible"}),Qn&&(Qn.style.visibility="hidden",Qn.style.opacity="0"),p({action:Zr,type:"aria-editor-closed"},[Gr])},"editor-init":()=>{const e=Xe,t=!(!e||!e.CUSTOM_BRANDING&&!e.WHITE_LABEL);p({action:Zr,type:"open-aria-editor",data:{siteId:Xe.siteId,showTutorial:!0,whiteLabel:t,hash:O(window.location.pathname)}},[Gr])},"update-aria-hidden":e=>{const{xpath:t,hidden:r}=e;if(!t)return;const n=q(t);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(r?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"),n.setAttribute(Yr,""))},"update-tabindex":e=>{const{xpath:t,focusable:r,isControl:n}=e;if(!t)return;const o=q(t);(null==o?void 0:o.nodeType)===Node.ELEMENT_NODE&&(n?o[r?"removeAttribute":"setAttribute"]("tabindex","-1"):o[r?"setAttribute":"removeAttribute"]("tabindex","0"),o.setAttribute(Yr,""))},"update-aria-label":e=>{const{xpath:t,label:r}=e;if(!t||null==r)return;const n=q(t);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(n.setAttribute("aria-label",e.label),n.setAttribute(Yr,""))},"update-aria-level":e=>{const{xpath:t,ariaLevel:r}=e;if(!t)return;const n=q(t);(null==n?void 0:n.nodeType)===Node.ELEMENT_NODE&&(r?n.setAttribute("aria-level",r):n.removeAttribute("aria-level"),n.setAttribute(Yr,""))},"update-role":e=>{const{xpath:t,role:r}=e;if(!t)return;const n=q(t);if((null==n?void 0:n.nodeType)===Node.ELEMENT_NODE){r&&"no role"!==r?n.setAttribute("role",r):n.removeAttribute("role"),n.setAttribute(Yr,"")}},"select-elements-by-xpath":e=>{const{xpath:t,source:r}=e;if(!t)return;const n=q(t);n&&Zn(n,r)},"select-elements-at-point":e=>{const{position:{x:t,y:r}}=e;let n=document.elementsFromPoint(t,r);const o=n.findIndex((e=>e.getAttribute("name")===Gr));-1!==o&&n.splice(o,1),n=n.filter((e=>!["HTML","BODY"].includes(e.tagName))).slice(0,2),n.length&&Zn(n[0])},"update-aria-editor-config":e=>{const{page:t="",xpath:r=""}=e,n=Qe().AriaEditorValues.findIndex((e=>e.page===t&&e.xpath===r)),o=Qe().AriaEditorValues[n],i=__spreadValues(__spreadValues({},o),(e=>__spreadProps(__spreadValues({},e),{hidden:e.isHidden}))(e));-1!==n?Qe().AriaEditorValues[n]=i:Qe().AriaEditorValues.push(i)}}}),no=({currentSrc:e,src:t})=>e||t,oo=(e,t)=>{try{const r=e.getAttribute("height"),n=e.getAttribute("width"),{width:o,height:i}=window.getComputedStyle(e);return parseInt(n||o,10)>t&&parseInt(r||i,10)>t}catch(r){return!1}},io=(e,{decorative:t,approved:r,fixedByUserWay:n,loadingFromMS:o,quotaExceeded:i})=>{var a;return{src:no(e),alt:e.alt,originalAlt:null!=(a=e.getAttribute(cr))?a:"",decorative:t,approved:r,fixedByUserWay:n,loadingFromMS:o,quotaExceeded:i}},ao=e=>{e.setAttribute("role","presentation"),e.removeAttribute("aria-hidden"),e.setAttribute("alt","")},lo=e=>{if(!e)return"";try{const{hostname:t}=new URL(e);return t.replace(/^https?:\/\//,"").replace(/^www\./,"").replace(/\.[a-zA-Z0-9]*$/,"")}catch(t){return""}},so=e=>{const t=no(e);return yr.test(t)},uo=e=>{const t=e.trim();if(!t)return!0;if(t.length>500)return!0;if(Ar.test(t))return!0;const r=t.split(/\s+/).length;if(wr.test(t)&&1===r||br.test(t))return!0;return!!vr.test(t)},{enabled:co,config:po}=(null==Ve?void 0:Ve.alt)||{enabled:!1,config:{}},mo=null==po?void 0:po.decorative,fo=(e,t="selectors")=>{if(!mo||!co)return!1;const r=mo[t];return!!Array.isArray(r)&&r.some((t=>e.matches(t)))},go=(e,t)=>{const r=e.alt.trim();if(!t||null===t.alt)return null;const{decorative:n,alt:o,approved:i,reverted:a}=t;if(a&&!n)return e.setAttribute(pr,fr.Reverted),io(e,{approved:!0,decorative:!r,fixedByUserWay:!1,loadingFromMS:!1});const l=!(!Ve||"AUTO"===Ve.strategy)&&!i;!n||l||fo(e,"ignoreSelectors")||ao(e);const s=i||!r||uo(r);o&&!l&&s&&!n&&e.setAttribute("alt",o),e.setAttribute(pr,fr.Backend);const u=io(e,{approved:i,decorative:n,fixedByUserWay:!0,loadingFromMS:!1});return l&&(u.alt=o),u},ho=e=>{const t=e.getAttribute("width"),r=e.getAttribute("height");if(t&&parseFloat(t)>0&&r&&parseFloat(r)>0)return!0;const{width:n,height:o}=window.getComputedStyle(e);try{if(0===parseFloat(n)&&0===parseFloat(o))return!1}catch(s){return!1}const i=/^\d*px?/i,a=i.test(n),l=i.test(o);return a&&l},bo=e=>{if(fo(e))return sr.CUSTOM_CONFIG;const t=no(e),r=uo(e.alt),n=ho(e);var o;if(!(o=t)||!o.match(yr)&&![/^https?:\/\/.{1,256}\.[a-z]{2,63}\/.+$/gim,/^https?:\/\/[^:\/\s]{1,256}:\d{1,5}\/.+$/gim].some((e=>e.test(o))))return sr.WRONG_SRC;if(!!n&&!oo(e,10)&&r)return sr.MICRO_SIZE;if(!!n&&(e=>{try{const{width:t,height:r}=window.getComputedStyle(e),n=parseInt(t,10),o=parseInt(r,10);return!!(n<=20&&o>=10*n||o<=20&&n>=10*o)}catch(t){return!1}})(e))return sr.ASPECT_RATIO;if(so(e)&&r)return sr.BASE64;if("true"===e.getAttribute("aria-hidden")||"presentation"===e.getAttribute("role")||"none"===e.getAttribute("role"))return sr.HIDDEN_FROM_SCREEN_READER;if(Er.test(t)&&r)return sr.SVG;if(!(!n||oo(e,50))&&r)return sr.SMALL_SIZE;return e.getAttribute(":src")||e.getAttribute("x-bind:src")?sr.ALPINEJS:null},Ao=e=>{switch(e){case sr.ASPECT_RATIO:return fr.AspectRatio;case sr.BASE64:return fr.Base64;case sr.EXCLUDED_SRC:return fr.Excluded;case sr.SVG:return fr.Svg;case sr.MICRO_SIZE:return fr.Micro;case sr.SMALL_SIZE:return fr.Small;case sr.WRONG_SRC:return fr.InvalidSrc;case sr.CUSTOM_CONFIG:return fr.CustomConfig;case sr.NOT_LOADED:return fr.NotLoaded;case sr.ALPINEJS:return fr.Alpinejs;case sr.HIDDEN_FROM_SCREEN_READER:default:return fr.Hidden}},yo=(e,t,r,n,o)=>{const i=UserWayWidgetApp.getLib("remediation_manager"),a=UserWayWidgetApp.getLib("remediation_helper_outcome");if(!a.of)return;const l=a.of(e,t?{items:t}:null,null!=o?o:null,r,n);i.HelperCallbackAggregator.onHelperRemediationCompleted(l)},Eo=new Map,vo=e=>{const t=R(e);return Eo.get(t)||null},wo=e=>yo(dr,e,e.filter((e=>e.fixedByUserWay)).length,e.filter((e=>!e.approved)).length),_o=e=>{e.hasAttribute(cr)||e.setAttribute(cr,e.alt)},No=(e,t=[])=>{if(0===e.length)return;const{paidAi:r}=Xe,n=[];for(const o of e){const e=o,i=uo(e.alt),a=no(e),l=vo(e),s=fo(e,"ignoreSelectors");_o(e),Er.test(a)&&r&&e.setAttribute("role","img");const u=t.find((e=>P(e.src).toLowerCase()===P(a).toLowerCase())),c=go(e,u);if(c){n.push(c);continue}if(s){e.setAttribute(pr,Ao(sr.CUSTOM_CONFIG));continue}if(!r)continue;const d=null==l?void 0:l.shouldBeDecorativeReason;if(!i&&!d){e.setAttribute(pr,fr.CorrectAlt),n.push(io(e,{approved:!0,decorative:!1,fixedByUserWay:!1}));continue}if(null==l?void 0:l.isThirdParty){ao(e),e.setAttribute(pr,fr.ThirdParty);continue}if(void 0!==d){ao(e),e.setAttribute(pr,Ao(d)),d&&ur.includes(d)&&n.push(io(e,{approved:!1,decorative:!0,fixedByUserWay:!0}));continue}const p=null==l?void 0:l.relevantText;if(p){e.setAttribute("alt",p),e.setAttribute(pr,fr.ClosestText),n.push(io(e,{approved:!1,decorative:!1,fixedByUserWay:!0}));continue}const{quota:m,usage:f}=Ge;(null==u?void 0:u.metadata.quotaDepleted)||f>=m?(e.setAttribute(pr,fr.AIQuotaExceed),n.push(io(e,{approved:!1,decorative:!1,fixedByUserWay:!0,quotaExceeded:!0}))):(e.setAttribute(pr,fr.AI),n.push(io(e,{approved:!1,decorative:!1,fixedByUserWay:!0,loadingFromMS:!0})))}wo(n)},To=e=>{const t=e.replace(/^https?:\/\//,"");return document.querySelectorAll(`img[src*="${t}" i],img[srcset*="${t}" i]`)},xo=e=>__async(this,null,(function*(){const{account:t}=UserWayWidgetApp.ContextHolder.config,{siteId:r}=Xe,{resourceHash:n}=Ge,i=encodeURIComponent(e),a=yield fetch(`${o}api/img-dscr/v2/${t}/${r}/${n}/alts.json?dto=${i}`,{method:"GET",headers:{"Content-Type":"application/json"}});return(yield a.json()).payload})),Io=e=>{const t=`(.*\\.(${mr.join("|")}))\\?.*$`,r=new RegExp(t),n=e.match(r);if(!n){const t=new URL(e),r=[];let n=!1;return t.searchParams.forEach(((e,t)=>{mr.some((t=>e.endsWith(t)))?n=!0:r.push(t)})),n&&r.forEach((e=>t.searchParams.delete(e))),n?t.toString():e}return n&&n[1]?n[1]:e};var Lo=(e=>(e.RO="RO",e))(Lo||{});const So=(e,t)=>e.src.localeCompare(t.src),Co=(e,t=1)=>{if(t>=15)return console.warn("Max split level exceed"),[];const r=((e,t)=>{const r=Math.ceil(e.length/t),n=[];for(let o=0;o<e.length;o+=r)n.push(e.slice(o,o+r));return n})(e,t),n=[];for(const o of r){const r={sorted:o,tier:Ge.tier,pageUrl:window.location.href},i=JSON.stringify(r);if(encodeURIComponent(i).length/1024>8)return Co(e,t+1);n.push(i)}return n},Oo=["data-lazy-src","data-src","data-lazy"],Ro=e=>"lazy"===e.loading||(e=>Oo.some((t=>e.hasAttribute(t))))(e),ko=(e,t)=>{ao(e),e.setAttribute(pr,Ao(t))},Do=(e,t,r)=>{e.addEventListener("load",(()=>{t()})),e.addEventListener("error",(()=>{ko(e,sr.NOT_LOADED),r()}))},Mo=e=>(e=>{if("string"!=typeof e)return!1;for(const t of Object.values(or)){const r=new RegExp(t,"i");if(e.match(r))return!0}return!1})(e.src)?Promise.reject({image:e,decorativeReason:sr.EXCLUDED_SRC}):e.getAttribute("src")||e.getAttribute("srcset")||Ro(e)?new Promise((e=>(t,r)=>{if((e=>e.complete&&0!==e.naturalHeight)(e))return void t(e);if(Ro(e))return void Do(e,(()=>t(e)),(()=>r({image:e,decorativeReason:sr.WRONG_SRC})));const n=new Image;Do(n,(()=>t(e)),(()=>r({image:e,decorativeReason:sr.WRONG_SRC}))),n.src=e.src})(e)):Promise.reject({image:e,decorativeReason:sr.WRONG_SRC}),Po=e=>{const t=(e=>{const t=e.cloneNode(!0);var r;return t.setAttribute(pr,""),(r=t)&&(r.style.setProperty("display","block","important"),r.style.setProperty("opacity","0","important"),r.style.setProperty("visibility","hidden","important"),r.style.setProperty("position","absolute","important"),r.style.setProperty("pointer-events","none","important"),r.style.setProperty("z-index","-999","important"),r.style.setProperty("bottom","0","important")),t})(e);return new Promise((r=>{t.addEventListener("load",(()=>{const e=bo(t);t.remove(),r(e)})),e.addEventListener("error",(()=>{t.remove(),r(null)})),document.body.appendChild(t)}))},Uo=e=>e?e.replace(/\n/g,"").replace(/ {2,}/g," ").trim():"",Fo=(e,t)=>{if(!e)return null;const r="next"===t.type?e.nextSibling:e.previousSibling;if((null==r?void 0:r.nodeType)===Node.TEXT_NODE){if(!Uo(r.nodeValue))return Fo(r,{type:t.type})}return r},Wo=e=>{const t=e.nodeType===Node.ELEMENT_NODE,r=e instanceof Element&&"hide"===e.getAttribute(gr);if(e.nodeType===Node.TEXT_NODE)return!0;if(t&&!r){const t=ar.some((t=>t===e.nodeName.toLowerCase())),r=lr.some((t=>{var r;return t===(null==(r=e.getAttribute("role"))?void 0:r.toLowerCase())}));return t||r}return!1},$o=Array.from(new Set([...ar,"a","span","strong","em","b","i","q","mark"])),Bo=e=>{if((null==e?void 0:e.nodeType)===Node.TEXT_NODE){const t=Uo(e.nodeValue);if(t&&!uo(t))return t}if((null==e?void 0:e.nodeType)===Node.ELEMENT_NODE&&$o.includes(e.tagName.toLowerCase()))for(const t of e.childNodes){const e=Bo(t);if(e)return e}return null},Ho=e=>{const t=e.nodeType===Node.ELEMENT_NODE,r=e.nodeType===Node.TEXT_NODE;if(!r&&!t)return!1;if(t&&"img"===e.nodeName.toLowerCase())return!0;if(r)return!!Uo(e.textContent);const n=ar.some((t=>t===e.nodeName.toLowerCase())),o=lr.some((t=>{var r;return t===(null==(r=e.getAttribute("role"))?void 0:r.toLowerCase())}));return n||o};let jo=0;const Vo=e=>{const t=e.parentElement;if(!t)return null;if(t.getElementsByTagName("img").length>1)return jo=0,null;if(1===[].slice.call(t.childNodes).filter(Ho).length)return Vo(t);const r=(e=>{let t=Fo(e,{type:"next"}),r=Fo(e,{type:"prev"}),n=null,o=null;for(;t||r;){t&&Wo(t)&&(n=Bo(t)),r&&Wo(r)&&(o=Bo(r));const e=n||o;if(e)return e;t=Fo(t,{type:"next"}),r=Fo(r,{type:"prev"})}return null})(e);return r?(jo=0,r):(jo+=1,"body"===t.tagName.toLowerCase()?(jo=0,null):jo<2?Vo(t):(jo=0,null))},qo=e=>{const t=e.closest("figure");if(t){const e=Array.from(t.children).find((e=>"figcaption"===e.tagName.toLowerCase()));if(e){const t=Uo(e.textContent);if(t&&!uo(t))return t}}const r=[].slice.call(e.classList).join(" "),n=e.id||"",o=(i=r+n).trim()&&ir.find((e=>i.includes(e)))||null;var i;if(o)return o;const a=Vo(e);return a||null},Xo=e=>__async(this,null,(function*(){const t=[],r=[],n=(e=>{var t,r;const n=[];for(const o of e){const e=no(o),t=lo(e);if(t){let e=n.find((e=>e.name===t));e||(e={name:t,weight:0},n.push(e)),e.weight+=1}}return null!=(r=null==(t=n.sort(((e,t)=>e.weight<t.weight?1:-1))[0])?void 0:t.name)?r:""})(e);return yield Promise.all(e.map((e=>__async(this,null,(function*(){const o=e,i=((e,t)=>{if(!ho(e))return!1;const r=no(e);return lo(r)!==t&&!oo(e,20)})(o,n);let a=bo(o);const l="none"===window.getComputedStyle(o).display;a||!l||Ro(o)||i||(a=yield Po(o));const s=uo(o.alt),u=a&&!ur.includes(a)||i||so(o)||fo(o,"ignoreSelectors"),c={};if(a&&(c.shouldBeDecorativeReason=a),i&&(c.isThirdParty=i),u)r.push(o);else{if(s){const e=qo(o);e&&(c.relevantText=e)}t.push(o)}Object.keys(c).length&&((e,t)=>{const r=R(e);Eo.set(r,t)})(o,c)}))))),{imagesForBE:t,imagesNotForBE:r}})),Go=[],Ko=e=>__async(this,null,(function*(){const t=(e=>{const t=e,r=t.filter(((e,r)=>r===t.findIndex((t=>no(e)===no(t))))).map((e=>{const t=e,r=t.alt.trim(),n=r&&!uo(r),o=no(t),i=vo(t);return{src:Io(o),alt:t.alt.trim(),dir:n||(null==i?void 0:i.shouldBeDecorativeReason)||(null==i?void 0:i.relevantText)?Lo.RO:void 0}}));return r.sort(So),r})(e),r=Co(t);r.length&&(yield Promise.all(r.map((t=>__async(this,null,(function*(){try{const r=yield xo(t);if(!r)return;const{missingAlts:n}=r,o=((e,t)=>e.filter((e=>t.some((t=>P(t.src)===P(no(e)))))))(e,n);No(o,n)}catch(r){console.error("Get missing alts error: ",r)}}))))))})),zo=(e,t)=>__async(this,null,(function*(){if(Ge&&"ALTS_OFF"!==Ge.state)try{const{imagesForBE:t,imagesNotForBE:r}=yield Xo(e);No(r),yield Ko(t),Go.length=0}catch(r){console.error("Error during image alt rule processing:",r)}finally{t()}})),Yo=Ht(((e,t)=>zo(e,t)),1e3,{maxWait:2e3,leading:!1,trailing:!0}),Zo=Un({ruleId:dr,rule:({context:{elements:e}})=>new Promise((t=>{const r=e.reduce(((e,t)=>{const r=Mo(t);return r?[...e,r]:e}),[]);let n=0;const o=r.map((e=>e.then((e=>{Go.push(e),Yo(Go,t)})).catch((({image:e,decorativeReason:t})=>{ko(e,t),n++}))));Promise.all(o).then((()=>{r.length===n&&t()}))})),isTargetElement:_r,postMessageApi:{"image-alt-update":({src:e,decorative:t,alt:r,role:n})=>{const o=To(e);if(o.length){for(const e of o)e.setAttribute("alt",null!=r?r:""),t?ao(e):("presentation"!==e.getAttribute("role")&&"none"!==e.getAttribute("role")||e.removeAttribute("role"),e.hasAttribute("aria-hidden")&&e.removeAttribute("aria-hidden")),["link","button","heading"].includes(n)&&e.setAttribute("aria-label",r);wo([io(o[0],{approved:!0,decorative:t,fixedByUserWay:!1})])}},"image-alt-revert":({src:e})=>{const t=To(e);for(const r of t){const e=r.getAttribute(cr);null!==e&&r.setAttribute("alt",e)}}}}),Jo=e=>{const{tagName:t}=e;return"SELECT"===t||"TEXTAREA"===t?t.toLowerCase():"text"},Qo=e=>{const t=e.getAttribute("id");if(!t)return null;try{return document.querySelector(`label[for='${t}']`)}catch(r){return null}},ei=e=>{const t="string"==typeof e?e:e.textContent;return t&&t.replace(/\r\n|\r|\n|\t/g," ").replace(/( )+/g," ").trim()},ti=(e,t)=>{for(const[r,n]of t)if(n.test(e))return r;return""},ri=e=>{let t="";const r=e.getAttribute("placeholder"),n=e.getAttribute("title");if(r&&r.trim())return r;if(n&&n.trim())return n;const{classList:o,name:i,tagName:a,type:l}=e,s=`${[...o].join(" ")||""} ${i||""}`.trim();return"text"===l&&(t=ti(s,dn)),"SELECT"===a&&(t=ti(s,pn)),t||(e=>{const{tagName:t,type:r}=e;return"SELECT"===t?"select-multiple"===r?"Multiple select":"Single select":"TEXTAREA"===t?"Text area":"INPUT"===t&&r&&cn[r.replace("-","_")]?cn[r.replace("-","_")]:""})(e)},ni=e=>{if(e.parentElement){const t=[...e.parentElement.querySelectorAll("label")];if(1===t.length&&(e=>{const t="LABEL"===e.tagName,r=e.getAttribute("for");return t&&(!(null==r?void 0:r.trim())||!document.getElementById(r))})(t[0]))return t[0].textContent}return null},oi=e=>{const t=e.previousElementSibling;return t&&(e=>{var t;return["DIV","SPAN","P"].includes(e.tagName)&&Boolean(null==(t=e.textContent)?void 0:t.trim())})(t)?(Ve.strategy===rt&&((e,t)=>{const r=t.getAttribute("id")||S();t.setAttribute("id",r),e.setAttribute("aria-labelledby",r)})(e,t),t.textContent):null},ii=({element:e,accessibleName:t,isRequired:r,isAutoStrategy:n=!0})=>{if(!n)return;const o=e.closest("label"),i=Qo(e);r?(e.setAttribute("required",""),e.setAttribute("aria-required","true")):(e.removeAttribute("required"),e.removeAttribute("aria-required"));const a=o||i,l=e.hasAttribute("aria-labelledby")&&document.getElementById(e.getAttribute("aria-labelledby"));if(a){const e=a.querySelector("span[data-uw-reader-element]");if(e)e.textContent=t;else{const e=C(t);a.appendChild(e)}}else l||e.setAttribute("aria-label",t)},ai=e=>{const t=e.getAttribute("aria-labelledby");if(t){const e=(e=>{var t;const r=e.split(" "),n=[];for(const o of r){const e=null==(t=document.getElementById(o))?void 0:t.textContent;e&&n.push(e)}return n.join(" ")})(t);if(e){const t=ei(e);if(t)return t}}const r=e.getAttribute("aria-label");if(r){const e=ei(r);if(e)return e}const n=e.closest("label");if(n){const e=(e=>{let t=e.textContent||"";const r=e.querySelector("select");if(r){const e=r.textContent||"";t=t.replace(e,"")}return t.trim()})(n);if(e)return ei(e)}const o=Qo(e);if(o){const e=ei(o);if(e)return e}return null},li=(e,t,r,n)=>{const{Forms:o}=Qe(),i=ai(e),a=o.find((({xpath:e,approved:t})=>t&&+e===O(r)));return i&&(e=>{const t=Qo(e);if(!t)return!1;const{display:r,visibility:n}=getComputedStyle(t);return"none"===r||"hidden"===n})(e)&&e.setAttribute("aria-label",i),a?(ii({element:e,accessibleName:a.correction,isRequired:a.required}),{type:a.type,xpath:r,required:a.required,correction:a.correction,approved:a.approved,xpathHash:O(r),label:i}):i?(e.setAttribute(an,"nfx"),{type:t,xpath:r,correction:i,approved:!0,xpathHash:O(r),label:i,required:n}):null},si=e=>{E(e,{skipCheckingOutOfView:!0})||(e.setAttribute("aria-label",un),e.setAttribute(sn,un),X(e,(()=>{e.hasAttribute(sn)&&e.hasAttribute("aria-label")&&e.getAttribute(sn)===e.getAttribute("aria-label")&&(e.removeAttribute(sn),e.removeAttribute("aria-label"))})));const t=ni(e);if(t)return t;const r=oi(e);if(r)return r;const n=ri(e);return n||null},ui=Un({ruleId:on,rule:({context:{elements:e}})=>{const t=[];for(const r of e){r.setAttribute(an,"fx");const e=r.hasAttribute("required"),n=Ve.strategy===rt,o=R(r),i=Jo(r),a=li(r,i,o,e);if(a){t.push(a);continue}const l=si(r);l?(ii({element:r,accessibleName:l,isRequired:e,isAutoStrategy:n}),t.push({type:i,xpath:o,correction:l,approved:!1,xpathHash:O(o),label:null,required:e})):t.push({type:i,xpath:o,correction:null,approved:!1,xpathHash:O(o),label:null,required:e})}yo(on,t,t.filter((e=>e.approved)).length,t.filter((e=>!e.approved)).length)},isTargetElement:e=>{const t=ln.includes(e.tagName);if(e.hasAttribute(an)||!t)return!1;const r=e.getAttribute("type");return!("SELECT"!==e.tagName&&"TEXTAREA"!==e.tagName&&("INPUT"!==e.tagName||"hidden"===r))},postMessageApi:{"form-label-update":({correction:e,required:t,xpath:r})=>{const n=q(r.toString());n&&(e&&(n.setAttribute("aria-label",e),n.removeAttribute("aria-labelledby")),t?(n.setAttribute("required",""),n.setAttribute("aria-required","true")):(n.removeAttribute("required"),n.removeAttribute("aria-required")))}}}),ci=e=>{if(!e.hasAttribute("href"))return null;const t=e.getAttribute("href").toLowerCase().match(/^https?:\/\/(?:www\.)?([^/?#]+)/);return t?t[1]:null},di={},pi=e=>{const t=e.tagName.toLowerCase(),r=null==e?void 0:e.type,n=e.getAttribute("role");return"summary"===t?"<summary>":["a","button"].includes(t)?"a"===t?"<link>":"<button>":"input"===t&&["button","submit","reset"].includes(r)?"<input>":"link"===n?"<link> (role)":"<button> (role)"},mi=[],fi=(e,t,r=!1)=>{const n=!(null==Ve?void 0:Ve.strategy)||"AUTO"===Ve.strategy;var o;return(r||n)&&e.setAttribute("aria-label",t),e.setAttribute(Qr,""),o={correction:t,approved:r,xpath:R(e),name:pi(e)},mi.push(o),!0},gi=(e,t)=>{var r;const n=t||e,o=en.find((e=>"a"===n.tagName.toLowerCase()&&n.href.includes(e)));if(o)return fi(e,o);const i=(e=>{const t=Array.from(e.children);t.push(e);let r=[];for(const n of t)r=r.concat(Array.from(n.classList).map((e=>e.toLowerCase())));return r})(n);let a=en.find((e=>i.find((t=>t.includes(e)))));if(a||rn.find((e=>i.find((t=>{const r=e.re.test(t)&&t.replace(e.re,e.replacer);return!!r&&(a=r,!0)})))),a)return fi(e,a);const l=null==(r=window.getComputedStyle(n).backgroundImage)?void 0:r.toLowerCase(),s=en.find((e=>l.includes(e)));if(s)return fi(e,s);const u=Object.keys(tn).find((e=>i.find((t=>t.includes(e))))),c=u?tn[u]:null;if(c)return fi(e,c);const d=_(n,"",{includeTextFromVisuallyHiddenElements:!0});return!!d&&fi(e,d)},hi=["here","click","clicking","download","now","this","link","more","read","please","continue","reading","learn","details"],bi=e=>{__spreadValues({},di)[O(e.xpath)]=e;const t=V(e.xpath);t&&fi(t,e.correction)},Ai=Un({ruleId:Jr,rule:({context:{elements:e}})=>{const{EmptyControls:t}=Qe(),r=(e=>{if(!(null==e?void 0:e.length))return null;for(const t of e){const e=O(t.xpath),r=di[e],n=t.page;(!r||r&&n)&&(di[e]=t)}return __spreadValues({},di)})(t);for(const o of e){if(r){const e=r[O(R(o))];if(e){fi(o,e.correction,!0);continue}}if(!gi(o)){const e=o.getAttribute("role"),t=o.tagName.toLowerCase(),r=o.getAttribute("type"),n=o.getAttribute("alt"),i=o.getAttribute(cr);if(Array.from(o.children).filter((e=>!Cn(e))).find((e=>gi(o,e))))continue;const a=ci(o);if(a){fi(o,a);continue}if((n||i)&&"img"===t&&e&&["link","button"].includes(e)){fi(o,n||i);continue}if("button"===t||"button"===e||"input"===t&&"button"===r){fi(o,"button");continue}fi(o,"Open this option")}}const n=[].slice.call(mi);yo("REMEDIATION_EMPTY_CONTROLS",n,n.length,n.filter((e=>!e.approved)).length),mi.length=0},isTargetElement:e=>{if(e.hasAttribute(Qr))return!1;const t=e.tagName.toLowerCase(),r=e.getAttribute("role"),n=null==e?void 0:e.type;if(!(nn.includes(t)||"link"===r||"button"===r)&&!("input"===t&&"button"===n))return!1;if(!!I(e,{excludeAttribute:["aria-describedby"]}))return!1;const{title:o}=e,i=!/^\d+$/.test(o);return!(o&&i&&(e=>{for(const t of e.trim().toLowerCase().split(" ")){const e=t.trim();if(e.length>3&&!hi.includes(e))return!0}return!1})(o))},postMessageApi:{"empty-controls-update":({data:e})=>{var t;(null!=(t=null==e?void 0:e.xpath)?t:null==e?void 0:e.correction)&&bi(e)}}});function yi(){const{hostname:e,pathname:t}=window.location,r=e.trim().replace(/^www\./,"").replace(/\.[a-z]+$/,"").replace(/\./g,"-"),n=decodeURIComponent(t).trim().replace(/^blank$/,"").split("/").filter((e=>e)).join(" ").replace(/(\d+)/g,((e,t)=>` ${t} `)).replace(/\_/g," ").trim().replace(/\.(html?|php|aspx?)$/,"").replace(/\s{2,}/g," ");return(n+(n?" - ":" ")+r).trim()}const Ei=(e,t)=>{e.setAttribute(yn,t?wn:vn)},vi=e=>{var t;if("title"!==e.tagName.toLowerCase())return!1;const r=(null==(t=e.textContent)?void 0:t.trim())||"";return Q(r)},wi=Un({ruleId:En,rule:({context:{elements:e}})=>{const t=e[0];if(t&&vi(t)){const e=document.querySelector(`title[${yn}]`);null==e||e.remove()}else try{const e=document.head.getElementsByTagName("title")[0];if(e){if(!e.hasAttribute(yn)&&!vi(e)){e.setAttribute("data-uw-rm-title-orig",e.textContent||"");const t=yi();e.innerHTML=t,Ei(e,t)}}else{const e=document.createElement("title"),t=yi();e.innerHTML=t,Ei(e,t),document.head.appendChild(e)}}catch(r){r instanceof Error&&console.error(r)}},isTargetElement:e=>{const t="title"===e.tagName.toLowerCase(),r=e.hasAttribute(yn);return t&&!r},forceRun:!0}),_i="data-uw-rm-error-associate",Ni=[`div[class*="error" i]:not([${_i}])`,`div[class*="message" i]:not([${_i}])`,`span[class*="error" i]:not([${_i}])`,`span[class*="message" i]:not([${_i}])`,`p[class*="error" i]:not([${_i}])`,`p[class*="message" i]:not([${_i}])`],Ti=[`input:not([${_i}])`,`select:not([${_i}])`,`textarea:not([${_i}])`],xi=["error","message"],Ii=e=>{const t=e.nextElementSibling;if(t)for(const o of xi)if([...t.classList].join(" ").includes(o))return t;const r=e.parentElement;if(!r)return null;if(1!==r.querySelectorAll(Ti.join(",")).length)return null;const n=r.querySelectorAll(Ni.join(","));return 1!==n.length?null:n[0]},Li=(e,t)=>{if(e.getAttribute(_i))return;const r="true"===e.getAttribute("aria-invalid"),n=e.getAttribute("aria-errormessage"),o=e.getAttribute("aria-describedby");if(r&&n||o)return void e.setAttribute(_i,"nfx");const i=t.getAttribute("id");if(i)return e.setAttribute("aria-describedby",i),e.setAttribute(_i,"fx"),void t.setAttribute(_i,"fx");const a=S();t.setAttribute("id",a),t.setAttribute(_i,"fx"),e.setAttribute("aria-describedby",a),e.setAttribute(_i,"fx")},Si=e=>{for(const t of e){const e=Ii(t);e&&Li(t,e)}},Ci=(e,t)=>{const r=e.getBoundingClientRect();let n=1/0,o=null;for(const i of t){const e=i.getBoundingClientRect(),t=e.left-r.left,a=e.bottom-r.top,l=Math.abs(a),s=Math.sqrt(t*t+a*a);l<=100&&s<n&&(n=s,o=i)}return o},Oi=(e,t)=>{for(const r of t){const t=Ci(r,e);t&&Li(t,r)}},Ri=e=>{const t=new MutationObserver((t=>{const r=e.querySelectorAll(Ti.join(",")),n=e.querySelectorAll(Ni.join(","));for(const e of t)"childList"===e.type&&(Si([...r]),Oi([...r],[...n]))}));t.observe(e,{childList:!0,subtree:!0}),setTimeout((()=>{t.disconnect()}),15e3)},ki=Un({ruleId:"REMEDIATION_CONTROL_ERROR_ASSOCIATE",rule:({context:{elements:e}})=>{if(Ve.strategy===rt)for(const t of e)t.addEventListener("submit",(()=>{const e=[...t.querySelectorAll(Ti.join(","))],r=t.querySelectorAll(Ni.join(","));Si(e),Oi(e,[...r]),Ri(t)}))},isTargetElement:e=>"FORM"===e.tagName&&!e.hasAttribute("data-uw-rm-error-associate-ignore")}),Di=e=>{const t=e.match(/user-scalable=(0|no)/);return t?e.replace(t[0],""):e},Mi=e=>e.replace(/\s/g,"").replace(/,+|;+/g,", ").replace(/\s+$/g,"").replace(/^(,\s*)/,"").replace(/(,\s*)$/,""),Pi=e=>{const t=e.match(/maximum-scale(?:=([0-9]+(?:\.[0-9]+)?))?/),r=e.match(/\bmaximum-scale\b(?!=)/);if(t){const n=parseFloat(t[1]);if(!Number.isNaN(n)&&n<5||r)return e.replace(t[0],"maximum-scale=5.0")}return e},Ui=Un({ruleId:mn,rule:()=>{const e=document.head.querySelectorAll(gn);for(const t of e){let e=t.getAttribute("content")||"";e=[Pi,Di,Mi].reduce(((e,t)=>t(e)),e),t.setAttribute("content",e),t.setAttribute(fn,"")}},isTargetElement:e=>!e.hasAttribute(fn)&&e.matches(gn),forceRun:!0}),Fi=e=>{const t=null==e?void 0:e.trim();return(null==t?void 0:t.length)?t.split("?")[0].split("#")[0]:""};var Wi=(e=>(e.PRESENT="PRESENT",e.MISSING="MISSING",e))(Wi||{});const $i=()=>__async(this,null,(function*(){const{siteId:e}=Xe;try{const t=yield fetch(`${n}br-links/v0/contribute/${e}`,{method:"GET"});return(yield t.json()).payload}catch(t){return Wi.PRESENT}})),Bi=(e,t)=>__async(this,null,(function*(){const{siteId:r,userId:o}=Xe,i={userId:o,siteId:r,links:e,page:window.location.pathname,fullPage:window.location.href};yield fetch(`${n}br-links/v0/contribute/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i),signal:t}).catch((()=>{}))})),Hi=()=>__async(this,null,(function*(){const{siteId:e}=Xe;try{const t=yield fetch(`${n}br-links/v0/links/${e}`,{method:"GET"});return yield t.json()}catch(t){return{thisPageItems:[],totalNumber:0,lastPageIndex:0,pageItemType:"BrokenLinkHref"}}})),ji=e=>{var t,r;const n=null==(t=UserWayWidgetApp.getLib("localization_manager"))?void 0:t.translate,o=e.getAttribute("aria-label"),i=I(e),a=null!=o?o:i,l=`${n(Ye,"widget.broken_links.target_site_not_available")}`;if(""!==(null==(r=e.getAttribute("href"))?void 0:r.trim())){const t=a?`${a} - ${l}`:l;e.setAttribute("aria-label",t)}else e.setAttribute("href","#");e.setAttribute(qt,Gt.Fixed),e.setAttribute(Br,"")},Vi=e=>{var t;return{originalHref:e.getAttribute(Xt)||"",href:Fi(e.href),text:null!=(t=e.getAttribute("aria-label"))?t:"",pageHash:O(window.location.pathname),page:window.location.pathname,siteId:Xe.siteId}};let qi=[];const Xi=[],Gi=new AbortController,Ki=e=>{e.length&&$i().then((t=>{try{if(t===Wi.PRESENT)return void Gi.abort();if(t===Wi.MISSING){const t=e.map((e=>{const t=e.getAttribute(qt);t!==Gt.Fixed&&t!==Gt.FixedByCorrection&&e.setAttribute(qt,Gt.BackEndContributed);const r=Fi(e.href);var n;return n=r,Xi.push(n),r})),r=[...new Set(t)];Bi(r,Gi.signal),qi=[]}}catch(r){}})).catch((e=>{}))},zi=Ht((e=>Ki(e)),3500,{maxWait:3500,leading:!1,trailing:!0}),Yi=new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,63}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/),Zi=Un({ruleId:Vt,rule:({context:{elements:e}})=>{const t=[];for(const i of e)i.setAttribute(qt,Gt.Processed),i.setAttribute(Xt,i.getAttribute("href")||"");const r=e.filter((e=>{var r;const n=e,o=(e=>{const{BrokenLink:t}=Qe(),r=t.find((t=>t.href===e.href));if(!r)return!1;const{href_correction:n,text_correction:o}=r;if(n&&J(n)){const t=Z(n);e.setAttribute("href",t)}return o&&e.setAttribute("aria-label",o),e.setAttribute(qt,Gt.FixedByCorrection),!0})(n);o&&t.push(Vi(n));const i=(null==(r=n.getAttribute("href"))?void 0:r.trim())?null==n?void 0:n.href:"",a=""===i,l=Yi.test(i);return o||l&&!a||(ji(e),t.push(Vi(n))),l&&!a||o})),n=r.filter((e=>{const t=e,r=Fi(null==t?void 0:t.href);return n=r,!Xi.includes(n)||(t.setAttribute(qt,Gt.BackEndContributed),!1);var n}));var o;o=n,qi=[...qi,...o],zi([...qi]),Hi().then((({thisPageItems:e})=>{for(const n of e){const e=r.find((e=>Fi(e.href)===n.href));if(e){ji(e);const r=Vi(e);t.push(r)}}})).catch((e=>{console.log(e)})).finally((()=>{yo(Vt,t,t.length,t.length)}))},isTargetElement:zt,postMessageApi:{"update-broken-link":({correctionHref:e,originalHref:t,label:r})=>{const n=document.querySelectorAll(`a[${Xt}*="${t}" i]`);for(const o of n)if(r&&o.setAttribute("aria-label",r),e&&J(e)){const t=Z(e);o.setAttribute("href",t)}}}}),Ji=(e,t)=>`${e}$${t}`.toLowerCase().replace(/ /g,""),Qi=e=>{const t=e.getAttribute("aria-label"),r=e.getAttribute("aria-labelledby");return t||(r?N(r):_(e))},ea=Un({ruleId:$r,rule:({context:{elements:e}})=>{var t;const r=null==(t=UserWayWidgetApp.getLib("localization_manager"))?void 0:t.translate,{ExternalLink:n}=Qe(),o=(e=>{const t={};for(const r of e)t[Ji(r.href,r.term)]=r;return t})(n),i=[];for(const a of e){const e=Qi(a),t=Ji(a.href,e);let n;const l=`${r(Ye,"widget.new_tab")}`,s=`${r(Ye,"widget.new_tab_substring")}`,u=`${r(Ye,"widget.new_window_substring")}`;if(!e||e.toLowerCase().includes(s.toLowerCase())||e.toLowerCase().includes(u.toLowerCase()))a.setAttribute(Br,"na");else{if(o[t])n=o[t].correction,i.push(Object.assign(o[t],{id:t}));else{const r=` - ${l}`;n=(a.hasAttribute("aria-label")?a.getAttribute("aria-label"):e)+r,i.push({href:a.href,term:e,correction:n,id:t})}a.setAttribute("aria-label",n),a.setAttribute(Br,""),a.setAttribute("uw-rm-external-link-id",t)}}yo($r,i,i.length,0)},isTargetElement:e=>{if("a"!==e.tagName.toLowerCase())return!1;const t=e;if(t.hasAttribute(Br))return!1;const{href:r,target:n}=t,o=/^(http|https):/.test(r);return!!((null==r?void 0:r.trim())&&o&&n&&"_blank"===n)}}),ta="REMEDIATION_AUTO_PLAY_VIDEO",ra="data-uw-rm-av",na=["IFRAME","VIDEO"],oa=["youtube.com","vimeo.com"],ia=["autoplay=1","autoplay=true"],aa=["mute=1","mute=true"],la=Un({ruleId:ta,rule:({context:{elements:e}})=>{for(const t of e)"IFRAME"===t.nodeName?t.setAttribute(ra,"if"):"VIDEO"===t.nodeName&&t.setAttribute(ra,"vi");yo(ta,[],e.length,0)},isTargetElement:e=>{if(!na.includes(e.nodeName)||e.hasAttribute(ra))return!1;if("IFRAME"===e.nodeName){const t=e.getAttribute("src");if(!(t&&oa.some((e=>t.includes(e)))&&ia.some((e=>t.includes(e)))&&aa.some((e=>t.includes(e)))))return!1}const t=e.hasAttribute("autoplay"),r=e.hasAttribute("muted");return!!("VIDEO"!==e.nodeName||t&&r)}}),sa={},ua=({correction:e,approved:t,id:r})=>{const n=sa[r];const o=!(null==Ve?void 0:Ve.strategy)||"AUTO"===Ve.strategy;n&&e&&(t||o)&&(n.setAttribute("aria-label",e),n.setAttribute(qr,""),n.setAttribute("uw-rm-vague-link-id",r))},ca=e=>{if(!e)return"";return e.trim().replace(/(\n|\r\n)/g,"").replace(/\s+/g," ").replace(/\u200B/g,"")},da=e=>{const t=e.textContent?e.textContent:null,r=/tel:(.+)/,n=/mailto:(.+)/,o=/sms:(.+)/,i=e.getAttribute("href");return i&&r.test(i)?i.replace(r,"call $1"):i&&n.test(i)?i.replace(n,"send an email to $1"):i&&o.test(i)?i.replace(o,"send an sms to $1"):t&&t.trim()?ca(t.replace(/[^A-Za-z0-9\s]/g,"").replace(/\s{2,}/g," ").replace(/\n/g," ").toLowerCase()):null},pa=e=>{function t(e){if(!e)return null;if(-1!==["h1","h2","h3","h4","h5","h6"].indexOf(e.nodeName.toLowerCase()))return e.textContent;const t="heading"===e.getAttribute("role"),r=e.getAttribute("aria-level")||"";if(t&&["1","2","3","4","5","6"].includes(r))return e.textContent;const n=Array.from(e.querySelectorAll('h1,h2,h3,h4,h5,h6,[role="heading"][aria-level="1"],[role="heading"][aria-level="2"],[role="heading"][aria-level="3"],[role="heading"][aria-level="4"],[role="heading"][aria-level="5"],[role="heading"][aria-level="6"]'));return n.length?n[0].textContent:null}let r=e.parentElement,n=e;for(;r&&ca(Y(r))===ca(e.textContent);)n=r,r=r.parentElement;let o=n.previousElementSibling,i=t(o);for(;(null==o?void 0:o.parentElement)===r&&!i;)o=o.previousElementSibling,i=o?t(o):null;if(i)return ca([e.textContent,i].join(" "));const a=function(e,t){if(!e)return[];const r=[],n=(o=e,null==i&&(i=document),i.createTreeWalker(o,NodeFilter.SHOW_TEXT,null));var o,i;let a=n.nextNode();for(;a;)r.push({node:a,target:a.parentElement===t||t.contains(a)}),a=n.nextNode();return r}(r,e).map((({target:e,node:t})=>({text:ca(t.textContent),target:e}))).filter((({text:e})=>!!e));let l="",s="",u="";const c=a.find((({target:e})=>e)),d=c&&a.indexOf(c);s=c?c.text:"";let p=[];if(void 0!==d&&(d&&a[d-1]&&(p=a[d-1].text.split(/[.!?]+/),l=p.pop(),l=l?l.trim():""),d+1<a.length)){u=a[d+1].text.split(/[.!?]+/).shift(),u=u?u.trim():""}l||u||(l=p.length?p.pop():"");return ca([l,s,u].filter((e=>!!e)).join(" "))},ma=(e,t)=>`${e}$${t}`.toLowerCase(),fa=[],ga=e=>{fa.push(e)},ha={},ba=(e,t)=>{if(!e||!t)return!1;const r=e.match(/(tel:\+)(.+)/),n=e.match(/(sms:\+)(.+)/),o=e.match(/(mailto:)(.+)/);return!!(r&&r[2]&&t.includes(r[2]))||(!!(n&&n[2]&&t.includes(n[2]))||!!(o&&o[2]&&t.includes(o[2])))},Aa=e=>{const t=(e=>{if(!(null==e?void 0:e.length))return ha;for(const t of e){const e=ma(t.href,t.term);ha[e]||(ha[e]=t)}return __spreadValues({},ha)})(Qe().VagueLinks);for(const o of e){const e=da(o);if(!e)continue;let i;const a=o.getAttribute("href");if(a&&/^tel:|^mailto:|^sms:/.test(a)&&!ba(a,o.innerText))i=e;else if(-1===Xr.indexOf(e)||ba(a,o.innerText))continue;const l=ma(o.getAttribute("href")||o.nodeName,e),s=t[l];i=(null==s?void 0:s.correction)?s.correction:i||pa(o);const u={href:(null==s?void 0:s.href)||o.getAttribute("href")||"",term:(null==s?void 0:s.term)||e,correction:(null==s?void 0:s.correction)||i,approved:(n=null==s?void 0:s.approved,null!=n&&(null==s?void 0:s.approved)),id:l};r=o,sa[l]=r,ua(u),ga(u)}var r,n;return[].slice.call(fa)},ya=e=>"A"===(null==e?void 0:e.nodeName),Ea=Un({ruleId:Vr,rule:({context:{elements:e}})=>{const t=Aa(e);yo(Vr,t,t.length,t.filter((({approved:e})=>!e)).length),fa.length=0},isTargetElement:e=>{if(!(e=>(null==e?void 0:e.nodeType)===Node.ELEMENT_NODE)(e)||!ya(e)&&!(e=>"link"===(null==e?void 0:e.getAttribute("role")))(e))return!1;const t=e.getAttribute("href"),r=!t||!/(^http|^tel:|^mailto:|^sms:|^\/)/.test(t);if(ya(e)&&r)return!1;const n=e.getAttribute("aria-label");if(null==n?void 0:n.trim())return!1;const o=e.getAttribute("aria-labelledby");return!(null==o?void 0:o.trim())&&!e.hasAttribute(qr)},postMessageApi:{"vague-link-update":e=>{ua(e)}}}),va=e=>{var t;const r=e.getAttribute("aria-label")||e.getAttribute("aria-labelledby")||e.textContent,n=null==(t=null==r?void 0:r.trim())?void 0:t.toLowerCase();return null!=n?n:null},wa=e=>{const t=document.querySelector("main")||document.querySelector('[role="main"]')||document.querySelector("h1");if(!t)return!0;let r=0;for(const n of e){if(n===t)break;if(y(n)&&(r++,r<=3)){const e=va(n);if(e&&"uw-skip-to-main"!==n.id&&jr.some((t=>e.toLowerCase().includes(t))))return!0}if(r>5)break}return r<=5},_a=[],Na=Un({ruleId:Hr,rule:({context:{elements:e}})=>{const{pathname:t}=window.location;let r=0;const n=Ve.skipLinks,o=[{enabled:n.enabled,selector:n.config.anchorSelector}],i=!wa(e);!_a.includes(t)&&i&&(document.body.setAttribute("data-uw-rm-skl",""),r++),_a.push(t),yo(Hr,o,r,r)},isTargetElement:e=>e.matches("body *")&&"userwayAccessibilityIcon"!==e.id,postMessageApi:{"skip-links-get":e=>{const t=Ve.skipLinks;p(__spreadProps(__spreadValues({},e),{data:{enabled:t.enabled,selector:t.config.anchorSelector}}))}}}),Ta="REMEDIATION_IFRAME_TITLE",xa="data-uw-rm-iframe",Ia="data-correct-title",La="un",Sa="gn",Ca=e=>{const t=e.getAttribute(Ia);t&&(e.setAttribute("title",t),e.setAttribute(xa,Sa),e.removeAttribute(Ia))},Oa=e=>{const t="src",r="class",n="id",o=e.getAttribute(t)||"",i=e.getAttribute(r)||"",a=e.getAttribute(n)||"",l=(e=>{let t="";try{const{hostname:r}=new URL(e);t=r.replace("www.","").split(".").slice(0,-1).join("-")}catch(r){}return t})(o)||(e=>e.replace(/\./g,"").replace(/\s+/g," ").trim())(i)||a;l?(e.setAttribute("title",l),e.setAttribute(xa,Sa)):e.setAttribute(xa,La)},Ra=(e,t)=>{const r=[];return t.forEach((t=>{r.push(e[t])})),r},ka=e=>{const t=(e=>{const t={};let r=[];const n=[];e.forEach(((e,r)=>{var n;const o=null==(n=e.getAttribute("src"))?void 0:n.trim();o&&(t[o]?t[o].push(r):t[o]=[r])})),Object.keys(t).filter((e=>t[e].length>1)).forEach((r=>{n.push({src:r,elements:Ra(e,t[r])})}));for(const o of n){o.elements.sort(((e,t)=>e.title.length-t.title.length));const e=o.elements[o.elements.length-1].title;e&&(o.elements.pop(),o.elements.forEach((t=>{t.setAttribute(Ia,e)})),r=r.length?r.concat(o.elements):o.elements)}return r})(e),r=(e=>e.filter((e=>!(e=>!!e.getAttribute("title"))(e))))(e).filter((e=>!t.find((t=>t===e)))),n=[...r,...t];for(const o of n)o.hasAttribute(Ia)?Ca(o):Oa(o);return n},Da=Un({ruleId:Ta,rule:({context:{elements:e}})=>{const t=ka(e);yo(Ta,[],t.length,0)},isTargetElement:e=>{const t="iframe"===e.tagName.toLowerCase(),r=e.hasAttribute(xa);return t&&!r}}),Ma=["aside .filter input[type=checkbox]",".snize-product-filters-list input[type=checkbox]"],Pa="data-uw-rm-accessible-cb",Ua=Un({ruleId:"REMEDIATION_ACCESSIBLE_CHECKBOX_ID",rule:({context:{elements:e}})=>{e.forEach((e=>{var t;e.setAttribute(Pa,"");const r=e.style,{display:n}=getComputedStyle(e);if("none"===n&&(r.setProperty("height","0","important"),r.setProperty("width","0","important"),r.setProperty("margin","0","important")),r.setProperty("visibility","visible","important"),r.setProperty("display","inline-block","important"),r.setProperty("opacity","0","important"),r.setProperty("pointer-events","none","important"),!e.id)return;const o=Qo(e);o&&o.textContent&&!e.hasAttribute("aria-label")&&e.setAttribute("aria-label",null==(t=o.textContent)?void 0:t.trim())}))},isTargetElement:e=>{if(e.hasAttribute(Pa))return!1;if(!Ma.some((t=>e.matches(t))))return!1;const{display:t,visibility:r}=window.getComputedStyle(e);return"none"===t||"hidden"===r}}),Fa="REMEDIATION_SITE_LANGUAGE",Wa="data-uw-rm-lang",$a=["aa","ab","af","am","ar","as","ay","az","ba","be","bg","bh","bi","bn","bo","br","ca","ceb","co","cs","cy","da","de","div","dz","el","en","eo","es","et","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","ha","haw","he","hi","hr","hu","hy","ia","id","ie","ik","id","is","it","iw","ja","ji","jw","ka","kk","kl","km","kn","ko","kok","ks","ku","ky","kz","la","ln","lo","ls","lt","lv","mg","mi","mk","ml","mn","mo","mr","ms","mt","my","na","nb-no","ne","nl","nn-no","no","oc","om","or","pa","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sb","sd","sg","sh","si","sk","sl","sm","sn","so","sq","sr","sr-Latn","ss","st","su","sv","sw","sx","syr","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","uk","ur","us","uz","vi","vo","wo","xh","yi","yo","zh","zu","ilo","prs","eu","hmn","hy"],Ba=e=>{if(!e||e.length>e.trim().length)return!1;let t=e;return e.indexOf("-")>-1&&([t]=e.split("-")),e.indexOf("_")>-1&&([t]=e.split("_")),$a.includes(t.toLowerCase())},Ha=Un({ruleId:Fa,rule:({context:{elements:e}})=>{const{widgetCorrection:t,fixedItemsNumber:r}=(e=>{const t=Qe().Language,r=`${O(window.location.pathname)}`,n=t.find((e=>e.page===r)),o={fixedItemsNumber:0,widgetCorrection:{}};return n&&document.documentElement.setAttribute("lang",n.correction),e.forEach((e=>{let t=e.getAttribute("lang"),r=e.getAttribute("xml:lang"),n=!1;r&&!Ba(r)&&(e.removeAttribute("xml:lang"),r=null,n=!0),t&&!Ba(t)&&(e.removeAttribute("lang"),t=null,n=!0),e!==document.documentElement||t||(t=Ye||"en",e.setAttribute("lang",t),n=!0),t&&r&&t!==r&&(n=!0,e.setAttribute("xml:lang",t)),e.setAttribute(Wa,`${n}`),n&&o.fixedItemsNumber++})),o.widgetCorrection={count:o.fixedItemsNumber,lang:n},o})(e);yo(Fa,[t],r,0)},isTargetElement:e=>{const t=e.hasAttribute("lang")||!!e.hasAttribute("xml:lang"),r="HTML"===e.tagName,n=e.hasAttribute(Wa);return(t||r)&&!n}}),ja=e=>__async(this,null,(function*(){const t=UserWayWidgetApp.getLib("remediation_utils"),r=[];for(const o of e)!o.hasAttribute(er)&&r.indexOf(o)<0&&r.push(o);if(Ve.pdf.config.quotaExceeded)for(const e of r)e.setAttribute(er,rr.IN_PROCESSING_OR_QUOTA_EXCEEDED);else try{const e=yield t.sendBackEnd("/br-links/v0/pdf-links",null,{page:window.location.pathname,fullPage:window.location.href,links:r.map((e=>"A"===e.tagName?e.href:e.src))}),n=e&&e.response&&JSON.parse(e.response);for(let t=0;t<r.length;t++){const e=r[t],o=`${n.statuses[t]}`;[rr.INVALID_LINK,rr.VALID_LINK,rr.IN_PROCESSING_OR_QUOTA_EXCEEDED].indexOf(o)>-1&&e.setAttribute(er,`${o}`)}}catch(n){}})),Va=e=>e.substring(e.lastIndexOf("/")+1),qa={},Xa=e=>__async(this,null,(function*(){const t=[],r=[],n=[];for(let o=0;o<e.length;o++){let i=null;const a=e[o],l=e[o].nodeName;"A"===l?i=a.href:"IFRAME"===l&&(i=a.src);const s=null==i?void 0:i.split("?")[0];if(!s||!i)continue;const u=`${O(s)}`,c=Va(i),d=a.hasAttribute(Jt);if(qa[u]){const e=qa[u].rem_url;e&&!d&&(a.setAttribute(Qt,s),"A"===l?a.href=tr+e:"IFRAME"===l&&(a.src=tr+e),a.setAttribute(Jt,u)),n.indexOf(s)<0&&(r.push(__spreadProps(__spreadValues({},qa[u]),{name:c,pdf_url:s,pdf_link:"A"===l?a.innerText:a.title,pdf_isDone:!!e||d})),n.push(s))}else{const e=a.hasAttribute(er)&&a.getAttribute(er)===rr.VALID_LINK,p=a.hasAttribute(er)&&a.getAttribute(er)===rr.INVALID_LINK;e&&!d&&t.push({hash:u,url:s}),n.indexOf(s.toLowerCase())<0&&(r.push({pdf_url:i,pdf_hash:u,pdf_link:"A"===l?a.innerText:a.title,name:c,status:d?"DONE":null,validityCheckFailed:p,id:`not_created-${o}`,pdf_isDone:d}),n.push(s.toLowerCase()))}a.setAttribute(Zt,"")}return{widgetCorrectionsList:r,backendCorrectionsList:t}})),Ga=Un({ruleId:Yt,rule:e=>__async(this,[e],(function*({context:{elements:e}}){(()=>{const e=Qe().Pdfs;for(const t of e)qa[t.pdf_hash]=t})(),yield ja(e);const{widgetCorrectionsList:t,backendCorrectionsList:r}=yield Xa(e);yo(Yt,t,t.length,t.length,{items:r,path:"pdf",props:{page:window.location.pathname}})})),isTargetElement:nr});var Ka=(e=>(e.CONTENT="CONTENT",e.LEVEL="LEVEL",e.HIDE="HIDE",e))(Ka||{});function za(e){e.setAttribute("role","presentation"),e.setAttribute("aria-hidden","true"),e.setAttribute(bn,"hide");const t=C(An,"data-uw-rm-autofix-hide");e.appendChild(t)}const Ya=(e,t)=>{e.setAttribute("role","heading"),e.setAttribute("aria-level",`${t}`),e.setAttribute(gr,"level")},Za=e=>{if(!e)return 0;if(/(h\d)/i.test(e.nodeName))return+e.nodeName.slice(1);const t=e.getAttribute("aria-level");return t?+t:0},Ja=(e,t,r,n,o=0,i=!0,a=!0)=>({type:n,level:t,content:r,approved:i,xpath:R(e),autofix:a,previousLevel:o}),Qa=(e,t)=>{Object.assign(e,t)},el=["nav","navbar","navigation"];let tl=[];function rl(){const e=(()=>{const e=document.createElement("h1"),t=document.querySelector("main"),r=document.querySelector("[role=main]"),n=t||r;if(n){const t=document.title;return Ya(e,1),e.setAttribute("style","clip: rect(1px, 1px, 1px, 1px)!important;height:1px!important;width:1px!important;overflow:hidden!important;position:absolute!important;top:0!important;left:0!important;z-index:-1!important;opacity:0!important"),e.setAttribute(bn,"h1"),e.setAttribute("id","userway-h1-heading"),e.setAttribute("data-uw-rm-ignore",""),e.innerText=t,n.prepend(e),{headerElement:e,correction:{type:"ADD-H1",level:1,previousLevel:0,content:t,autofix:!0,approved:!1,xpath:R(e)}}}return{}})();e.correction&&e.headerElement&&(tl.push(e.correction),((e,t)=>{const r=e,{Headings:n}=Qe(),o=n.find((e=>e.xpath===t));if(!o)return!1;const{correction:i}=o;i&&(r.textContent=i),r.setAttribute(bn,"")})(e.headerElement,R(e.headerElement)))}function nl(e){var t;let r,n=0,o=0,i=!1;const a=`nav,[role="navigation"],${el.reduce(((e,t)=>(e.push(`[class*="-${t}"]`,`[class*="${t}-"]`,`[class="${t}"]`),e)),[]).join(",")}`;(null==(t=e[0])?void 0:t.closest(a))&&(n=Za(e[0])-1);for(const l of e){if(o++,l.hasAttribute("data-uw-ignore-rm-heading"))continue;r=Za(l);const e=_(l),t=Ja(l,r,e,Ka.CONTENT);if(!i){l.closest(a)||(i=!0,n=0,o=1)}if(1===r&&l.hasAttribute(bn)){n=1;continue}if((null==e?void 0:e.trim())&&1===r&&1!==o&&i&&(Ya(l,2),Qa(t,{previousLevel:1,approved:!1,type:Ka.LEVEL,level:2}),r=2),!(null==e?void 0:e.trim())){za(l),Qa(t,{content:An,type:Ka.HIDE,approved:!1}),tl.push(t);continue}const s=l.hasAttribute(Yr)&&"heading"===l.getAttribute("role");if(r>n+1&&!s){const e=n+1;Qa(t,{previousLevel:r,type:Ka.LEVEL,level:e,approved:!1}),Ya(l,e),n++,tl.push(t)}else n=r,tl.push(t)}}const ol=Un({ruleId:hn,rule:({context:{elements:e}})=>{e.length?nl(e):rl(),yo(hn,tl,document.querySelectorAll(`[${bn}]`).length,0),tl=[]},isTargetElement:e=>e.matches('h1, h2, h3, h4, h5, h6, [role="heading"]')&&!e.hasAttribute(bn)}),il="REMEDIATION_COLOR_CONTRAST",al="data-uw-rm-color-contrast",ll={AUTOFIX:"afix",PARSED:"prs",SET:"set"},sl=["radio","checkbox","hidden"],ul={color:"",background:""},cl=[],dl=()=>cl;let pl=!1;const ml=()=>pl,fl=e=>{pl=e};let gl=!1;const hl=e=>{gl=e};let bl=!1;const Al=[],yl=e=>{Al.push(...e)},El=()=>Al.map((({xpath:e})=>e));let vl=[];const wl=e=>{vl.push(...e)},_l=()=>vl,Nl=()=>{vl=vl.filter((({xpath:e})=>!El().includes(e)))};let Tl=[];const xl=e=>{Tl.push(...e)},Il=()=>Tl,Ll=e=>{const t=UserWayWidgetApp.getLib("inlineStyling");e.forEach((e=>{e.setAttribute(al,ll.PARSED),t.resetInlineStyles(e,al,ul)}))},Sl=e=>{if(!e)return["0","0","0","0","rgba(0,0,0,0)"];const t=e.replace(/[^\d,.]/g,"").split(",");return t[3]||(t[3]="1"),t[4]=e,t},Cl=e=>{const{color:t}=getComputedStyle(e);return Sl(t)},Ol=e=>{const t=getComputedStyle(e);return t.backgroundImage.includes("url")||t.background.includes("url")},Rl=e=>e.startsWith("rgba")&&e.includes(",")&&0===parseFloat(e.split(",")[3])||"transparent"===e,kl=e=>__async(this,null,(function*(){const t=getComputedStyle(e),r=document.body===e,n=t.background.includes("linear-gradient"),o=Ol(e),i=new RegExp(/rgba?\(((25[0-5]|2[0-4]\d|1\d{1,2}|\d\d?)\s*,\s*?){2}(25[0-5]|2[0-4]\d|1\d{1,2}|\d\d?)\s*,?\s*([01]\.?\d*?)?\)/g);if(!r&&Rl(t.backgroundColor)&&!n&&!o&&e.parentElement)return kl(e.parentElement);let a;if(n&&Rl(t.backgroundColor)&&(a=(t.background.match(i)||[]).find((e=>!Rl(e)))),o&&Rl(t.backgroundColor)){if([".svg"].some((e=>t.backgroundImage.includes(e)||t.background.includes(e)))&&e.parentElement)return kl(e.parentElement);const r=(e=>{var t,r;if(null==(t=e.backgroundImage)?void 0:t.includes("url"))return e.backgroundImage.slice(4,-1).replace(/['"]/g,"");const n=null==(r=e.background)?void 0:r.match(/url\(["']?([^"']*)["']?\)/);return n?n[1]:null})(t);try{r&&(a=yield(l=r,new Promise(((e,t)=>{const r=document.createElement("canvas").getContext("2d");if(!r)return void t(new Error("Unable to get canvas context"));const n=new Image;n.setAttribute("crossOrigin",""),n.src=l,n.addEventListener("load",(()=>{r.imageSmoothingEnabled=!0,r.drawImage(n,0,0);const t=r.getImageData(0,0,1,1).data.slice(0,3);e((e=>`rgb(${e.join(",")})`)(t))})),n.addEventListener("error",(e=>{console.warn("Image color recognition error:",l),t(e)}))}))))}catch(s){if(e.parentElement)return kl(e.parentElement)}if("rgb(0,0,0)"===a&&e.parentElement)return kl(e.parentElement)}var l;return a=Sl(a||t.backgroundColor),(e=>!(parseFloat(e.opacity)<1||e.filter&&"none"!==e.filter))(t)||(a[3]=".1"),{backgroundColor:a,targetElement:e}})),Dl=(e,t)=>{const r=__pow(10,t||0);return Math.round(e*r)/r};class Ml{constructor(e){const t=[...e];"0"===t[3]&&(t[3]="1"),this.rgba=t.map((e=>Dl(Number(e),3)))}get rgb(){var e;return null==(e=this.rgba)?void 0:e.slice(0,3)}get alpha(){return this.rgba[3]}set alpha(e){this.rgba[3]=e}get luminance(){const e=this.rgba.slice();for(let t=0;t<3;t++){let r=e[t];r/=255,r<.03928?r/=12.92:r=__pow((r+.055)/1.055,2.4),e[t]=r}return.2126*e[0]+.7152*e[1]+.0722*e[2]}clone(){return new Ml(this.rgba)}isLight(){const e=(this.luminance+.05)/.05;return 1.05/(this.luminance+.05)<e}overlayOn(e){const t=this.clone(),r=this.alpha;if(r>=1)return t;for(let n=0;n<3;n++)t.rgba[n]=t.rgba[n]*r+e.rgba[n]*e.rgba[3]*(1-r);return t.rgba[3]=r+e.rgba[3]*(1-r),t}contrast(e){const t={ratio:null};if(this.alpha<1)return t;let r=e;e.alpha<1&&(r=e.overlayOn(this));const n=this.luminance+.05,o=r.luminance+.05,i=n/o;return t.ratio=o>n?1/i:i,t}}const Pl=e=>72*Number(e.substring(0,e.length-2))/96,Ul=(e,t)=>e>=18||e>=14&&("bold"===t||parseInt(t,10)>=700),Fl=e=>{if(String(e).includes(".")){const t=String(e).split(".");return 1===t.length?Number(e):Number(`${t[0]}.${t[1].charAt(0)}${t[1].charAt(1)}`)}return Number(e)},Wl=(e,t,r,n)=>{const o={ratio:null,contrastRatio:null},i=new Ml(t),a=new Ml(r),l=i.contrast(a),{ratio:s}=l;if(!s)return;o.ratio=Number(s),o.contrastRatio=`${s}:1`;const u=window.getComputedStyle(e),c=u.getPropertyValue("font-size"),d=u.getPropertyValue("font-weight"),p=Pl(c),m=((e,t)=>{if(ml()){if(e&&t<4.5)return 4.5;if(t<7)return 7}return e&&t<3?3:t<4.5?4.5:null})(Ul(p,d),s);return m?{contrastData:{passRatio:m,ratio:Fl(o.ratio),foreground:t,background:r,backgroundColorParentElement:n},isLightFg:i.isLight(),isLightBg:a.isLight(),expectedRatio:m,tagName:e.tagName,xpath:R(e),fontSize:p}:void 0},$l=e=>__async(this,null,(function*(){return(yield Promise.all(e.map((e=>__async(this,null,(function*(){Il().map((({xpath:e})=>e)).includes(R(e))||e.setAttribute(al,ll.PARSED);const t=Cl(e);let{backgroundColor:r,targetElement:n}=yield kl(e);if(t.join("")===r.join(""))return null;return"0"===r[3]&&(r=["255","255","255","1","rgb(255, 255, 255)"]),Ol(n)&&(n=e),Wl(e,t,r,n)})))))).filter((e=>null!=e))}));class Bl{constructor(){this.D65=[95.047,100,108.883]}rgbToXyz(e){const[t,r,n]=e.map((e=>e/255)).map(this.sRGBtoLinearRGB);return[.4124*t+.3576*r+.1805*n,.2126*t+.7152*r+.0722*n,.0193*t+.1192*r+.9505*n].map((e=>100*e))}sRGBtoLinearRGB(e){return e<=.04045?e/12.92:__pow((e+.055)/1.055,2.4)}xyzToLab([e,t,r]){const[n,o,i]=[e,t,r].map(((e,t)=>{const r=e/this.D65[t];return r>.008856?__pow(r,1/3):7.787*r+16/116}));return[116*o-16,500*(n-o),200*(o-i)]}findL(e){return 116*__pow(e,1/3)-16}labToRgb(e){let t,r,n,o=(e[0]+16)/116,i=e[1]/500+o,a=o-e[2]/200;return i=.95047*(i*i*i>.008856?i*i*i:(i-16/116)/7.787),o=1*(o*o*o>.008856?o*o*o:(o-16/116)/7.787),a=1.08883*(a*a*a>.008856?a*a*a:(a-16/116)/7.787),t=3.2406*i+-1.5372*o+-.4986*a,r=-.9689*i+1.8758*o+.0415*a,n=.0557*i+-.204*o+1.057*a,t=t>.0031308?1.055*__pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*__pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*__pow(n,1/2.4)-.055:12.92*n,[255*Math.max(0,Math.min(1,t)),255*Math.max(0,Math.min(1,r)),255*Math.max(0,Math.min(1,n))].map((e=>Dl(e)))}}const Hl=(e,t,r,n=!1)=>{const o=new Bl,i=new Ml(e),a=new Ml(t),l=(()=>{const e=i.isLight(),t=a.isLight();if(e&&t||!e&&!t){if(i.luminance===a.luminance){const t=0===i.luminance,r=1===i.luminance;return!(!t||!n)||(!r||!n)&&e}return i.luminance>a.luminance}return e})(),s=((e=4.5,t,r)=>{let n,o=0;return o=r?(e+.05)*(t+.05)-.05:(t+.05)/e-.05,n=o<0?0:o>1?1:o,n})(r,a.luminance,l),u=e.slice(0,3).map(Number),c=o.rgbToXyz(u),[,d,p]=o.xyzToLab(c),m=o.findL(s)+(l?1:-1);return`rgb(${o.labToRgb([m,d,p]).join(",")})`},jl=e=>{let t=[];((e,t)=>{let r;{const e=t.split(".");r=e.length>1?t=>e.reduce(((e,t)=>{if(e&&"object"==typeof e&&t in e)return e[t]}),t):e=>e[t]}return e.reduce(((e,t)=>{const n=r(t),o=e.get(n)||[];return e.set(n,[...o,t]),e}),new Map)})(e,"contrastData.backgroundColorParentElement").forEach(((e,r)=>{const[n,...o]=e;!o.length||o.every((e=>e.contrastData.foreground[4]===n.contrastData.foreground[4]))?t.push(__spreadProps(__spreadValues({},n),{tagName:r.tagName,xpath:R(r),childrenIssues:e.map((e=>e.xpath))})):t=t.concat(e)}));return t.map((e=>{const{expectedRatio:t,contrastData:{foreground:r,background:n}}=e;let o=n[4];const i=new Ml(n),a=Hl(r,n,t),l=Sl(a),s=new Ml(l),{ratio:u}=s.contrast(i);return u&&u<t&&(o=Hl(n,l,t,!0)),__spreadProps(__spreadValues({},e),{suggestion:{foreground:a,background:o}})}))},Vl=e=>e.map((e=>__spreadProps(__spreadValues({},e),{contrastData:__spreadProps(__spreadValues({},e.contrastData),{backgroundColorParentElement:null})}))),ql=(e,t,r,n=!0)=>__async(this,null,(function*(){var o;const i=UserWayWidgetApp.getLib("inlineStyling"),a=null==(o=t.childrenIssues)?void 0:o.map((e=>V(e))).filter((e=>!!e&&"boolean"!=typeof e)),{background:l,foreground:s}=t,u=_l(),c=[];if(null==a?void 0:a.length)i.applyInlineStyles(e,al,{background:l}),e.setAttribute(al,r?ll.AUTOFIX:ll.SET),a.forEach(((e,n)=>{i.applyInlineStyles(e,al,{color:s}),null==e||e.setAttribute(al,r?ll.AUTOFIX:ll.SET),c.push(__spreadProps(__spreadValues({},t),{xpath:t.childrenIssues?t.childrenIssues[n]:t.xpath}))}));else{const n={color:s,background:l};i.applyInlineStyles(e,al,n),e.setAttribute(al,r?ll.AUTOFIX:ll.SET),c.push(t)}if(!r&&n){yl(c);const e=El(),t=u.filter((({xpath:t})=>e.includes(t)));xl(t),Nl()}!ml()&&r&&(Ve.contrast.config.autofix=!0)})),Xl=(e,t,r)=>{$l(e).then((e=>{var r,n;if(e){const o=jl(e);if(wl(o),Nl(),(()=>{var e;if(!(null==(e=null==Ve?void 0:Ve.contrast)?void 0:e.enabled))return;const t=UserWayWidgetApp.getLib("remediation_manager"),r=UserWayWidgetApp.getLib("remediation_helper_outcome");if(!r.of)return;const n=_l(),o=n.concat(Il()),i=r.of(il,{items:Vl(o),acceptedFixes:El(),autofix:Ve.contrast.config.autofix},null,n.length,0);t.HelperCallbackAggregator.onHelperRemediationCompleted(i)})(),t)for(const e of o){const t=V(e.xpath);if(t){const o={xpath:e.xpath,background:(null==(r=e.suggestion)?void 0:r.background)||"",foreground:(null==(n=e.suggestion)?void 0:n.foreground)||"",childrenIssues:e.childrenIssues};ql(t,o,!0)}}}}))},Gl=()=>{const e=UserWayWidgetApp.getLib("inlineStyling"),t=Object.keys(ll).map((e=>ll[e])).filter((e=>e!==ll.SET)).map((e=>`[${al}=${e}]`)).join(", ");[].slice.call(document.querySelectorAll(t)).forEach((t=>{t.getAttribute(al)===ll.AUTOFIX&&e.resetInlineStyles(t,al,ul),t.removeAttribute(al)})),vl=[]},Kl=()=>{Gl(),fl(!1),hl(!1),Il().forEach((e=>{var t,r;const n=q(e.xpath);if(n){const o={xpath:e.xpath,background:(null==(t=e.suggestion)?void 0:t.background)||"",foreground:(null==(r=e.suggestion)?void 0:r.foreground)||"",childrenIssues:e.childrenIssues};ql(n,o,!1)}}))},zl=(e,t)=>__async(this,[e,t],(function*(e,{background:t,foreground:r,xpath:n,childrenIssues:o}){const i=Cl(e),{backgroundColor:a,targetElement:l}=yield kl(e);let s=l;Ol(s)&&(s=e);const u=window.getComputedStyle(e),c=u.getPropertyValue("font-size"),d=u.getPropertyValue("font-weight"),p=Pl(c),m=Ul(p,d)?3:4.5;return{contrastData:{passRatio:m,ratio:m,foreground:i,background:a,backgroundColorParentElement:s},suggestion:{foreground:r,background:t},expectedRatio:m,tagName:e.tagName,xpath:n,fontSize:p,childrenIssues:o}})),Yl=()=>__async(this,null,(function*(){const{Contrast:e}=Qe();e.length&&!bl&&(bl=!0,yl(e),e.map((e=>__async(this,null,(function*(){const t=e.xpath&&V(e.xpath);if(!t)return;ql(t,e,!1,!1);const r=yield zl(t,e);xl([r])})))))})),Zl=Un({ruleId:il,rule:({context:{elements:e}})=>{var t;const{config:r,enabled:n}=null!=(t=null==Ve?void 0:Ve.contrast)?t:{};(e=>{cl.push(...e)})(e);const o=Boolean(Ke["userway-s18"].value);fl(o),n&&Yl(),((null==r?void 0:r.autofix)&&n||o)&&(hl(!0),Xl(e,!0))},isTargetElement:e=>!(e.hasAttribute(al)||e.hasAttribute("data-uw-rm-ignore")||h(e))&&(e=>{var t;if("INPUT"===e.tagName&&!sl.includes(e.type)||"TEXTAREA"===e.tagName||"SELECT"===e.tagName&&e.options.length>0)return!0;let r=!1,n=0;for(;!r&&n<e.childNodes.length;){const o=e.childNodes[n];o.nodeType===Node.TEXT_NODE&&(null==(t=o.nodeValue)?void 0:t.trim())&&(r=!0),++n}return r})(e),postMessageApi:{"enable-color-contrast":()=>{var e;if((null==(e=null==Ve?void 0:Ve.contrast)?void 0:e.enabled)&&(ml()&&Kl(),!gl)){hl(!0);const e=dl();Xl(e,!1)}},"enable-smart-contrast":()=>{Gl(),fl(!0),hl(!0),Xl(dl(),!0)},"disable-smart-contrast":Kl,"fix-color-contrast":e=>{e.forEach((e=>{const t=V(e.xpath);t&&ql(t,e,!1)}))},"fix-all-color-contrast":()=>{_l().forEach((e=>{var t,r;const n=V(e.xpath);n&&!(e=>{const t=e.getAttribute(al);return null!==t&&[ll.AUTOFIX,ll.SET].includes(t)})(n)&&ql(n,{xpath:e.xpath,background:(null==(t=e.suggestion)?void 0:t.background)||"",foreground:(null==(r=e.suggestion)?void 0:r.foreground)||"",childrenIssues:e.childrenIssues},!0)})),Ve.contrast.config.autofix=!0},"reset-all":()=>{const e=[...document.querySelectorAll(`[${al}]`)];Ll(e),Al.length=0,wl(Il()),Tl=[]},"reset-autofixed":()=>{Ve.contrast.config.autofix=!1;const e=[].slice.call(document.querySelectorAll(`[${al}=${ll.AUTOFIX}]`));Ll(e)}}}),Jl=new WeakMap,Ql=(e,t)=>{Jl.set(e,t)},es=e=>Jl.get(e),ts=Un({ruleId:xe,rule:({context:{elements:e}})=>{let t=0;for(const r of e){const e=es(r);if(e)switch(r.setAttribute(Ie,""),e){case Se:case Ce:_e(r)||r.setAttribute("tabindex","0"),ve(r),t++;break;case Oe:_e(r)||r.setAttribute("tabindex","0"),"pointer"===window.getComputedStyle(r).cursor&&ve(r),t++}}yo(xe,null,t,0)},isTargetElement:e=>{if(e.hasAttribute(Ie)||!v(e,{skipCheckingOutOfView:!0})||(e=>{if(!e||!e.matches)return!1;try{return e.matches(b)}catch(t){return!1}})(e)||(e=>{const t=Array.from(e.querySelectorAll(A));if(!t.length)return!1;for(const r of t)if(v(r,{skipCheckingOutOfView:!0}))return!0;return!1})(e))return!1;const t=e.getAttribute("role")||"",r=e.hasAttribute("tabindex");if(Le.includes(t)&&!r)return Ql(e,Se),!0;if("a"===e.tagName.toLowerCase()&&!e.href&&!r&&!t)return Ql(e,Oe),!0;let n=!1,o=!1;const i=oe(e);for(const a of Re)if(e.hasAttribute(a)&&!i){o=!1,n=!0;for(const t of ke)e.hasAttribute(t)&&(o=!0)}return!(!n||o)&&(Ql(e,Ce),!0)}}),rs=["close","dismiss"],ns=e=>{let t=[];try{const r=e.querySelectorAll("button, a, div, span, input, img, svg, i");t=Array.from(r)}catch(o){console.error(o)}const r=Math.min(100,.1*window.innerWidth),n=t.filter((e=>{const t=e.offsetWidth,n=e.offsetHeight;if(t<=0||n<=0||t>r)return!1;const o=e.getAttribute("aria-label")||"",i=e.getAttribute("title")||"",a=e.getAttribute("alt")||"";if(rs.some((t=>[o,i,a,e.className].some((e=>e.toLowerCase().includes(t))))))return!0;for(const r of e.attributes){const e=r.value.toLowerCase();if(rs.some((t=>e.includes(t))))return!0}return!1}));return n.length>0?n[0]:null},os=e=>e.className.includes("backdrop"),is=e=>{const t=e.parentElement;if(!t)return null;if(os(t))return t;try{const e=t.querySelectorAll("*");for(const t of e)if(os(t)&&E(t))return t}catch(r){console.error(r)}return null},as=(e,t)=>{t.setAttribute("data-uw-cer-popup-close",""),ve(t),e.addEventListener("keydown",(e=>{ue(e)&&(e.preventDefault(),t.click())})),t.textContent&&Q(t.textContent)||I(t)||t.setAttribute("aria-label","Close dialog"),["INPUT","BUTTON","A"].includes(t.tagName)||t.hasAttribute("role")||(t.setAttribute("role","button"),t.setAttribute("tabindex","0"))},ls=(e,t)=>{const r=[],n=e.querySelectorAll(A);for(let o=0;o<n.length;o++){const e=n[o];E(e,{skipCheckingAncestors:!0})&&!e.hasAttribute("data-uw-rm-ignore")&&e!==t&&r.push(e)}return r},ss=(e,t)=>Math.abs(e-t)/((e+t)/2)*100,us=Un({ruleId:De,rule:({context:{elements:e}})=>{const t=UserWayWidgetApp.getLib("event_emitter");for(const r of e){t.emitEvent("UW_CER_POPUP_FOUND",[r]),r.setAttribute(Pe,"");const e=ns(r);if(e)as(r,e);else{const e=is(r);e&&r.addEventListener("keydown",(t=>{ue(t)&&(t.preventDefault(),e.click())}))}const n=ls(r,e);we(e?[...n,e]:n,r),n.length||null==e||e.focus()}},isTargetElement:e=>{if(e.hasAttribute(Pe))return!1;if(!Me.includes(e.tagName))return!1;const t="true"===e.getAttribute("aria-modal"),r="dialog"===e.getAttribute("role")||"alertdialog"===e.getAttribute("role");if(t||r)return!0;const n=window.getComputedStyle(e);if(!E(e,{checkOutOfWindow:!0}))return!1;const o="fixed"===n.position,i=parseFloat(n.width),a=parseFloat(n.height),l=ss(i,document.body.offsetWidth),s=ss(a,document.body.offsetHeight);if(o&&i&&a&&(l>=10&&s>=10))return!0;const u=e.hasAttribute("popover"),c=e.matches(":popover-open");return!!(u&&c&&o)}}),cs="data-uw-rm-str-pr",ds="data-uw-str-pr-target",ps=["textarea","select"],ms=["text","password","submit","reset","button","date","datetime-local","email","file","month","number","search","tel","time","url","week"],fs=["CAPTION","CODE","EM","SUP","SUB","INS","P","STRONG","B","MARK","I","U","CITE","SUGGESTION","TERM","TIME","SPAN","DIV","STRIKE","S","DEL"],gs=["caption","code","emphasis","superscript","subscript","insertion","paragraph","strong","mark","suggestion","term","time","presentation","none"],hs=e=>{const{tagName:t}=e,r=e.getAttribute("role")||"";return fs.includes(t)||gs.includes(r)},bs=e=>{var t;const r=e.tagName.toLowerCase();if("s"===r||"strike"===r||"del"===r)return!0;if((null==(t=window.getComputedStyle(e).getPropertyValue("text-decoration"))?void 0:t.indexOf("line-through"))>-1)return!0;const n=e.parentElement;return!(!n||"BODY"===n.tagName.toUpperCase())&&bs(n)},As=e=>{const t=e.match(/\s*(?:([\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6])[^0-9.]*([\d,.]+)|([\d,.]+)[^0-9.]*([\$\xA2-\xA5\u058F\u060B\u09F2\u09F3\u09FB\u0AF1\u0BF9\u0E3F\u17DB\u20A0-\u20BD\uA838\uFDFC\uFE69\uFF04\uFFE0\uFFE1\uFFE5\uFFE6]))\s*/i);return t?{currency:t[1]||t[4]||null,price:t[2]||t[3]||null}:null},ys="data-uw-rm-broken-menu",Es="data-uw-br-menu-target",vs=e=>{const t=Array.from(e.children),r=t.filter((e=>"LI"===e.tagName&&!e.hasAttribute("role")));if(r.length)return r;const n=t.filter((e=>!e.hasAttribute("role")&&(["A","BUTTON"].includes(e.tagName)||e.hasAttribute("tabindex"))));return n.length?n:[]},ws="data-uw-rm-br-ar-ref-lb",_s="data-uw-rm-br-ar-ref-db",Ns="data-uw-br-ar-ref",Ts=(e,t)=>{var r,n;let o=0;for(const i of e){i.removeAttribute(Ns);const e=(null==(n=null==(r=i.getAttribute(t))?void 0:r.split(" "))?void 0:n.filter(Boolean))||[],a=[],l=[];for(let t=0;t<e.length;t++){const r=e[t];document.getElementById(r)?a.push(r):l.push(r)}l.length&&(i.setAttribute("aria-labelledby"===t?ws:_s,""),i.setAttribute(Wr,""),i.setAttribute(`data-uw-rm-br-ar-ref-ids-${t}`,l.join(" ")),a.length?i.setAttribute(t,a.join(" ")):i.removeAttribute(t)),o+=l.length}return o},xs=(e,t)=>e.filter((e=>null!==e.getAttribute(t))),Is=e=>{return!(!(e=>{const t=e.textContent;if(!t)return!1;const r=T(t);return!(!(null==r?void 0:r.length)||!(null==e?void 0:e.parentNode))})(e)||(t=e,!Array.from(t.childNodes).some((e=>{var t;return e.nodeType===Node.TEXT_NODE&&""!==(null==(t=null==e?void 0:e.textContent)?void 0:t.trim())}))))||!!(e=>{var t;if(e.nodeType!==Node.ELEMENT_NODE)return!1;const r=e.tagName.toLowerCase();if(ps.includes(r))return!0;if("input"===r){const r=(null!=(t=e.getAttribute("type"))?t:"").toLowerCase();if(ms.includes(r)||!r)return!0}return!1})(e);var t},Ls=Un({ruleId:Fr,rule:({context:{elements:e}})=>{const{strikeThroughPriceRuleElements:t,brokenAriaReferencesRuleElements:r,brokenMenusRuleElements:n}=(e=>{const t=xs(e,ds),r=xs(e,Es);return{strikeThroughPriceRuleElements:t,brokenAriaReferencesRuleElements:xs(e,Ns),brokenMenusRuleElements:r}})(e),o=(e=>{let t=0;for(const r of e){r.removeAttribute(ds);const e=T(r.innerText),n=As(e);if(!n)continue;const{price:o,currency:i}=n;o&&i&&(bs(r)&&(r.setAttribute("aria-label",`Previous price was ${i}${o}`),hs(r)&&r.setAttribute("role","img"),r.setAttribute(cs,"price"),r.setAttribute(Wr,"price"),t++))}return t})(t),i=(e=>Ts(e,"aria-labelledby")+Ts(e,"aria-describedby"))(r),a=(e=>{let t=0;for(const r of e){if(r.removeAttribute(Es),Array.from(r.querySelectorAll('*[role="menuitem"], *[role="menuitemcheckbox"], *[role="menuitemradio"]')).length)continue;const e=vs(r);e.length&&(t++,r.setAttribute(ys,""),r.setAttribute(Wr,""));for(const t of e)t.setAttribute("role","menuitem"),t.setAttribute(ys,"menuitem"),t.setAttribute(Wr,"menuitem");if(!e.length&&!E(r)){const e=`${ys}-role`,t=r.getAttribute("role");t&&(r.setAttribute(e,t),r.removeAttribute("role")),X(r,(()=>{if(r.hasAttribute(e)){const t=r.getAttribute(e);t&&(r.removeAttribute(e),r.setAttribute("role",t))}}))}}return t})(n);yo(Fr,null,o+a+i,0)},isTargetElement:e=>{const t=(e=>!(e.getAttribute(cs)||h(e)||!Is(e)||(e.setAttribute(ds,""),0)))(e),r=(e=>{if(e.getAttribute(ys))return!1;const t=e.getAttribute("role");return("menu"===t||"menubar"===t)&&(e.setAttribute(Es,""),!0)})(e),n=(e=>!(null!==e.getAttribute(ws)&&null!==e.getAttribute(_s)||!e.getAttribute("aria-labelledby")&&!e.getAttribute("aria-describedby")||(e.setAttribute(Ns,""),0)))(e);return t||r||n}});let Ss={};const Cs=e=>{Ss=e},Os=e=>{var t,r,n,o,i,a;const l=qe.widget_color||"#0018FF";return{enabled:e.enabled,config:{style:{color:(null==(r=null==(t=e.config)?void 0:t.style)?void 0:r.color)||l,width:(null==(o=null==(n=e.config)?void 0:n.style)?void 0:o.width)||$e,style:(null==(a=null==(i=e.config)?void 0:i.style)?void 0:a.style)||Be}}}},Rs=()=>Os(Ss),ks=()=>{var e;return null!=(e=null==qe?void 0:qe.new_focus_rule)&&e},Ds=()=>{var e,t,r;const{config:{style:n={}}}=Rs();return{outline:`${null!=(e=null==n?void 0:n.width)?e:""} ${null!=(t=null==n?void 0:n.style)?t:""} ${null!=(r=n.color)?r:""}`,"outline-offset":n.width?`-${n.width}`:""}},Ms=e=>{if(!(e=>!We.some((t=>e.hasAttribute(t))))(e))return;const t=UserWayWidgetApp.getLib("inlineStyling"),r=Ds();t.applyInlineStyles(e,Fe,r),e.setAttribute(Fe,"")};let Ps=!1;function Us(){Ps=!1}function Fs(){Ps=!0}function Ws(e){const t=e.target;t&&Ps&&Ms(t)}function $s(e){const t=e.target;t&&(e=>{if(e instanceof HTMLElement&&e.hasAttribute(Fe)){const t=Ds();UserWayWidgetApp.getLib("inlineStyling").resetInlineStyles(e,Fe,t),e.removeAttribute(Fe)}})(t)}function Bs(e,t=document){const r=e?"addEventListener":"removeEventListener";t[r]("mousedown",Us),t[r]("keydown",Fs),t[r]("focusin",Ws),t[r]("focusout",$s)}const Hs=()=>{const{enabled:e,config:t={}}=Rs(),{style:r}=t,n={enabled:e,width:null==r?void 0:r.width,style:null==r?void 0:r.style,color:null==r?void 0:r.color};return UserWayWidgetApp.getLib("util").postMessage({action:"remediation",type:"custom-focus-get",data:n}),n},js=({data:e})=>{const{enabled:t,update:r}=e;Cs({enabled:t,config:{style:r}}),Bs(t)},Vs=UserWayWidgetApp.addLib("REMEDIATION_FOCUS_STYLE");ks()&&(Vs.addStyles=Ms,Vs.getFocusStyle=Hs,Vs.updateOutlineStyle=js);let qs={};ks()||(qs={});const Xs=[[Ui,wi,ui,ki,Zo,la,Ea,Zl,Ua,Ha,Da],[Zi,Ai,ea,Na,Ga,ts],[ol,us,ro]],Gs=[[Ls],[Un({ruleId:Ue,rule:()=>{(()=>{const{config:e={},enabled:t}=Ve.customFocus;if("string"==typeof(null==e?void 0:e.style))try{e.style=JSON.parse(e.style)}catch(n){console.log(n)}const r=Os({config:e,enabled:t});Cs(r)})(),ks()&&Bs(!0)},postMessageApi:qs})]],Ks=Object.freeze(Object.defineProperty({__proto__:null,RulesGroups:Xs,RulesGroupsOnce:Gs},Symbol.toStringTag,{value:"Module"})),zs=[[Zl]],Ys=(Symbol.toStringTag,[Zo]),Zs=[Ys];Symbol.toStringTag}();
